var K1=Object.defineProperty;var Y1=(r,t,i)=>t in r?K1(r,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):r[t]=i;var q=(r,t,i)=>Y1(r,typeof t!="symbol"?t+"":t,i);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const u of a)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(a){const u={};return a.integrity&&(u.integrity=a.integrity),a.referrerPolicy&&(u.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?u.credentials="include":a.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(a){if(a.ep)return;a.ep=!0;const u=i(a);fetch(a.href,u)}})();function X1(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var ac={exports:{}},cs={},uc={exports:{}},Re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mp;function Z1(){if(mp)return Re;mp=1;var r=Symbol.for("react.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),d=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),C=Symbol.iterator;function m(B){return B===null||typeof B!="object"?null:(B=C&&B[C]||B["@@iterator"],typeof B=="function"?B:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,D={};function x(B,b,we){this.props=B,this.context=b,this.refs=D,this.updater=we||M}x.prototype.isReactComponent={},x.prototype.setState=function(B,b){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,b,"setState")},x.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function A(){}A.prototype=x.prototype;function N(B,b,we){this.props=B,this.context=b,this.refs=D,this.updater=we||M}var _=N.prototype=new A;_.constructor=N,S(_,x.prototype),_.isPureReactComponent=!0;var K=Array.isArray,W=Object.prototype.hasOwnProperty,P={current:null},T={key:!0,ref:!0,__self:!0,__source:!0};function U(B,b,we){var Ee,Me={},Pe=null,Be=null;if(b!=null)for(Ee in b.ref!==void 0&&(Be=b.ref),b.key!==void 0&&(Pe=""+b.key),b)W.call(b,Ee)&&!T.hasOwnProperty(Ee)&&(Me[Ee]=b[Ee]);var De=arguments.length-2;if(De===1)Me.children=we;else if(1<De){for(var Oe=Array(De),st=0;st<De;st++)Oe[st]=arguments[st+2];Me.children=Oe}if(B&&B.defaultProps)for(Ee in De=B.defaultProps,De)Me[Ee]===void 0&&(Me[Ee]=De[Ee]);return{$$typeof:r,type:B,key:Pe,ref:Be,props:Me,_owner:P.current}}function V(B,b){return{$$typeof:r,type:B.type,key:b,ref:B.ref,props:B.props,_owner:B._owner}}function Y(B){return typeof B=="object"&&B!==null&&B.$$typeof===r}function te(B){var b={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(we){return b[we]})}var oe=/\/+/g;function ge(B,b){return typeof B=="object"&&B!==null&&B.key!=null?te(""+B.key):b.toString(36)}function ve(B,b,we,Ee,Me){var Pe=typeof B;(Pe==="undefined"||Pe==="boolean")&&(B=null);var Be=!1;if(B===null)Be=!0;else switch(Pe){case"string":case"number":Be=!0;break;case"object":switch(B.$$typeof){case r:case t:Be=!0}}if(Be)return Be=B,Me=Me(Be),B=Ee===""?"."+ge(Be,0):Ee,K(Me)?(we="",B!=null&&(we=B.replace(oe,"$&/")+"/"),ve(Me,b,we,"",function(st){return st})):Me!=null&&(Y(Me)&&(Me=V(Me,we+(!Me.key||Be&&Be.key===Me.key?"":(""+Me.key).replace(oe,"$&/")+"/")+B)),b.push(Me)),1;if(Be=0,Ee=Ee===""?".":Ee+":",K(B))for(var De=0;De<B.length;De++){Pe=B[De];var Oe=Ee+ge(Pe,De);Be+=ve(Pe,b,we,Oe,Me)}else if(Oe=m(B),typeof Oe=="function")for(B=Oe.call(B),De=0;!(Pe=B.next()).done;)Pe=Pe.value,Oe=Ee+ge(Pe,De++),Be+=ve(Pe,b,we,Oe,Me);else if(Pe==="object")throw b=String(B),Error("Objects are not valid as a React child (found: "+(b==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":b)+"). If you meant to render a collection of children, use an array instead.");return Be}function Se(B,b,we){if(B==null)return B;var Ee=[],Me=0;return ve(B,Ee,"","",function(Pe){return b.call(we,Pe,Me++)}),Ee}function fe(B){if(B._status===-1){var b=B._result;b=b(),b.then(function(we){(B._status===0||B._status===-1)&&(B._status=1,B._result=we)},function(we){(B._status===0||B._status===-1)&&(B._status=2,B._result=we)}),B._status===-1&&(B._status=0,B._result=b)}if(B._status===1)return B._result.default;throw B._result}var ue={current:null},Z={transition:null},re={ReactCurrentDispatcher:ue,ReactCurrentBatchConfig:Z,ReactCurrentOwner:P};function $(){throw Error("act(...) is not supported in production builds of React.")}return Re.Children={map:Se,forEach:function(B,b,we){Se(B,function(){b.apply(this,arguments)},we)},count:function(B){var b=0;return Se(B,function(){b++}),b},toArray:function(B){return Se(B,function(b){return b})||[]},only:function(B){if(!Y(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},Re.Component=x,Re.Fragment=i,Re.Profiler=a,Re.PureComponent=N,Re.StrictMode=s,Re.Suspense=p,Re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=re,Re.act=$,Re.cloneElement=function(B,b,we){if(B==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+B+".");var Ee=S({},B.props),Me=B.key,Pe=B.ref,Be=B._owner;if(b!=null){if(b.ref!==void 0&&(Pe=b.ref,Be=P.current),b.key!==void 0&&(Me=""+b.key),B.type&&B.type.defaultProps)var De=B.type.defaultProps;for(Oe in b)W.call(b,Oe)&&!T.hasOwnProperty(Oe)&&(Ee[Oe]=b[Oe]===void 0&&De!==void 0?De[Oe]:b[Oe])}var Oe=arguments.length-2;if(Oe===1)Ee.children=we;else if(1<Oe){De=Array(Oe);for(var st=0;st<Oe;st++)De[st]=arguments[st+2];Ee.children=De}return{$$typeof:r,type:B.type,key:Me,ref:Pe,props:Ee,_owner:Be}},Re.createContext=function(B){return B={$$typeof:d,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},B.Provider={$$typeof:u,_context:B},B.Consumer=B},Re.createElement=U,Re.createFactory=function(B){var b=U.bind(null,B);return b.type=B,b},Re.createRef=function(){return{current:null}},Re.forwardRef=function(B){return{$$typeof:y,render:B}},Re.isValidElement=Y,Re.lazy=function(B){return{$$typeof:E,_payload:{_status:-1,_result:B},_init:fe}},Re.memo=function(B,b){return{$$typeof:g,type:B,compare:b===void 0?null:b}},Re.startTransition=function(B){var b=Z.transition;Z.transition={};try{B()}finally{Z.transition=b}},Re.unstable_act=$,Re.useCallback=function(B,b){return ue.current.useCallback(B,b)},Re.useContext=function(B){return ue.current.useContext(B)},Re.useDebugValue=function(){},Re.useDeferredValue=function(B){return ue.current.useDeferredValue(B)},Re.useEffect=function(B,b){return ue.current.useEffect(B,b)},Re.useId=function(){return ue.current.useId()},Re.useImperativeHandle=function(B,b,we){return ue.current.useImperativeHandle(B,b,we)},Re.useInsertionEffect=function(B,b){return ue.current.useInsertionEffect(B,b)},Re.useLayoutEffect=function(B,b){return ue.current.useLayoutEffect(B,b)},Re.useMemo=function(B,b){return ue.current.useMemo(B,b)},Re.useReducer=function(B,b,we){return ue.current.useReducer(B,b,we)},Re.useRef=function(B){return ue.current.useRef(B)},Re.useState=function(B){return ue.current.useState(B)},Re.useSyncExternalStore=function(B,b,we){return ue.current.useSyncExternalStore(B,b,we)},Re.useTransition=function(){return ue.current.useTransition()},Re.version="18.3.1",Re}var yp;function Bc(){return yp||(yp=1,uc.exports=Z1()),uc.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vp;function J1(){if(vp)return cs;vp=1;var r=Bc(),t=Symbol.for("react.element"),i=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function d(y,p,g){var E,C={},m=null,M=null;g!==void 0&&(m=""+g),p.key!==void 0&&(m=""+p.key),p.ref!==void 0&&(M=p.ref);for(E in p)s.call(p,E)&&!u.hasOwnProperty(E)&&(C[E]=p[E]);if(y&&y.defaultProps)for(E in p=y.defaultProps,p)C[E]===void 0&&(C[E]=p[E]);return{$$typeof:t,type:y,key:m,ref:M,props:C,_owner:a.current}}return cs.Fragment=i,cs.jsx=d,cs.jsxs=d,cs}var wp;function $1(){return wp||(wp=1,ac.exports=J1()),ac.exports}var ce=$1(),Tn=Bc();const ev=X1(Tn);var bl={},cc={exports:{}},_t={},dc={exports:{}},hc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xp;function tv(){return xp||(xp=1,function(r){function t(Z,re){var $=Z.length;Z.push(re);e:for(;0<$;){var B=$-1>>>1,b=Z[B];if(0<a(b,re))Z[B]=re,Z[$]=b,$=B;else break e}}function i(Z){return Z.length===0?null:Z[0]}function s(Z){if(Z.length===0)return null;var re=Z[0],$=Z.pop();if($!==re){Z[0]=$;e:for(var B=0,b=Z.length,we=b>>>1;B<we;){var Ee=2*(B+1)-1,Me=Z[Ee],Pe=Ee+1,Be=Z[Pe];if(0>a(Me,$))Pe<b&&0>a(Be,Me)?(Z[B]=Be,Z[Pe]=$,B=Pe):(Z[B]=Me,Z[Ee]=$,B=Ee);else if(Pe<b&&0>a(Be,$))Z[B]=Be,Z[Pe]=$,B=Pe;else break e}}return re}function a(Z,re){var $=Z.sortIndex-re.sortIndex;return $!==0?$:Z.id-re.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var d=Date,y=d.now();r.unstable_now=function(){return d.now()-y}}var p=[],g=[],E=1,C=null,m=3,M=!1,S=!1,D=!1,x=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(Z){for(var re=i(g);re!==null;){if(re.callback===null)s(g);else if(re.startTime<=Z)s(g),re.sortIndex=re.expirationTime,t(p,re);else break;re=i(g)}}function K(Z){if(D=!1,_(Z),!S)if(i(p)!==null)S=!0,fe(W);else{var re=i(g);re!==null&&ue(K,re.startTime-Z)}}function W(Z,re){S=!1,D&&(D=!1,A(U),U=-1),M=!0;var $=m;try{for(_(re),C=i(p);C!==null&&(!(C.expirationTime>re)||Z&&!te());){var B=C.callback;if(typeof B=="function"){C.callback=null,m=C.priorityLevel;var b=B(C.expirationTime<=re);re=r.unstable_now(),typeof b=="function"?C.callback=b:C===i(p)&&s(p),_(re)}else s(p);C=i(p)}if(C!==null)var we=!0;else{var Ee=i(g);Ee!==null&&ue(K,Ee.startTime-re),we=!1}return we}finally{C=null,m=$,M=!1}}var P=!1,T=null,U=-1,V=5,Y=-1;function te(){return!(r.unstable_now()-Y<V)}function oe(){if(T!==null){var Z=r.unstable_now();Y=Z;var re=!0;try{re=T(!0,Z)}finally{re?ge():(P=!1,T=null)}}else P=!1}var ge;if(typeof N=="function")ge=function(){N(oe)};else if(typeof MessageChannel<"u"){var ve=new MessageChannel,Se=ve.port2;ve.port1.onmessage=oe,ge=function(){Se.postMessage(null)}}else ge=function(){x(oe,0)};function fe(Z){T=Z,P||(P=!0,ge())}function ue(Z,re){U=x(function(){Z(r.unstable_now())},re)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Z){Z.callback=null},r.unstable_continueExecution=function(){S||M||(S=!0,fe(W))},r.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<Z?Math.floor(1e3/Z):5},r.unstable_getCurrentPriorityLevel=function(){return m},r.unstable_getFirstCallbackNode=function(){return i(p)},r.unstable_next=function(Z){switch(m){case 1:case 2:case 3:var re=3;break;default:re=m}var $=m;m=re;try{return Z()}finally{m=$}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(Z,re){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var $=m;m=Z;try{return re()}finally{m=$}},r.unstable_scheduleCallback=function(Z,re,$){var B=r.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?B+$:B):$=B,Z){case 1:var b=-1;break;case 2:b=250;break;case 5:b=1073741823;break;case 4:b=1e4;break;default:b=5e3}return b=$+b,Z={id:E++,callback:re,priorityLevel:Z,startTime:$,expirationTime:b,sortIndex:-1},$>B?(Z.sortIndex=$,t(g,Z),i(p)===null&&Z===i(g)&&(D?(A(U),U=-1):D=!0,ue(K,$-B))):(Z.sortIndex=b,t(p,Z),S||M||(S=!0,fe(W))),Z},r.unstable_shouldYield=te,r.unstable_wrapCallback=function(Z){var re=m;return function(){var $=m;m=re;try{return Z.apply(this,arguments)}finally{m=$}}}}(hc)),hc}var Ap;function nv(){return Ap||(Ap=1,dc.exports=tv()),dc.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ep;function rv(){if(Ep)return _t;Ep=1;var r=Bc(),t=nv();function i(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,o=1;o<arguments.length;o++)n+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function u(e,n){d(e,n),d(e+"Capture",n)}function d(e,n){for(a[e]=n,e=0;e<n.length;e++)s.add(n[e])}var y=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,E={},C={};function m(e){return p.call(C,e)?!0:p.call(E,e)?!1:g.test(e)?C[e]=!0:(E[e]=!0,!1)}function M(e,n,o,l){if(o!==null&&o.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return l?!1:o!==null?!o.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function S(e,n,o,l){if(n===null||typeof n>"u"||M(e,n,o,l))return!0;if(l)return!1;if(o!==null)switch(o.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function D(e,n,o,l,c,h,v){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=l,this.attributeNamespace=c,this.mustUseProperty=o,this.propertyName=e,this.type=n,this.sanitizeURL=h,this.removeEmptyString=v}var x={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){x[e]=new D(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];x[n]=new D(n,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){x[e]=new D(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){x[e]=new D(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){x[e]=new D(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){x[e]=new D(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){x[e]=new D(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){x[e]=new D(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){x[e]=new D(e,5,!1,e.toLowerCase(),null,!1,!1)});var A=/[\-:]([a-z])/g;function N(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace(A,N);x[n]=new D(n,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace(A,N);x[n]=new D(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace(A,N);x[n]=new D(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){x[e]=new D(e,1,!1,e.toLowerCase(),null,!1,!1)}),x.xlinkHref=new D("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){x[e]=new D(e,1,!1,e.toLowerCase(),null,!0,!0)});function _(e,n,o,l){var c=x.hasOwnProperty(n)?x[n]:null;(c!==null?c.type!==0:l||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(S(n,o,c,l)&&(o=null),l||c===null?m(n)&&(o===null?e.removeAttribute(n):e.setAttribute(n,""+o)):c.mustUseProperty?e[c.propertyName]=o===null?c.type===3?!1:"":o:(n=c.attributeName,l=c.attributeNamespace,o===null?e.removeAttribute(n):(c=c.type,o=c===3||c===4&&o===!0?"":""+o,l?e.setAttributeNS(l,n,o):e.setAttribute(n,o))))}var K=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,W=Symbol.for("react.element"),P=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),Y=Symbol.for("react.provider"),te=Symbol.for("react.context"),oe=Symbol.for("react.forward_ref"),ge=Symbol.for("react.suspense"),ve=Symbol.for("react.suspense_list"),Se=Symbol.for("react.memo"),fe=Symbol.for("react.lazy"),ue=Symbol.for("react.offscreen"),Z=Symbol.iterator;function re(e){return e===null||typeof e!="object"?null:(e=Z&&e[Z]||e["@@iterator"],typeof e=="function"?e:null)}var $=Object.assign,B;function b(e){if(B===void 0)try{throw Error()}catch(o){var n=o.stack.trim().match(/\n( *(at )?)/);B=n&&n[1]||""}return`
`+B+e}var we=!1;function Ee(e,n){if(!e||we)return"";we=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(j){var l=j}Reflect.construct(e,[],n)}else{try{n.call()}catch(j){l=j}e.call(n.prototype)}else{try{throw Error()}catch(j){l=j}e()}}catch(j){if(j&&l&&typeof j.stack=="string"){for(var c=j.stack.split(`
`),h=l.stack.split(`
`),v=c.length-1,k=h.length-1;1<=v&&0<=k&&c[v]!==h[k];)k--;for(;1<=v&&0<=k;v--,k--)if(c[v]!==h[k]){if(v!==1||k!==1)do if(v--,k--,0>k||c[v]!==h[k]){var I=`
`+c[v].replace(" at new "," at ");return e.displayName&&I.includes("<anonymous>")&&(I=I.replace("<anonymous>",e.displayName)),I}while(1<=v&&0<=k);break}}}finally{we=!1,Error.prepareStackTrace=o}return(e=e?e.displayName||e.name:"")?b(e):""}function Me(e){switch(e.tag){case 5:return b(e.type);case 16:return b("Lazy");case 13:return b("Suspense");case 19:return b("SuspenseList");case 0:case 2:case 15:return e=Ee(e.type,!1),e;case 11:return e=Ee(e.type.render,!1),e;case 1:return e=Ee(e.type,!0),e;default:return""}}function Pe(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case T:return"Fragment";case P:return"Portal";case V:return"Profiler";case U:return"StrictMode";case ge:return"Suspense";case ve:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case te:return(e.displayName||"Context")+".Consumer";case Y:return(e._context.displayName||"Context")+".Provider";case oe:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Se:return n=e.displayName||null,n!==null?n:Pe(e.type)||"Memo";case fe:n=e._payload,e=e._init;try{return Pe(e(n))}catch{}}return null}function Be(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=n.render,e=e.displayName||e.name||"",n.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Pe(n);case 8:return n===U?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function De(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Oe(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function st(e){var n=Oe(e)?"checked":"value",o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),l=""+e[n];if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var c=o.get,h=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return c.call(this)},set:function(v){l=""+v,h.call(this,v)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Rt(e){e._valueTracker||(e._valueTracker=st(e))}function _r(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var o=n.getValue(),l="";return e&&(l=Oe(e)?e.checked?"true":"false":e.value),e=l,e!==o?(n.setValue(e),!0):!1}function sn(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function pe(e,n){var o=n.checked;return $({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??e._wrapperState.initialChecked})}function ke(e,n){var o=n.defaultValue==null?"":n.defaultValue,l=n.checked!=null?n.checked:n.defaultChecked;o=De(n.value!=null?n.value:o),e._wrapperState={initialChecked:l,initialValue:o,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function Ce(e,n){n=n.checked,n!=null&&_(e,"checked",n,!1)}function be(e,n){Ce(e,n);var o=De(n.value),l=n.type;if(o!=null)l==="number"?(o===0&&e.value===""||e.value!=o)&&(e.value=""+o):e.value!==""+o&&(e.value=""+o);else if(l==="submit"||l==="reset"){e.removeAttribute("value");return}n.hasOwnProperty("value")?Ie(e,n.type,o):n.hasOwnProperty("defaultValue")&&Ie(e,n.type,De(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(e.defaultChecked=!!n.defaultChecked)}function Ze(e,n,o){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var l=n.type;if(!(l!=="submit"&&l!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+e._wrapperState.initialValue,o||n===e.value||(e.value=n),e.defaultValue=n}o=e.name,o!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,o!==""&&(e.name=o)}function Ie(e,n,o){(n!=="number"||sn(e.ownerDocument)!==e)&&(o==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+o&&(e.defaultValue=""+o))}var rt=Array.isArray;function Tt(e,n,o,l){if(e=e.options,n){n={};for(var c=0;c<o.length;c++)n["$"+o[c]]=!0;for(o=0;o<e.length;o++)c=n.hasOwnProperty("$"+e[o].value),e[o].selected!==c&&(e[o].selected=c),c&&l&&(e[o].defaultSelected=!0)}else{for(o=""+De(o),n=null,c=0;c<e.length;c++){if(e[c].value===o){e[c].selected=!0,l&&(e[c].defaultSelected=!0);return}n!==null||e[c].disabled||(n=e[c])}n!==null&&(n.selected=!0)}}function Vr(e,n){if(n.dangerouslySetInnerHTML!=null)throw Error(i(91));return $({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function yi(e,n){var o=n.value;if(o==null){if(o=n.children,n=n.defaultValue,o!=null){if(n!=null)throw Error(i(92));if(rt(o)){if(1<o.length)throw Error(i(93));o=o[0]}n=o}n==null&&(n=""),o=n}e._wrapperState={initialValue:De(o)}}function Hr(e,n){var o=De(n.value),l=De(n.defaultValue);o!=null&&(o=""+o,o!==e.value&&(e.value=o),n.defaultValue==null&&e.defaultValue!==o&&(e.defaultValue=o)),l!=null&&(e.defaultValue=""+l)}function Gr(e){var n=e.textContent;n===e._wrapperState.initialValue&&n!==""&&n!==null&&(e.value=n)}function or(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Dt(e,n){return e==null||e==="http://www.w3.org/1999/xhtml"?or(n):e==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Lt,zn=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,o,l,c){MSApp.execUnsafeLocalFunction(function(){return e(n,o,l,c)})}:e}(function(e,n){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=n;else{for(Lt=Lt||document.createElement("div"),Lt.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=Lt.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}});function ft(e,n){if(n){var o=e.firstChild;if(o&&o===e.lastChild&&o.nodeType===3){o.nodeValue=n;return}}e.textContent=n}var mn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},yn=["Webkit","ms","Moz","O"];Object.keys(mn).forEach(function(e){yn.forEach(function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),mn[n]=mn[e]})});function sr(e,n,o){return n==null||typeof n=="boolean"||n===""?"":o||typeof n!="number"||n===0||mn.hasOwnProperty(e)&&mn[e]?(""+n).trim():n+"px"}function Po(e,n){e=e.style;for(var o in n)if(n.hasOwnProperty(o)){var l=o.indexOf("--")===0,c=sr(o,n[o],l);o==="float"&&(o="cssFloat"),l?e.setProperty(o,c):e[o]=c}}var Ro=$({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function vi(e,n){if(n){if(Ro[e]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(i(137,e));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(i(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(i(61))}if(n.style!=null&&typeof n.style!="object")throw Error(i(62))}}function wi(e,n){if(e.indexOf("-")===-1)return typeof n.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wt=null;function Wr(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var lr=null,_n=null,Vn=null;function Fs(e){if(e=Yo(e)){if(typeof lr!="function")throw Error(i(280));var n=e.stateNode;n&&(n=$s(n),lr(e.stateNode,e.type,n))}}function To(e){_n?Vn?Vn.push(e):Vn=[e]:_n=e}function Do(){if(_n){var e=_n,n=Vn;if(Vn=_n=null,Fs(e),n)for(e=0;e<n.length;e++)Fs(n[e])}}function R(e,n){return e(n)}function H(){}var Q=!1;function ie(e,n,o){if(Q)return e(n,o);Q=!0;try{return R(e,n,o)}finally{Q=!1,(_n!==null||Vn!==null)&&(H(),Do())}}function xe(e,n){var o=e.stateNode;if(o===null)return null;var l=$s(o);if(l===null)return null;o=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(o&&typeof o!="function")throw Error(i(231,n,typeof o));return o}var ze=!1;if(y)try{var Je={};Object.defineProperty(Je,"passive",{get:function(){ze=!0}}),window.addEventListener("test",Je,Je),window.removeEventListener("test",Je,Je)}catch{ze=!1}function $e(e,n,o,l,c,h,v,k,I){var j=Array.prototype.slice.call(arguments,3);try{n.apply(o,j)}catch(J){this.onError(J)}}var It=!1,Ft=null,qt=!1,Pa=null,ty={onError:function(e){It=!0,Ft=e}};function ny(e,n,o,l,c,h,v,k,I){It=!1,Ft=null,$e.apply(ty,arguments)}function ry(e,n,o,l,c,h,v,k,I){if(ny.apply(this,arguments),It){if(It){var j=Ft;It=!1,Ft=null}else throw Error(i(198));qt||(qt=!0,Pa=j)}}function Qr(e){var n=e,o=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,n.flags&4098&&(o=n.return),e=n.return;while(e)}return n.tag===3?o:null}function bd(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function jd(e){if(Qr(e)!==e)throw Error(i(188))}function iy(e){var n=e.alternate;if(!n){if(n=Qr(e),n===null)throw Error(i(188));return n!==e?null:e}for(var o=e,l=n;;){var c=o.return;if(c===null)break;var h=c.alternate;if(h===null){if(l=c.return,l!==null){o=l;continue}break}if(c.child===h.child){for(h=c.child;h;){if(h===o)return jd(c),e;if(h===l)return jd(c),n;h=h.sibling}throw Error(i(188))}if(o.return!==l.return)o=c,l=h;else{for(var v=!1,k=c.child;k;){if(k===o){v=!0,o=c,l=h;break}if(k===l){v=!0,l=c,o=h;break}k=k.sibling}if(!v){for(k=h.child;k;){if(k===o){v=!0,o=h,l=c;break}if(k===l){v=!0,l=h,o=c;break}k=k.sibling}if(!v)throw Error(i(189))}}if(o.alternate!==l)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?e:n}function Ud(e){return e=iy(e),e!==null?zd(e):null}function zd(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var n=zd(e);if(n!==null)return n;e=e.sibling}return null}var _d=t.unstable_scheduleCallback,Vd=t.unstable_cancelCallback,oy=t.unstable_shouldYield,sy=t.unstable_requestPaint,it=t.unstable_now,ly=t.unstable_getCurrentPriorityLevel,Ra=t.unstable_ImmediatePriority,Hd=t.unstable_UserBlockingPriority,Bs=t.unstable_NormalPriority,ay=t.unstable_LowPriority,Gd=t.unstable_IdlePriority,Ns=null,In=null;function uy(e){if(In&&typeof In.onCommitFiberRoot=="function")try{In.onCommitFiberRoot(Ns,e,void 0,(e.current.flags&128)===128)}catch{}}var vn=Math.clz32?Math.clz32:hy,cy=Math.log,dy=Math.LN2;function hy(e){return e>>>=0,e===0?32:31-(cy(e)/dy|0)|0}var Ls=64,qs=4194304;function Io(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Os(e,n){var o=e.pendingLanes;if(o===0)return 0;var l=0,c=e.suspendedLanes,h=e.pingedLanes,v=o&268435455;if(v!==0){var k=v&~c;k!==0?l=Io(k):(h&=v,h!==0&&(l=Io(h)))}else v=o&~c,v!==0?l=Io(v):h!==0&&(l=Io(h));if(l===0)return 0;if(n!==0&&n!==l&&!(n&c)&&(c=l&-l,h=n&-n,c>=h||c===16&&(h&4194240)!==0))return n;if(l&4&&(l|=o&16),n=e.entangledLanes,n!==0)for(e=e.entanglements,n&=l;0<n;)o=31-vn(n),c=1<<o,l|=e[o],n&=~c;return l}function fy(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function py(e,n){for(var o=e.suspendedLanes,l=e.pingedLanes,c=e.expirationTimes,h=e.pendingLanes;0<h;){var v=31-vn(h),k=1<<v,I=c[v];I===-1?(!(k&o)||k&l)&&(c[v]=fy(k,n)):I<=n&&(e.expiredLanes|=k),h&=~k}}function Ta(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Wd(){var e=Ls;return Ls<<=1,!(Ls&4194240)&&(Ls=64),e}function Da(e){for(var n=[],o=0;31>o;o++)n.push(e);return n}function Fo(e,n,o){e.pendingLanes|=n,n!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,n=31-vn(n),e[n]=o}function gy(e,n){var o=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var l=e.eventTimes;for(e=e.expirationTimes;0<o;){var c=31-vn(o),h=1<<c;n[c]=0,l[c]=-1,e[c]=-1,o&=~h}}function Ia(e,n){var o=e.entangledLanes|=n;for(e=e.entanglements;o;){var l=31-vn(o),c=1<<l;c&n|e[l]&n&&(e[l]|=n),o&=~c}}var je=0;function Qd(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Kd,Fa,Yd,Xd,Zd,Ba=!1,bs=[],ar=null,ur=null,cr=null,Bo=new Map,No=new Map,dr=[],my="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Jd(e,n){switch(e){case"focusin":case"focusout":ar=null;break;case"dragenter":case"dragleave":ur=null;break;case"mouseover":case"mouseout":cr=null;break;case"pointerover":case"pointerout":Bo.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":No.delete(n.pointerId)}}function Lo(e,n,o,l,c,h){return e===null||e.nativeEvent!==h?(e={blockedOn:n,domEventName:o,eventSystemFlags:l,nativeEvent:h,targetContainers:[c]},n!==null&&(n=Yo(n),n!==null&&Fa(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),e)}function yy(e,n,o,l,c){switch(n){case"focusin":return ar=Lo(ar,e,n,o,l,c),!0;case"dragenter":return ur=Lo(ur,e,n,o,l,c),!0;case"mouseover":return cr=Lo(cr,e,n,o,l,c),!0;case"pointerover":var h=c.pointerId;return Bo.set(h,Lo(Bo.get(h)||null,e,n,o,l,c)),!0;case"gotpointercapture":return h=c.pointerId,No.set(h,Lo(No.get(h)||null,e,n,o,l,c)),!0}return!1}function $d(e){var n=Kr(e.target);if(n!==null){var o=Qr(n);if(o!==null){if(n=o.tag,n===13){if(n=bd(o),n!==null){e.blockedOn=n,Zd(e.priority,function(){Yd(o)});return}}else if(n===3&&o.stateNode.current.memoizedState.isDehydrated){e.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}e.blockedOn=null}function js(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var o=La(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(o===null){o=e.nativeEvent;var l=new o.constructor(o.type,o);wt=l,o.target.dispatchEvent(l),wt=null}else return n=Yo(o),n!==null&&Fa(n),e.blockedOn=o,!1;n.shift()}return!0}function eh(e,n,o){js(e)&&o.delete(n)}function vy(){Ba=!1,ar!==null&&js(ar)&&(ar=null),ur!==null&&js(ur)&&(ur=null),cr!==null&&js(cr)&&(cr=null),Bo.forEach(eh),No.forEach(eh)}function qo(e,n){e.blockedOn===n&&(e.blockedOn=null,Ba||(Ba=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,vy)))}function Oo(e){function n(c){return qo(c,e)}if(0<bs.length){qo(bs[0],e);for(var o=1;o<bs.length;o++){var l=bs[o];l.blockedOn===e&&(l.blockedOn=null)}}for(ar!==null&&qo(ar,e),ur!==null&&qo(ur,e),cr!==null&&qo(cr,e),Bo.forEach(n),No.forEach(n),o=0;o<dr.length;o++)l=dr[o],l.blockedOn===e&&(l.blockedOn=null);for(;0<dr.length&&(o=dr[0],o.blockedOn===null);)$d(o),o.blockedOn===null&&dr.shift()}var xi=K.ReactCurrentBatchConfig,Us=!0;function wy(e,n,o,l){var c=je,h=xi.transition;xi.transition=null;try{je=1,Na(e,n,o,l)}finally{je=c,xi.transition=h}}function xy(e,n,o,l){var c=je,h=xi.transition;xi.transition=null;try{je=4,Na(e,n,o,l)}finally{je=c,xi.transition=h}}function Na(e,n,o,l){if(Us){var c=La(e,n,o,l);if(c===null)Ja(e,n,l,zs,o),Jd(e,l);else if(yy(c,e,n,o,l))l.stopPropagation();else if(Jd(e,l),n&4&&-1<my.indexOf(e)){for(;c!==null;){var h=Yo(c);if(h!==null&&Kd(h),h=La(e,n,o,l),h===null&&Ja(e,n,l,zs,o),h===c)break;c=h}c!==null&&l.stopPropagation()}else Ja(e,n,l,null,o)}}var zs=null;function La(e,n,o,l){if(zs=null,e=Wr(l),e=Kr(e),e!==null)if(n=Qr(e),n===null)e=null;else if(o=n.tag,o===13){if(e=bd(n),e!==null)return e;e=null}else if(o===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null);return zs=e,null}function th(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ly()){case Ra:return 1;case Hd:return 4;case Bs:case ay:return 16;case Gd:return 536870912;default:return 16}default:return 16}}var hr=null,qa=null,_s=null;function nh(){if(_s)return _s;var e,n=qa,o=n.length,l,c="value"in hr?hr.value:hr.textContent,h=c.length;for(e=0;e<o&&n[e]===c[e];e++);var v=o-e;for(l=1;l<=v&&n[o-l]===c[h-l];l++);return _s=c.slice(e,1<l?1-l:void 0)}function Vs(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Hs(){return!0}function rh(){return!1}function Yt(e){function n(o,l,c,h,v){this._reactName=o,this._targetInst=c,this.type=l,this.nativeEvent=h,this.target=v,this.currentTarget=null;for(var k in e)e.hasOwnProperty(k)&&(o=e[k],this[k]=o?o(h):h[k]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?Hs:rh,this.isPropagationStopped=rh,this}return $(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Hs)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Hs)},persist:function(){},isPersistent:Hs}),n}var Ai={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Oa=Yt(Ai),bo=$({},Ai,{view:0,detail:0}),Ay=Yt(bo),ba,ja,jo,Gs=$({},bo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:za,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==jo&&(jo&&e.type==="mousemove"?(ba=e.screenX-jo.screenX,ja=e.screenY-jo.screenY):ja=ba=0,jo=e),ba)},movementY:function(e){return"movementY"in e?e.movementY:ja}}),ih=Yt(Gs),Ey=$({},Gs,{dataTransfer:0}),Sy=Yt(Ey),ky=$({},bo,{relatedTarget:0}),Ua=Yt(ky),Cy=$({},Ai,{animationName:0,elapsedTime:0,pseudoElement:0}),My=Yt(Cy),Py=$({},Ai,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ry=Yt(Py),Ty=$({},Ai,{data:0}),oh=Yt(Ty),Dy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Iy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Fy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function By(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Fy[e])?!!n[e]:!1}function za(){return By}var Ny=$({},bo,{key:function(e){if(e.key){var n=Dy[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Vs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Iy[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:za,charCode:function(e){return e.type==="keypress"?Vs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Vs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ly=Yt(Ny),qy=$({},Gs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sh=Yt(qy),Oy=$({},bo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:za}),by=Yt(Oy),jy=$({},Ai,{propertyName:0,elapsedTime:0,pseudoElement:0}),Uy=Yt(jy),zy=$({},Gs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),_y=Yt(zy),Vy=[9,13,27,32],_a=y&&"CompositionEvent"in window,Uo=null;y&&"documentMode"in document&&(Uo=document.documentMode);var Hy=y&&"TextEvent"in window&&!Uo,lh=y&&(!_a||Uo&&8<Uo&&11>=Uo),ah=" ",uh=!1;function ch(e,n){switch(e){case"keyup":return Vy.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function dh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ei=!1;function Gy(e,n){switch(e){case"compositionend":return dh(n);case"keypress":return n.which!==32?null:(uh=!0,ah);case"textInput":return e=n.data,e===ah&&uh?null:e;default:return null}}function Wy(e,n){if(Ei)return e==="compositionend"||!_a&&ch(e,n)?(e=nh(),_s=qa=hr=null,Ei=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return lh&&n.locale!=="ko"?null:n.data;default:return null}}var Qy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Qy[e.type]:n==="textarea"}function fh(e,n,o,l){To(l),n=Xs(n,"onChange"),0<n.length&&(o=new Oa("onChange","change",null,o,l),e.push({event:o,listeners:n}))}var zo=null,_o=null;function Ky(e){Ih(e,0)}function Ws(e){var n=Pi(e);if(_r(n))return e}function Yy(e,n){if(e==="change")return n}var ph=!1;if(y){var Va;if(y){var Ha="oninput"in document;if(!Ha){var gh=document.createElement("div");gh.setAttribute("oninput","return;"),Ha=typeof gh.oninput=="function"}Va=Ha}else Va=!1;ph=Va&&(!document.documentMode||9<document.documentMode)}function mh(){zo&&(zo.detachEvent("onpropertychange",yh),_o=zo=null)}function yh(e){if(e.propertyName==="value"&&Ws(_o)){var n=[];fh(n,_o,e,Wr(e)),ie(Ky,n)}}function Xy(e,n,o){e==="focusin"?(mh(),zo=n,_o=o,zo.attachEvent("onpropertychange",yh)):e==="focusout"&&mh()}function Zy(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ws(_o)}function Jy(e,n){if(e==="click")return Ws(n)}function $y(e,n){if(e==="input"||e==="change")return Ws(n)}function e1(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var wn=typeof Object.is=="function"?Object.is:e1;function Vo(e,n){if(wn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var o=Object.keys(e),l=Object.keys(n);if(o.length!==l.length)return!1;for(l=0;l<o.length;l++){var c=o[l];if(!p.call(n,c)||!wn(e[c],n[c]))return!1}return!0}function vh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function wh(e,n){var o=vh(e);e=0;for(var l;o;){if(o.nodeType===3){if(l=e+o.textContent.length,e<=n&&l>=n)return{node:o,offset:n-e};e=l}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=vh(o)}}function xh(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?xh(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Ah(){for(var e=window,n=sn();n instanceof e.HTMLIFrameElement;){try{var o=typeof n.contentWindow.location.href=="string"}catch{o=!1}if(o)e=n.contentWindow;else break;n=sn(e.document)}return n}function Ga(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function t1(e){var n=Ah(),o=e.focusedElem,l=e.selectionRange;if(n!==o&&o&&o.ownerDocument&&xh(o.ownerDocument.documentElement,o)){if(l!==null&&Ga(o)){if(n=l.start,e=l.end,e===void 0&&(e=n),"selectionStart"in o)o.selectionStart=n,o.selectionEnd=Math.min(e,o.value.length);else if(e=(n=o.ownerDocument||document)&&n.defaultView||window,e.getSelection){e=e.getSelection();var c=o.textContent.length,h=Math.min(l.start,c);l=l.end===void 0?h:Math.min(l.end,c),!e.extend&&h>l&&(c=l,l=h,h=c),c=wh(o,h);var v=wh(o,l);c&&v&&(e.rangeCount!==1||e.anchorNode!==c.node||e.anchorOffset!==c.offset||e.focusNode!==v.node||e.focusOffset!==v.offset)&&(n=n.createRange(),n.setStart(c.node,c.offset),e.removeAllRanges(),h>l?(e.addRange(n),e.extend(v.node,v.offset)):(n.setEnd(v.node,v.offset),e.addRange(n)))}}for(n=[],e=o;e=e.parentNode;)e.nodeType===1&&n.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<n.length;o++)e=n[o],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var n1=y&&"documentMode"in document&&11>=document.documentMode,Si=null,Wa=null,Ho=null,Qa=!1;function Eh(e,n,o){var l=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Qa||Si==null||Si!==sn(l)||(l=Si,"selectionStart"in l&&Ga(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ho&&Vo(Ho,l)||(Ho=l,l=Xs(Wa,"onSelect"),0<l.length&&(n=new Oa("onSelect","select",null,n,o),e.push({event:n,listeners:l}),n.target=Si)))}function Qs(e,n){var o={};return o[e.toLowerCase()]=n.toLowerCase(),o["Webkit"+e]="webkit"+n,o["Moz"+e]="moz"+n,o}var ki={animationend:Qs("Animation","AnimationEnd"),animationiteration:Qs("Animation","AnimationIteration"),animationstart:Qs("Animation","AnimationStart"),transitionend:Qs("Transition","TransitionEnd")},Ka={},Sh={};y&&(Sh=document.createElement("div").style,"AnimationEvent"in window||(delete ki.animationend.animation,delete ki.animationiteration.animation,delete ki.animationstart.animation),"TransitionEvent"in window||delete ki.transitionend.transition);function Ks(e){if(Ka[e])return Ka[e];if(!ki[e])return e;var n=ki[e],o;for(o in n)if(n.hasOwnProperty(o)&&o in Sh)return Ka[e]=n[o];return e}var kh=Ks("animationend"),Ch=Ks("animationiteration"),Mh=Ks("animationstart"),Ph=Ks("transitionend"),Rh=new Map,Th="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function fr(e,n){Rh.set(e,n),u(n,[e])}for(var Ya=0;Ya<Th.length;Ya++){var Xa=Th[Ya],r1=Xa.toLowerCase(),i1=Xa[0].toUpperCase()+Xa.slice(1);fr(r1,"on"+i1)}fr(kh,"onAnimationEnd"),fr(Ch,"onAnimationIteration"),fr(Mh,"onAnimationStart"),fr("dblclick","onDoubleClick"),fr("focusin","onFocus"),fr("focusout","onBlur"),fr(Ph,"onTransitionEnd"),d("onMouseEnter",["mouseout","mouseover"]),d("onMouseLeave",["mouseout","mouseover"]),d("onPointerEnter",["pointerout","pointerover"]),d("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Go="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),o1=new Set("cancel close invalid load scroll toggle".split(" ").concat(Go));function Dh(e,n,o){var l=e.type||"unknown-event";e.currentTarget=o,ry(l,n,void 0,e),e.currentTarget=null}function Ih(e,n){n=(n&4)!==0;for(var o=0;o<e.length;o++){var l=e[o],c=l.event;l=l.listeners;e:{var h=void 0;if(n)for(var v=l.length-1;0<=v;v--){var k=l[v],I=k.instance,j=k.currentTarget;if(k=k.listener,I!==h&&c.isPropagationStopped())break e;Dh(c,k,j),h=I}else for(v=0;v<l.length;v++){if(k=l[v],I=k.instance,j=k.currentTarget,k=k.listener,I!==h&&c.isPropagationStopped())break e;Dh(c,k,j),h=I}}}if(qt)throw e=Pa,qt=!1,Pa=null,e}function He(e,n){var o=n[iu];o===void 0&&(o=n[iu]=new Set);var l=e+"__bubble";o.has(l)||(Fh(n,e,2,!1),o.add(l))}function Za(e,n,o){var l=0;n&&(l|=4),Fh(o,e,l,n)}var Ys="_reactListening"+Math.random().toString(36).slice(2);function Wo(e){if(!e[Ys]){e[Ys]=!0,s.forEach(function(o){o!=="selectionchange"&&(o1.has(o)||Za(o,!1,e),Za(o,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Ys]||(n[Ys]=!0,Za("selectionchange",!1,n))}}function Fh(e,n,o,l){switch(th(n)){case 1:var c=wy;break;case 4:c=xy;break;default:c=Na}o=c.bind(null,n,o,e),c=void 0,!ze||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?e.addEventListener(n,o,{capture:!0,passive:c}):e.addEventListener(n,o,!0):c!==void 0?e.addEventListener(n,o,{passive:c}):e.addEventListener(n,o,!1)}function Ja(e,n,o,l,c){var h=l;if(!(n&1)&&!(n&2)&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var k=l.stateNode.containerInfo;if(k===c||k.nodeType===8&&k.parentNode===c)break;if(v===4)for(v=l.return;v!==null;){var I=v.tag;if((I===3||I===4)&&(I=v.stateNode.containerInfo,I===c||I.nodeType===8&&I.parentNode===c))return;v=v.return}for(;k!==null;){if(v=Kr(k),v===null)return;if(I=v.tag,I===5||I===6){l=h=v;continue e}k=k.parentNode}}l=l.return}ie(function(){var j=h,J=Wr(o),ee=[];e:{var X=Rh.get(e);if(X!==void 0){var se=Oa,ae=e;switch(e){case"keypress":if(Vs(o)===0)break e;case"keydown":case"keyup":se=Ly;break;case"focusin":ae="focus",se=Ua;break;case"focusout":ae="blur",se=Ua;break;case"beforeblur":case"afterblur":se=Ua;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":se=ih;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":se=Sy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":se=by;break;case kh:case Ch:case Mh:se=My;break;case Ph:se=Uy;break;case"scroll":se=Ay;break;case"wheel":se=_y;break;case"copy":case"cut":case"paste":se=Ry;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":se=sh}var de=(n&4)!==0,ot=!de&&e==="scroll",L=de?X!==null?X+"Capture":null:X;de=[];for(var F=j,O;F!==null;){O=F;var ne=O.stateNode;if(O.tag===5&&ne!==null&&(O=ne,L!==null&&(ne=xe(F,L),ne!=null&&de.push(Qo(F,ne,O)))),ot)break;F=F.return}0<de.length&&(X=new se(X,ae,null,o,J),ee.push({event:X,listeners:de}))}}if(!(n&7)){e:{if(X=e==="mouseover"||e==="pointerover",se=e==="mouseout"||e==="pointerout",X&&o!==wt&&(ae=o.relatedTarget||o.fromElement)&&(Kr(ae)||ae[Hn]))break e;if((se||X)&&(X=J.window===J?J:(X=J.ownerDocument)?X.defaultView||X.parentWindow:window,se?(ae=o.relatedTarget||o.toElement,se=j,ae=ae?Kr(ae):null,ae!==null&&(ot=Qr(ae),ae!==ot||ae.tag!==5&&ae.tag!==6)&&(ae=null)):(se=null,ae=j),se!==ae)){if(de=ih,ne="onMouseLeave",L="onMouseEnter",F="mouse",(e==="pointerout"||e==="pointerover")&&(de=sh,ne="onPointerLeave",L="onPointerEnter",F="pointer"),ot=se==null?X:Pi(se),O=ae==null?X:Pi(ae),X=new de(ne,F+"leave",se,o,J),X.target=ot,X.relatedTarget=O,ne=null,Kr(J)===j&&(de=new de(L,F+"enter",ae,o,J),de.target=O,de.relatedTarget=ot,ne=de),ot=ne,se&&ae)t:{for(de=se,L=ae,F=0,O=de;O;O=Ci(O))F++;for(O=0,ne=L;ne;ne=Ci(ne))O++;for(;0<F-O;)de=Ci(de),F--;for(;0<O-F;)L=Ci(L),O--;for(;F--;){if(de===L||L!==null&&de===L.alternate)break t;de=Ci(de),L=Ci(L)}de=null}else de=null;se!==null&&Bh(ee,X,se,de,!1),ae!==null&&ot!==null&&Bh(ee,ot,ae,de,!0)}}e:{if(X=j?Pi(j):window,se=X.nodeName&&X.nodeName.toLowerCase(),se==="select"||se==="input"&&X.type==="file")var he=Yy;else if(hh(X))if(ph)he=$y;else{he=Zy;var me=Xy}else(se=X.nodeName)&&se.toLowerCase()==="input"&&(X.type==="checkbox"||X.type==="radio")&&(he=Jy);if(he&&(he=he(e,j))){fh(ee,he,o,J);break e}me&&me(e,X,j),e==="focusout"&&(me=X._wrapperState)&&me.controlled&&X.type==="number"&&Ie(X,"number",X.value)}switch(me=j?Pi(j):window,e){case"focusin":(hh(me)||me.contentEditable==="true")&&(Si=me,Wa=j,Ho=null);break;case"focusout":Ho=Wa=Si=null;break;case"mousedown":Qa=!0;break;case"contextmenu":case"mouseup":case"dragend":Qa=!1,Eh(ee,o,J);break;case"selectionchange":if(n1)break;case"keydown":case"keyup":Eh(ee,o,J)}var ye;if(_a)e:{switch(e){case"compositionstart":var Ae="onCompositionStart";break e;case"compositionend":Ae="onCompositionEnd";break e;case"compositionupdate":Ae="onCompositionUpdate";break e}Ae=void 0}else Ei?ch(e,o)&&(Ae="onCompositionEnd"):e==="keydown"&&o.keyCode===229&&(Ae="onCompositionStart");Ae&&(lh&&o.locale!=="ko"&&(Ei||Ae!=="onCompositionStart"?Ae==="onCompositionEnd"&&Ei&&(ye=nh()):(hr=J,qa="value"in hr?hr.value:hr.textContent,Ei=!0)),me=Xs(j,Ae),0<me.length&&(Ae=new oh(Ae,e,null,o,J),ee.push({event:Ae,listeners:me}),ye?Ae.data=ye:(ye=dh(o),ye!==null&&(Ae.data=ye)))),(ye=Hy?Gy(e,o):Wy(e,o))&&(j=Xs(j,"onBeforeInput"),0<j.length&&(J=new oh("onBeforeInput","beforeinput",null,o,J),ee.push({event:J,listeners:j}),J.data=ye))}Ih(ee,n)})}function Qo(e,n,o){return{instance:e,listener:n,currentTarget:o}}function Xs(e,n){for(var o=n+"Capture",l=[];e!==null;){var c=e,h=c.stateNode;c.tag===5&&h!==null&&(c=h,h=xe(e,o),h!=null&&l.unshift(Qo(e,h,c)),h=xe(e,n),h!=null&&l.push(Qo(e,h,c))),e=e.return}return l}function Ci(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Bh(e,n,o,l,c){for(var h=n._reactName,v=[];o!==null&&o!==l;){var k=o,I=k.alternate,j=k.stateNode;if(I!==null&&I===l)break;k.tag===5&&j!==null&&(k=j,c?(I=xe(o,h),I!=null&&v.unshift(Qo(o,I,k))):c||(I=xe(o,h),I!=null&&v.push(Qo(o,I,k)))),o=o.return}v.length!==0&&e.push({event:n,listeners:v})}var s1=/\r\n?/g,l1=/\u0000|\uFFFD/g;function Nh(e){return(typeof e=="string"?e:""+e).replace(s1,`
`).replace(l1,"")}function Zs(e,n,o){if(n=Nh(n),Nh(e)!==n&&o)throw Error(i(425))}function Js(){}var $a=null,eu=null;function tu(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var nu=typeof setTimeout=="function"?setTimeout:void 0,a1=typeof clearTimeout=="function"?clearTimeout:void 0,Lh=typeof Promise=="function"?Promise:void 0,u1=typeof queueMicrotask=="function"?queueMicrotask:typeof Lh<"u"?function(e){return Lh.resolve(null).then(e).catch(c1)}:nu;function c1(e){setTimeout(function(){throw e})}function ru(e,n){var o=n,l=0;do{var c=o.nextSibling;if(e.removeChild(o),c&&c.nodeType===8)if(o=c.data,o==="/$"){if(l===0){e.removeChild(c),Oo(n);return}l--}else o!=="$"&&o!=="$?"&&o!=="$!"||l++;o=c}while(o);Oo(n)}function pr(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return e}function qh(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var o=e.data;if(o==="$"||o==="$!"||o==="$?"){if(n===0)return e;n--}else o==="/$"&&n++}e=e.previousSibling}return null}var Mi=Math.random().toString(36).slice(2),Fn="__reactFiber$"+Mi,Ko="__reactProps$"+Mi,Hn="__reactContainer$"+Mi,iu="__reactEvents$"+Mi,d1="__reactListeners$"+Mi,h1="__reactHandles$"+Mi;function Kr(e){var n=e[Fn];if(n)return n;for(var o=e.parentNode;o;){if(n=o[Hn]||o[Fn]){if(o=n.alternate,n.child!==null||o!==null&&o.child!==null)for(e=qh(e);e!==null;){if(o=e[Fn])return o;e=qh(e)}return n}e=o,o=e.parentNode}return null}function Yo(e){return e=e[Fn]||e[Hn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Pi(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(i(33))}function $s(e){return e[Ko]||null}var ou=[],Ri=-1;function gr(e){return{current:e}}function Ge(e){0>Ri||(e.current=ou[Ri],ou[Ri]=null,Ri--)}function Ve(e,n){Ri++,ou[Ri]=e.current,e.current=n}var mr={},St=gr(mr),Ot=gr(!1),Yr=mr;function Ti(e,n){var o=e.type.contextTypes;if(!o)return mr;var l=e.stateNode;if(l&&l.__reactInternalMemoizedUnmaskedChildContext===n)return l.__reactInternalMemoizedMaskedChildContext;var c={},h;for(h in o)c[h]=n[h];return l&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=c),c}function bt(e){return e=e.childContextTypes,e!=null}function el(){Ge(Ot),Ge(St)}function Oh(e,n,o){if(St.current!==mr)throw Error(i(168));Ve(St,n),Ve(Ot,o)}function bh(e,n,o){var l=e.stateNode;if(n=n.childContextTypes,typeof l.getChildContext!="function")return o;l=l.getChildContext();for(var c in l)if(!(c in n))throw Error(i(108,Be(e)||"Unknown",c));return $({},o,l)}function tl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||mr,Yr=St.current,Ve(St,e),Ve(Ot,Ot.current),!0}function jh(e,n,o){var l=e.stateNode;if(!l)throw Error(i(169));o?(e=bh(e,n,Yr),l.__reactInternalMemoizedMergedChildContext=e,Ge(Ot),Ge(St),Ve(St,e)):Ge(Ot),Ve(Ot,o)}var Gn=null,nl=!1,su=!1;function Uh(e){Gn===null?Gn=[e]:Gn.push(e)}function f1(e){nl=!0,Uh(e)}function yr(){if(!su&&Gn!==null){su=!0;var e=0,n=je;try{var o=Gn;for(je=1;e<o.length;e++){var l=o[e];do l=l(!0);while(l!==null)}Gn=null,nl=!1}catch(c){throw Gn!==null&&(Gn=Gn.slice(e+1)),_d(Ra,yr),c}finally{je=n,su=!1}}return null}var Di=[],Ii=0,rl=null,il=0,ln=[],an=0,Xr=null,Wn=1,Qn="";function Zr(e,n){Di[Ii++]=il,Di[Ii++]=rl,rl=e,il=n}function zh(e,n,o){ln[an++]=Wn,ln[an++]=Qn,ln[an++]=Xr,Xr=e;var l=Wn;e=Qn;var c=32-vn(l)-1;l&=~(1<<c),o+=1;var h=32-vn(n)+c;if(30<h){var v=c-c%5;h=(l&(1<<v)-1).toString(32),l>>=v,c-=v,Wn=1<<32-vn(n)+c|o<<c|l,Qn=h+e}else Wn=1<<h|o<<c|l,Qn=e}function lu(e){e.return!==null&&(Zr(e,1),zh(e,1,0))}function au(e){for(;e===rl;)rl=Di[--Ii],Di[Ii]=null,il=Di[--Ii],Di[Ii]=null;for(;e===Xr;)Xr=ln[--an],ln[an]=null,Qn=ln[--an],ln[an]=null,Wn=ln[--an],ln[an]=null}var Xt=null,Zt=null,We=!1,xn=null;function _h(e,n){var o=hn(5,null,null,0);o.elementType="DELETED",o.stateNode=n,o.return=e,n=e.deletions,n===null?(e.deletions=[o],e.flags|=16):n.push(o)}function Vh(e,n){switch(e.tag){case 5:var o=e.type;return n=n.nodeType!==1||o.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(e.stateNode=n,Xt=e,Zt=pr(n.firstChild),!0):!1;case 6:return n=e.pendingProps===""||n.nodeType!==3?null:n,n!==null?(e.stateNode=n,Xt=e,Zt=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(o=Xr!==null?{id:Wn,overflow:Qn}:null,e.memoizedState={dehydrated:n,treeContext:o,retryLane:1073741824},o=hn(18,null,null,0),o.stateNode=n,o.return=e,e.child=o,Xt=e,Zt=null,!0):!1;default:return!1}}function uu(e){return(e.mode&1)!==0&&(e.flags&128)===0}function cu(e){if(We){var n=Zt;if(n){var o=n;if(!Vh(e,n)){if(uu(e))throw Error(i(418));n=pr(o.nextSibling);var l=Xt;n&&Vh(e,n)?_h(l,o):(e.flags=e.flags&-4097|2,We=!1,Xt=e)}}else{if(uu(e))throw Error(i(418));e.flags=e.flags&-4097|2,We=!1,Xt=e}}}function Hh(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Xt=e}function ol(e){if(e!==Xt)return!1;if(!We)return Hh(e),We=!0,!1;var n;if((n=e.tag!==3)&&!(n=e.tag!==5)&&(n=e.type,n=n!=="head"&&n!=="body"&&!tu(e.type,e.memoizedProps)),n&&(n=Zt)){if(uu(e))throw Gh(),Error(i(418));for(;n;)_h(e,n),n=pr(n.nextSibling)}if(Hh(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8){var o=e.data;if(o==="/$"){if(n===0){Zt=pr(e.nextSibling);break e}n--}else o!=="$"&&o!=="$!"&&o!=="$?"||n++}e=e.nextSibling}Zt=null}}else Zt=Xt?pr(e.stateNode.nextSibling):null;return!0}function Gh(){for(var e=Zt;e;)e=pr(e.nextSibling)}function Fi(){Zt=Xt=null,We=!1}function du(e){xn===null?xn=[e]:xn.push(e)}var p1=K.ReactCurrentBatchConfig;function Xo(e,n,o){if(e=o.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(i(309));var l=o.stateNode}if(!l)throw Error(i(147,e));var c=l,h=""+e;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===h?n.ref:(n=function(v){var k=c.refs;v===null?delete k[h]:k[h]=v},n._stringRef=h,n)}if(typeof e!="string")throw Error(i(284));if(!o._owner)throw Error(i(290,e))}return e}function sl(e,n){throw e=Object.prototype.toString.call(n),Error(i(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function Wh(e){var n=e._init;return n(e._payload)}function Qh(e){function n(L,F){if(e){var O=L.deletions;O===null?(L.deletions=[F],L.flags|=16):O.push(F)}}function o(L,F){if(!e)return null;for(;F!==null;)n(L,F),F=F.sibling;return null}function l(L,F){for(L=new Map;F!==null;)F.key!==null?L.set(F.key,F):L.set(F.index,F),F=F.sibling;return L}function c(L,F){return L=Cr(L,F),L.index=0,L.sibling=null,L}function h(L,F,O){return L.index=O,e?(O=L.alternate,O!==null?(O=O.index,O<F?(L.flags|=2,F):O):(L.flags|=2,F)):(L.flags|=1048576,F)}function v(L){return e&&L.alternate===null&&(L.flags|=2),L}function k(L,F,O,ne){return F===null||F.tag!==6?(F=nc(O,L.mode,ne),F.return=L,F):(F=c(F,O),F.return=L,F)}function I(L,F,O,ne){var he=O.type;return he===T?J(L,F,O.props.children,ne,O.key):F!==null&&(F.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===fe&&Wh(he)===F.type)?(ne=c(F,O.props),ne.ref=Xo(L,F,O),ne.return=L,ne):(ne=Dl(O.type,O.key,O.props,null,L.mode,ne),ne.ref=Xo(L,F,O),ne.return=L,ne)}function j(L,F,O,ne){return F===null||F.tag!==4||F.stateNode.containerInfo!==O.containerInfo||F.stateNode.implementation!==O.implementation?(F=rc(O,L.mode,ne),F.return=L,F):(F=c(F,O.children||[]),F.return=L,F)}function J(L,F,O,ne,he){return F===null||F.tag!==7?(F=oi(O,L.mode,ne,he),F.return=L,F):(F=c(F,O),F.return=L,F)}function ee(L,F,O){if(typeof F=="string"&&F!==""||typeof F=="number")return F=nc(""+F,L.mode,O),F.return=L,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case W:return O=Dl(F.type,F.key,F.props,null,L.mode,O),O.ref=Xo(L,null,F),O.return=L,O;case P:return F=rc(F,L.mode,O),F.return=L,F;case fe:var ne=F._init;return ee(L,ne(F._payload),O)}if(rt(F)||re(F))return F=oi(F,L.mode,O,null),F.return=L,F;sl(L,F)}return null}function X(L,F,O,ne){var he=F!==null?F.key:null;if(typeof O=="string"&&O!==""||typeof O=="number")return he!==null?null:k(L,F,""+O,ne);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case W:return O.key===he?I(L,F,O,ne):null;case P:return O.key===he?j(L,F,O,ne):null;case fe:return he=O._init,X(L,F,he(O._payload),ne)}if(rt(O)||re(O))return he!==null?null:J(L,F,O,ne,null);sl(L,O)}return null}function se(L,F,O,ne,he){if(typeof ne=="string"&&ne!==""||typeof ne=="number")return L=L.get(O)||null,k(F,L,""+ne,he);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case W:return L=L.get(ne.key===null?O:ne.key)||null,I(F,L,ne,he);case P:return L=L.get(ne.key===null?O:ne.key)||null,j(F,L,ne,he);case fe:var me=ne._init;return se(L,F,O,me(ne._payload),he)}if(rt(ne)||re(ne))return L=L.get(O)||null,J(F,L,ne,he,null);sl(F,ne)}return null}function ae(L,F,O,ne){for(var he=null,me=null,ye=F,Ae=F=0,mt=null;ye!==null&&Ae<O.length;Ae++){ye.index>Ae?(mt=ye,ye=null):mt=ye.sibling;var Ne=X(L,ye,O[Ae],ne);if(Ne===null){ye===null&&(ye=mt);break}e&&ye&&Ne.alternate===null&&n(L,ye),F=h(Ne,F,Ae),me===null?he=Ne:me.sibling=Ne,me=Ne,ye=mt}if(Ae===O.length)return o(L,ye),We&&Zr(L,Ae),he;if(ye===null){for(;Ae<O.length;Ae++)ye=ee(L,O[Ae],ne),ye!==null&&(F=h(ye,F,Ae),me===null?he=ye:me.sibling=ye,me=ye);return We&&Zr(L,Ae),he}for(ye=l(L,ye);Ae<O.length;Ae++)mt=se(ye,L,Ae,O[Ae],ne),mt!==null&&(e&&mt.alternate!==null&&ye.delete(mt.key===null?Ae:mt.key),F=h(mt,F,Ae),me===null?he=mt:me.sibling=mt,me=mt);return e&&ye.forEach(function(Mr){return n(L,Mr)}),We&&Zr(L,Ae),he}function de(L,F,O,ne){var he=re(O);if(typeof he!="function")throw Error(i(150));if(O=he.call(O),O==null)throw Error(i(151));for(var me=he=null,ye=F,Ae=F=0,mt=null,Ne=O.next();ye!==null&&!Ne.done;Ae++,Ne=O.next()){ye.index>Ae?(mt=ye,ye=null):mt=ye.sibling;var Mr=X(L,ye,Ne.value,ne);if(Mr===null){ye===null&&(ye=mt);break}e&&ye&&Mr.alternate===null&&n(L,ye),F=h(Mr,F,Ae),me===null?he=Mr:me.sibling=Mr,me=Mr,ye=mt}if(Ne.done)return o(L,ye),We&&Zr(L,Ae),he;if(ye===null){for(;!Ne.done;Ae++,Ne=O.next())Ne=ee(L,Ne.value,ne),Ne!==null&&(F=h(Ne,F,Ae),me===null?he=Ne:me.sibling=Ne,me=Ne);return We&&Zr(L,Ae),he}for(ye=l(L,ye);!Ne.done;Ae++,Ne=O.next())Ne=se(ye,L,Ae,Ne.value,ne),Ne!==null&&(e&&Ne.alternate!==null&&ye.delete(Ne.key===null?Ae:Ne.key),F=h(Ne,F,Ae),me===null?he=Ne:me.sibling=Ne,me=Ne);return e&&ye.forEach(function(Q1){return n(L,Q1)}),We&&Zr(L,Ae),he}function ot(L,F,O,ne){if(typeof O=="object"&&O!==null&&O.type===T&&O.key===null&&(O=O.props.children),typeof O=="object"&&O!==null){switch(O.$$typeof){case W:e:{for(var he=O.key,me=F;me!==null;){if(me.key===he){if(he=O.type,he===T){if(me.tag===7){o(L,me.sibling),F=c(me,O.props.children),F.return=L,L=F;break e}}else if(me.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===fe&&Wh(he)===me.type){o(L,me.sibling),F=c(me,O.props),F.ref=Xo(L,me,O),F.return=L,L=F;break e}o(L,me);break}else n(L,me);me=me.sibling}O.type===T?(F=oi(O.props.children,L.mode,ne,O.key),F.return=L,L=F):(ne=Dl(O.type,O.key,O.props,null,L.mode,ne),ne.ref=Xo(L,F,O),ne.return=L,L=ne)}return v(L);case P:e:{for(me=O.key;F!==null;){if(F.key===me)if(F.tag===4&&F.stateNode.containerInfo===O.containerInfo&&F.stateNode.implementation===O.implementation){o(L,F.sibling),F=c(F,O.children||[]),F.return=L,L=F;break e}else{o(L,F);break}else n(L,F);F=F.sibling}F=rc(O,L.mode,ne),F.return=L,L=F}return v(L);case fe:return me=O._init,ot(L,F,me(O._payload),ne)}if(rt(O))return ae(L,F,O,ne);if(re(O))return de(L,F,O,ne);sl(L,O)}return typeof O=="string"&&O!==""||typeof O=="number"?(O=""+O,F!==null&&F.tag===6?(o(L,F.sibling),F=c(F,O),F.return=L,L=F):(o(L,F),F=nc(O,L.mode,ne),F.return=L,L=F),v(L)):o(L,F)}return ot}var Bi=Qh(!0),Kh=Qh(!1),ll=gr(null),al=null,Ni=null,hu=null;function fu(){hu=Ni=al=null}function pu(e){var n=ll.current;Ge(ll),e._currentValue=n}function gu(e,n,o){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===o)break;e=e.return}}function Li(e,n){al=e,hu=Ni=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&n&&(jt=!0),e.firstContext=null)}function un(e){var n=e._currentValue;if(hu!==e)if(e={context:e,memoizedValue:n,next:null},Ni===null){if(al===null)throw Error(i(308));Ni=e,al.dependencies={lanes:0,firstContext:e}}else Ni=Ni.next=e;return n}var Jr=null;function mu(e){Jr===null?Jr=[e]:Jr.push(e)}function Yh(e,n,o,l){var c=n.interleaved;return c===null?(o.next=o,mu(n)):(o.next=c.next,c.next=o),n.interleaved=o,Kn(e,l)}function Kn(e,n){e.lanes|=n;var o=e.alternate;for(o!==null&&(o.lanes|=n),o=e,e=e.return;e!==null;)e.childLanes|=n,o=e.alternate,o!==null&&(o.childLanes|=n),o=e,e=e.return;return o.tag===3?o.stateNode:null}var vr=!1;function yu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Xh(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Yn(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function wr(e,n,o){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,Fe&2){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,Kn(e,o)}return c=l.interleaved,c===null?(n.next=n,mu(l)):(n.next=c.next,c.next=n),l.interleaved=n,Kn(e,o)}function ul(e,n,o){if(n=n.updateQueue,n!==null&&(n=n.shared,(o&4194240)!==0)){var l=n.lanes;l&=e.pendingLanes,o|=l,n.lanes=o,Ia(e,o)}}function Zh(e,n){var o=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,o===l)){var c=null,h=null;if(o=o.firstBaseUpdate,o!==null){do{var v={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};h===null?c=h=v:h=h.next=v,o=o.next}while(o!==null);h===null?c=h=n:h=h.next=n}else c=h=n;o={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:h,shared:l.shared,effects:l.effects},e.updateQueue=o;return}e=o.lastBaseUpdate,e===null?o.firstBaseUpdate=n:e.next=n,o.lastBaseUpdate=n}function cl(e,n,o,l){var c=e.updateQueue;vr=!1;var h=c.firstBaseUpdate,v=c.lastBaseUpdate,k=c.shared.pending;if(k!==null){c.shared.pending=null;var I=k,j=I.next;I.next=null,v===null?h=j:v.next=j,v=I;var J=e.alternate;J!==null&&(J=J.updateQueue,k=J.lastBaseUpdate,k!==v&&(k===null?J.firstBaseUpdate=j:k.next=j,J.lastBaseUpdate=I))}if(h!==null){var ee=c.baseState;v=0,J=j=I=null,k=h;do{var X=k.lane,se=k.eventTime;if((l&X)===X){J!==null&&(J=J.next={eventTime:se,lane:0,tag:k.tag,payload:k.payload,callback:k.callback,next:null});e:{var ae=e,de=k;switch(X=n,se=o,de.tag){case 1:if(ae=de.payload,typeof ae=="function"){ee=ae.call(se,ee,X);break e}ee=ae;break e;case 3:ae.flags=ae.flags&-65537|128;case 0:if(ae=de.payload,X=typeof ae=="function"?ae.call(se,ee,X):ae,X==null)break e;ee=$({},ee,X);break e;case 2:vr=!0}}k.callback!==null&&k.lane!==0&&(e.flags|=64,X=c.effects,X===null?c.effects=[k]:X.push(k))}else se={eventTime:se,lane:X,tag:k.tag,payload:k.payload,callback:k.callback,next:null},J===null?(j=J=se,I=ee):J=J.next=se,v|=X;if(k=k.next,k===null){if(k=c.shared.pending,k===null)break;X=k,k=X.next,X.next=null,c.lastBaseUpdate=X,c.shared.pending=null}}while(!0);if(J===null&&(I=ee),c.baseState=I,c.firstBaseUpdate=j,c.lastBaseUpdate=J,n=c.shared.interleaved,n!==null){c=n;do v|=c.lane,c=c.next;while(c!==n)}else h===null&&(c.shared.lanes=0);ti|=v,e.lanes=v,e.memoizedState=ee}}function Jh(e,n,o){if(e=n.effects,n.effects=null,e!==null)for(n=0;n<e.length;n++){var l=e[n],c=l.callback;if(c!==null){if(l.callback=null,l=o,typeof c!="function")throw Error(i(191,c));c.call(l)}}}var Zo={},Bn=gr(Zo),Jo=gr(Zo),$o=gr(Zo);function $r(e){if(e===Zo)throw Error(i(174));return e}function vu(e,n){switch(Ve($o,n),Ve(Jo,e),Ve(Bn,Zo),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:Dt(null,"");break;default:e=e===8?n.parentNode:n,n=e.namespaceURI||null,e=e.tagName,n=Dt(n,e)}Ge(Bn),Ve(Bn,n)}function qi(){Ge(Bn),Ge(Jo),Ge($o)}function $h(e){$r($o.current);var n=$r(Bn.current),o=Dt(n,e.type);n!==o&&(Ve(Jo,e),Ve(Bn,o))}function wu(e){Jo.current===e&&(Ge(Bn),Ge(Jo))}var Ke=gr(0);function dl(e){for(var n=e;n!==null;){if(n.tag===13){var o=n.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if(n.flags&128)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var xu=[];function Au(){for(var e=0;e<xu.length;e++)xu[e]._workInProgressVersionPrimary=null;xu.length=0}var hl=K.ReactCurrentDispatcher,Eu=K.ReactCurrentBatchConfig,ei=0,Ye=null,dt=null,pt=null,fl=!1,es=!1,ts=0,g1=0;function kt(){throw Error(i(321))}function Su(e,n){if(n===null)return!1;for(var o=0;o<n.length&&o<e.length;o++)if(!wn(e[o],n[o]))return!1;return!0}function ku(e,n,o,l,c,h){if(ei=h,Ye=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,hl.current=e===null||e.memoizedState===null?w1:x1,e=o(l,c),es){h=0;do{if(es=!1,ts=0,25<=h)throw Error(i(301));h+=1,pt=dt=null,n.updateQueue=null,hl.current=A1,e=o(l,c)}while(es)}if(hl.current=ml,n=dt!==null&&dt.next!==null,ei=0,pt=dt=Ye=null,fl=!1,n)throw Error(i(300));return e}function Cu(){var e=ts!==0;return ts=0,e}function Nn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pt===null?Ye.memoizedState=pt=e:pt=pt.next=e,pt}function cn(){if(dt===null){var e=Ye.alternate;e=e!==null?e.memoizedState:null}else e=dt.next;var n=pt===null?Ye.memoizedState:pt.next;if(n!==null)pt=n,dt=e;else{if(e===null)throw Error(i(310));dt=e,e={memoizedState:dt.memoizedState,baseState:dt.baseState,baseQueue:dt.baseQueue,queue:dt.queue,next:null},pt===null?Ye.memoizedState=pt=e:pt=pt.next=e}return pt}function ns(e,n){return typeof n=="function"?n(e):n}function Mu(e){var n=cn(),o=n.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=e;var l=dt,c=l.baseQueue,h=o.pending;if(h!==null){if(c!==null){var v=c.next;c.next=h.next,h.next=v}l.baseQueue=c=h,o.pending=null}if(c!==null){h=c.next,l=l.baseState;var k=v=null,I=null,j=h;do{var J=j.lane;if((ei&J)===J)I!==null&&(I=I.next={lane:0,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),l=j.hasEagerState?j.eagerState:e(l,j.action);else{var ee={lane:J,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null};I===null?(k=I=ee,v=l):I=I.next=ee,Ye.lanes|=J,ti|=J}j=j.next}while(j!==null&&j!==h);I===null?v=l:I.next=k,wn(l,n.memoizedState)||(jt=!0),n.memoizedState=l,n.baseState=v,n.baseQueue=I,o.lastRenderedState=l}if(e=o.interleaved,e!==null){c=e;do h=c.lane,Ye.lanes|=h,ti|=h,c=c.next;while(c!==e)}else c===null&&(o.lanes=0);return[n.memoizedState,o.dispatch]}function Pu(e){var n=cn(),o=n.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=e;var l=o.dispatch,c=o.pending,h=n.memoizedState;if(c!==null){o.pending=null;var v=c=c.next;do h=e(h,v.action),v=v.next;while(v!==c);wn(h,n.memoizedState)||(jt=!0),n.memoizedState=h,n.baseQueue===null&&(n.baseState=h),o.lastRenderedState=h}return[h,l]}function ef(){}function tf(e,n){var o=Ye,l=cn(),c=n(),h=!wn(l.memoizedState,c);if(h&&(l.memoizedState=c,jt=!0),l=l.queue,Ru(of.bind(null,o,l,e),[e]),l.getSnapshot!==n||h||pt!==null&&pt.memoizedState.tag&1){if(o.flags|=2048,rs(9,rf.bind(null,o,l,c,n),void 0,null),gt===null)throw Error(i(349));ei&30||nf(o,n,c)}return c}function nf(e,n,o){e.flags|=16384,e={getSnapshot:n,value:o},n=Ye.updateQueue,n===null?(n={lastEffect:null,stores:null},Ye.updateQueue=n,n.stores=[e]):(o=n.stores,o===null?n.stores=[e]:o.push(e))}function rf(e,n,o,l){n.value=o,n.getSnapshot=l,sf(n)&&lf(e)}function of(e,n,o){return o(function(){sf(n)&&lf(e)})}function sf(e){var n=e.getSnapshot;e=e.value;try{var o=n();return!wn(e,o)}catch{return!0}}function lf(e){var n=Kn(e,1);n!==null&&kn(n,e,1,-1)}function af(e){var n=Nn();return typeof e=="function"&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ns,lastRenderedState:e},n.queue=e,e=e.dispatch=v1.bind(null,Ye,e),[n.memoizedState,e]}function rs(e,n,o,l){return e={tag:e,create:n,destroy:o,deps:l,next:null},n=Ye.updateQueue,n===null?(n={lastEffect:null,stores:null},Ye.updateQueue=n,n.lastEffect=e.next=e):(o=n.lastEffect,o===null?n.lastEffect=e.next=e:(l=o.next,o.next=e,e.next=l,n.lastEffect=e)),e}function uf(){return cn().memoizedState}function pl(e,n,o,l){var c=Nn();Ye.flags|=e,c.memoizedState=rs(1|n,o,void 0,l===void 0?null:l)}function gl(e,n,o,l){var c=cn();l=l===void 0?null:l;var h=void 0;if(dt!==null){var v=dt.memoizedState;if(h=v.destroy,l!==null&&Su(l,v.deps)){c.memoizedState=rs(n,o,h,l);return}}Ye.flags|=e,c.memoizedState=rs(1|n,o,h,l)}function cf(e,n){return pl(8390656,8,e,n)}function Ru(e,n){return gl(2048,8,e,n)}function df(e,n){return gl(4,2,e,n)}function hf(e,n){return gl(4,4,e,n)}function ff(e,n){if(typeof n=="function")return e=e(),n(e),function(){n(null)};if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function pf(e,n,o){return o=o!=null?o.concat([e]):null,gl(4,4,ff.bind(null,n,e),o)}function Tu(){}function gf(e,n){var o=cn();n=n===void 0?null:n;var l=o.memoizedState;return l!==null&&n!==null&&Su(n,l[1])?l[0]:(o.memoizedState=[e,n],e)}function mf(e,n){var o=cn();n=n===void 0?null:n;var l=o.memoizedState;return l!==null&&n!==null&&Su(n,l[1])?l[0]:(e=e(),o.memoizedState=[e,n],e)}function yf(e,n,o){return ei&21?(wn(o,n)||(o=Wd(),Ye.lanes|=o,ti|=o,e.baseState=!0),n):(e.baseState&&(e.baseState=!1,jt=!0),e.memoizedState=o)}function m1(e,n){var o=je;je=o!==0&&4>o?o:4,e(!0);var l=Eu.transition;Eu.transition={};try{e(!1),n()}finally{je=o,Eu.transition=l}}function vf(){return cn().memoizedState}function y1(e,n,o){var l=Sr(e);if(o={lane:l,action:o,hasEagerState:!1,eagerState:null,next:null},wf(e))xf(n,o);else if(o=Yh(e,n,o,l),o!==null){var c=Nt();kn(o,e,l,c),Af(o,n,l)}}function v1(e,n,o){var l=Sr(e),c={lane:l,action:o,hasEagerState:!1,eagerState:null,next:null};if(wf(e))xf(n,c);else{var h=e.alternate;if(e.lanes===0&&(h===null||h.lanes===0)&&(h=n.lastRenderedReducer,h!==null))try{var v=n.lastRenderedState,k=h(v,o);if(c.hasEagerState=!0,c.eagerState=k,wn(k,v)){var I=n.interleaved;I===null?(c.next=c,mu(n)):(c.next=I.next,I.next=c),n.interleaved=c;return}}catch{}finally{}o=Yh(e,n,c,l),o!==null&&(c=Nt(),kn(o,e,l,c),Af(o,n,l))}}function wf(e){var n=e.alternate;return e===Ye||n!==null&&n===Ye}function xf(e,n){es=fl=!0;var o=e.pending;o===null?n.next=n:(n.next=o.next,o.next=n),e.pending=n}function Af(e,n,o){if(o&4194240){var l=n.lanes;l&=e.pendingLanes,o|=l,n.lanes=o,Ia(e,o)}}var ml={readContext:un,useCallback:kt,useContext:kt,useEffect:kt,useImperativeHandle:kt,useInsertionEffect:kt,useLayoutEffect:kt,useMemo:kt,useReducer:kt,useRef:kt,useState:kt,useDebugValue:kt,useDeferredValue:kt,useTransition:kt,useMutableSource:kt,useSyncExternalStore:kt,useId:kt,unstable_isNewReconciler:!1},w1={readContext:un,useCallback:function(e,n){return Nn().memoizedState=[e,n===void 0?null:n],e},useContext:un,useEffect:cf,useImperativeHandle:function(e,n,o){return o=o!=null?o.concat([e]):null,pl(4194308,4,ff.bind(null,n,e),o)},useLayoutEffect:function(e,n){return pl(4194308,4,e,n)},useInsertionEffect:function(e,n){return pl(4,2,e,n)},useMemo:function(e,n){var o=Nn();return n=n===void 0?null:n,e=e(),o.memoizedState=[e,n],e},useReducer:function(e,n,o){var l=Nn();return n=o!==void 0?o(n):n,l.memoizedState=l.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},l.queue=e,e=e.dispatch=y1.bind(null,Ye,e),[l.memoizedState,e]},useRef:function(e){var n=Nn();return e={current:e},n.memoizedState=e},useState:af,useDebugValue:Tu,useDeferredValue:function(e){return Nn().memoizedState=e},useTransition:function(){var e=af(!1),n=e[0];return e=m1.bind(null,e[1]),Nn().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n,o){var l=Ye,c=Nn();if(We){if(o===void 0)throw Error(i(407));o=o()}else{if(o=n(),gt===null)throw Error(i(349));ei&30||nf(l,n,o)}c.memoizedState=o;var h={value:o,getSnapshot:n};return c.queue=h,cf(of.bind(null,l,h,e),[e]),l.flags|=2048,rs(9,rf.bind(null,l,h,o,n),void 0,null),o},useId:function(){var e=Nn(),n=gt.identifierPrefix;if(We){var o=Qn,l=Wn;o=(l&~(1<<32-vn(l)-1)).toString(32)+o,n=":"+n+"R"+o,o=ts++,0<o&&(n+="H"+o.toString(32)),n+=":"}else o=g1++,n=":"+n+"r"+o.toString(32)+":";return e.memoizedState=n},unstable_isNewReconciler:!1},x1={readContext:un,useCallback:gf,useContext:un,useEffect:Ru,useImperativeHandle:pf,useInsertionEffect:df,useLayoutEffect:hf,useMemo:mf,useReducer:Mu,useRef:uf,useState:function(){return Mu(ns)},useDebugValue:Tu,useDeferredValue:function(e){var n=cn();return yf(n,dt.memoizedState,e)},useTransition:function(){var e=Mu(ns)[0],n=cn().memoizedState;return[e,n]},useMutableSource:ef,useSyncExternalStore:tf,useId:vf,unstable_isNewReconciler:!1},A1={readContext:un,useCallback:gf,useContext:un,useEffect:Ru,useImperativeHandle:pf,useInsertionEffect:df,useLayoutEffect:hf,useMemo:mf,useReducer:Pu,useRef:uf,useState:function(){return Pu(ns)},useDebugValue:Tu,useDeferredValue:function(e){var n=cn();return dt===null?n.memoizedState=e:yf(n,dt.memoizedState,e)},useTransition:function(){var e=Pu(ns)[0],n=cn().memoizedState;return[e,n]},useMutableSource:ef,useSyncExternalStore:tf,useId:vf,unstable_isNewReconciler:!1};function An(e,n){if(e&&e.defaultProps){n=$({},n),e=e.defaultProps;for(var o in e)n[o]===void 0&&(n[o]=e[o]);return n}return n}function Du(e,n,o,l){n=e.memoizedState,o=o(l,n),o=o==null?n:$({},n,o),e.memoizedState=o,e.lanes===0&&(e.updateQueue.baseState=o)}var yl={isMounted:function(e){return(e=e._reactInternals)?Qr(e)===e:!1},enqueueSetState:function(e,n,o){e=e._reactInternals;var l=Nt(),c=Sr(e),h=Yn(l,c);h.payload=n,o!=null&&(h.callback=o),n=wr(e,h,c),n!==null&&(kn(n,e,c,l),ul(n,e,c))},enqueueReplaceState:function(e,n,o){e=e._reactInternals;var l=Nt(),c=Sr(e),h=Yn(l,c);h.tag=1,h.payload=n,o!=null&&(h.callback=o),n=wr(e,h,c),n!==null&&(kn(n,e,c,l),ul(n,e,c))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var o=Nt(),l=Sr(e),c=Yn(o,l);c.tag=2,n!=null&&(c.callback=n),n=wr(e,c,l),n!==null&&(kn(n,e,l,o),ul(n,e,l))}};function Ef(e,n,o,l,c,h,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,h,v):n.prototype&&n.prototype.isPureReactComponent?!Vo(o,l)||!Vo(c,h):!0}function Sf(e,n,o){var l=!1,c=mr,h=n.contextType;return typeof h=="object"&&h!==null?h=un(h):(c=bt(n)?Yr:St.current,l=n.contextTypes,h=(l=l!=null)?Ti(e,c):mr),n=new n(o,h),e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=yl,e.stateNode=n,n._reactInternals=e,l&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=c,e.__reactInternalMemoizedMaskedChildContext=h),n}function kf(e,n,o,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(o,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(o,l),n.state!==e&&yl.enqueueReplaceState(n,n.state,null)}function Iu(e,n,o,l){var c=e.stateNode;c.props=o,c.state=e.memoizedState,c.refs={},yu(e);var h=n.contextType;typeof h=="object"&&h!==null?c.context=un(h):(h=bt(n)?Yr:St.current,c.context=Ti(e,h)),c.state=e.memoizedState,h=n.getDerivedStateFromProps,typeof h=="function"&&(Du(e,n,h,o),c.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(n=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),n!==c.state&&yl.enqueueReplaceState(c,c.state,null),cl(e,o,c,l),c.state=e.memoizedState),typeof c.componentDidMount=="function"&&(e.flags|=4194308)}function Oi(e,n){try{var o="",l=n;do o+=Me(l),l=l.return;while(l);var c=o}catch(h){c=`
Error generating stack: `+h.message+`
`+h.stack}return{value:e,source:n,stack:c,digest:null}}function Fu(e,n,o){return{value:e,source:null,stack:o??null,digest:n??null}}function Bu(e,n){try{console.error(n.value)}catch(o){setTimeout(function(){throw o})}}var E1=typeof WeakMap=="function"?WeakMap:Map;function Cf(e,n,o){o=Yn(-1,o),o.tag=3,o.payload={element:null};var l=n.value;return o.callback=function(){kl||(kl=!0,Ku=l),Bu(e,n)},o}function Mf(e,n,o){o=Yn(-1,o),o.tag=3;var l=e.type.getDerivedStateFromError;if(typeof l=="function"){var c=n.value;o.payload=function(){return l(c)},o.callback=function(){Bu(e,n)}}var h=e.stateNode;return h!==null&&typeof h.componentDidCatch=="function"&&(o.callback=function(){Bu(e,n),typeof l!="function"&&(Ar===null?Ar=new Set([this]):Ar.add(this));var v=n.stack;this.componentDidCatch(n.value,{componentStack:v!==null?v:""})}),o}function Pf(e,n,o){var l=e.pingCache;if(l===null){l=e.pingCache=new E1;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(o)||(c.add(o),e=q1.bind(null,e,n,o),n.then(e,e))}function Rf(e){do{var n;if((n=e.tag===13)&&(n=e.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return e;e=e.return}while(e!==null);return null}function Tf(e,n,o,l,c){return e.mode&1?(e.flags|=65536,e.lanes=c,e):(e===n?e.flags|=65536:(e.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(n=Yn(-1,1),n.tag=2,wr(o,n,1))),o.lanes|=1),e)}var S1=K.ReactCurrentOwner,jt=!1;function Bt(e,n,o,l){n.child=e===null?Kh(n,null,o,l):Bi(n,e.child,o,l)}function Df(e,n,o,l,c){o=o.render;var h=n.ref;return Li(n,c),l=ku(e,n,o,l,h,c),o=Cu(),e!==null&&!jt?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~c,Xn(e,n,c)):(We&&o&&lu(n),n.flags|=1,Bt(e,n,l,c),n.child)}function If(e,n,o,l,c){if(e===null){var h=o.type;return typeof h=="function"&&!tc(h)&&h.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(n.tag=15,n.type=h,Ff(e,n,h,l,c)):(e=Dl(o.type,null,l,n,n.mode,c),e.ref=n.ref,e.return=n,n.child=e)}if(h=e.child,!(e.lanes&c)){var v=h.memoizedProps;if(o=o.compare,o=o!==null?o:Vo,o(v,l)&&e.ref===n.ref)return Xn(e,n,c)}return n.flags|=1,e=Cr(h,l),e.ref=n.ref,e.return=n,n.child=e}function Ff(e,n,o,l,c){if(e!==null){var h=e.memoizedProps;if(Vo(h,l)&&e.ref===n.ref)if(jt=!1,n.pendingProps=l=h,(e.lanes&c)!==0)e.flags&131072&&(jt=!0);else return n.lanes=e.lanes,Xn(e,n,c)}return Nu(e,n,o,l,c)}function Bf(e,n,o){var l=n.pendingProps,c=l.children,h=e!==null?e.memoizedState:null;if(l.mode==="hidden")if(!(n.mode&1))n.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ve(ji,Jt),Jt|=o;else{if(!(o&1073741824))return e=h!==null?h.baseLanes|o:o,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null,transitions:null},n.updateQueue=null,Ve(ji,Jt),Jt|=e,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},l=h!==null?h.baseLanes:o,Ve(ji,Jt),Jt|=l}else h!==null?(l=h.baseLanes|o,n.memoizedState=null):l=o,Ve(ji,Jt),Jt|=l;return Bt(e,n,c,o),n.child}function Nf(e,n){var o=n.ref;(e===null&&o!==null||e!==null&&e.ref!==o)&&(n.flags|=512,n.flags|=2097152)}function Nu(e,n,o,l,c){var h=bt(o)?Yr:St.current;return h=Ti(n,h),Li(n,c),o=ku(e,n,o,l,h,c),l=Cu(),e!==null&&!jt?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~c,Xn(e,n,c)):(We&&l&&lu(n),n.flags|=1,Bt(e,n,o,c),n.child)}function Lf(e,n,o,l,c){if(bt(o)){var h=!0;tl(n)}else h=!1;if(Li(n,c),n.stateNode===null)wl(e,n),Sf(n,o,l),Iu(n,o,l,c),l=!0;else if(e===null){var v=n.stateNode,k=n.memoizedProps;v.props=k;var I=v.context,j=o.contextType;typeof j=="object"&&j!==null?j=un(j):(j=bt(o)?Yr:St.current,j=Ti(n,j));var J=o.getDerivedStateFromProps,ee=typeof J=="function"||typeof v.getSnapshotBeforeUpdate=="function";ee||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(k!==l||I!==j)&&kf(n,v,l,j),vr=!1;var X=n.memoizedState;v.state=X,cl(n,l,v,c),I=n.memoizedState,k!==l||X!==I||Ot.current||vr?(typeof J=="function"&&(Du(n,o,J,l),I=n.memoizedState),(k=vr||Ef(n,o,k,l,X,I,j))?(ee||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(n.flags|=4194308)):(typeof v.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=I),v.props=l,v.state=I,v.context=j,l=k):(typeof v.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{v=n.stateNode,Xh(e,n),k=n.memoizedProps,j=n.type===n.elementType?k:An(n.type,k),v.props=j,ee=n.pendingProps,X=v.context,I=o.contextType,typeof I=="object"&&I!==null?I=un(I):(I=bt(o)?Yr:St.current,I=Ti(n,I));var se=o.getDerivedStateFromProps;(J=typeof se=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(k!==ee||X!==I)&&kf(n,v,l,I),vr=!1,X=n.memoizedState,v.state=X,cl(n,l,v,c);var ae=n.memoizedState;k!==ee||X!==ae||Ot.current||vr?(typeof se=="function"&&(Du(n,o,se,l),ae=n.memoizedState),(j=vr||Ef(n,o,j,l,X,ae,I)||!1)?(J||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(l,ae,I),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(l,ae,I)),typeof v.componentDidUpdate=="function"&&(n.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof v.componentDidUpdate!="function"||k===e.memoizedProps&&X===e.memoizedState||(n.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||k===e.memoizedProps&&X===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=ae),v.props=l,v.state=ae,v.context=I,l=j):(typeof v.componentDidUpdate!="function"||k===e.memoizedProps&&X===e.memoizedState||(n.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||k===e.memoizedProps&&X===e.memoizedState||(n.flags|=1024),l=!1)}return Lu(e,n,o,l,h,c)}function Lu(e,n,o,l,c,h){Nf(e,n);var v=(n.flags&128)!==0;if(!l&&!v)return c&&jh(n,o,!1),Xn(e,n,h);l=n.stateNode,S1.current=n;var k=v&&typeof o.getDerivedStateFromError!="function"?null:l.render();return n.flags|=1,e!==null&&v?(n.child=Bi(n,e.child,null,h),n.child=Bi(n,null,k,h)):Bt(e,n,k,h),n.memoizedState=l.state,c&&jh(n,o,!0),n.child}function qf(e){var n=e.stateNode;n.pendingContext?Oh(e,n.pendingContext,n.pendingContext!==n.context):n.context&&Oh(e,n.context,!1),vu(e,n.containerInfo)}function Of(e,n,o,l,c){return Fi(),du(c),n.flags|=256,Bt(e,n,o,l),n.child}var qu={dehydrated:null,treeContext:null,retryLane:0};function Ou(e){return{baseLanes:e,cachePool:null,transitions:null}}function bf(e,n,o){var l=n.pendingProps,c=Ke.current,h=!1,v=(n.flags&128)!==0,k;if((k=v)||(k=e!==null&&e.memoizedState===null?!1:(c&2)!==0),k?(h=!0,n.flags&=-129):(e===null||e.memoizedState!==null)&&(c|=1),Ve(Ke,c&1),e===null)return cu(n),e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(n.mode&1?e.data==="$!"?n.lanes=8:n.lanes=1073741824:n.lanes=1,null):(v=l.children,e=l.fallback,h?(l=n.mode,h=n.child,v={mode:"hidden",children:v},!(l&1)&&h!==null?(h.childLanes=0,h.pendingProps=v):h=Il(v,l,0,null),e=oi(e,l,o,null),h.return=n,e.return=n,h.sibling=e,n.child=h,n.child.memoizedState=Ou(o),n.memoizedState=qu,e):bu(n,v));if(c=e.memoizedState,c!==null&&(k=c.dehydrated,k!==null))return k1(e,n,v,l,k,c,o);if(h){h=l.fallback,v=n.mode,c=e.child,k=c.sibling;var I={mode:"hidden",children:l.children};return!(v&1)&&n.child!==c?(l=n.child,l.childLanes=0,l.pendingProps=I,n.deletions=null):(l=Cr(c,I),l.subtreeFlags=c.subtreeFlags&14680064),k!==null?h=Cr(k,h):(h=oi(h,v,o,null),h.flags|=2),h.return=n,l.return=n,l.sibling=h,n.child=l,l=h,h=n.child,v=e.child.memoizedState,v=v===null?Ou(o):{baseLanes:v.baseLanes|o,cachePool:null,transitions:v.transitions},h.memoizedState=v,h.childLanes=e.childLanes&~o,n.memoizedState=qu,l}return h=e.child,e=h.sibling,l=Cr(h,{mode:"visible",children:l.children}),!(n.mode&1)&&(l.lanes=o),l.return=n,l.sibling=null,e!==null&&(o=n.deletions,o===null?(n.deletions=[e],n.flags|=16):o.push(e)),n.child=l,n.memoizedState=null,l}function bu(e,n){return n=Il({mode:"visible",children:n},e.mode,0,null),n.return=e,e.child=n}function vl(e,n,o,l){return l!==null&&du(l),Bi(n,e.child,null,o),e=bu(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function k1(e,n,o,l,c,h,v){if(o)return n.flags&256?(n.flags&=-257,l=Fu(Error(i(422))),vl(e,n,v,l)):n.memoizedState!==null?(n.child=e.child,n.flags|=128,null):(h=l.fallback,c=n.mode,l=Il({mode:"visible",children:l.children},c,0,null),h=oi(h,c,v,null),h.flags|=2,l.return=n,h.return=n,l.sibling=h,n.child=l,n.mode&1&&Bi(n,e.child,null,v),n.child.memoizedState=Ou(v),n.memoizedState=qu,h);if(!(n.mode&1))return vl(e,n,v,null);if(c.data==="$!"){if(l=c.nextSibling&&c.nextSibling.dataset,l)var k=l.dgst;return l=k,h=Error(i(419)),l=Fu(h,l,void 0),vl(e,n,v,l)}if(k=(v&e.childLanes)!==0,jt||k){if(l=gt,l!==null){switch(v&-v){case 4:c=2;break;case 16:c=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:c=32;break;case 536870912:c=268435456;break;default:c=0}c=c&(l.suspendedLanes|v)?0:c,c!==0&&c!==h.retryLane&&(h.retryLane=c,Kn(e,c),kn(l,e,c,-1))}return ec(),l=Fu(Error(i(421))),vl(e,n,v,l)}return c.data==="$?"?(n.flags|=128,n.child=e.child,n=O1.bind(null,e),c._reactRetry=n,null):(e=h.treeContext,Zt=pr(c.nextSibling),Xt=n,We=!0,xn=null,e!==null&&(ln[an++]=Wn,ln[an++]=Qn,ln[an++]=Xr,Wn=e.id,Qn=e.overflow,Xr=n),n=bu(n,l.children),n.flags|=4096,n)}function jf(e,n,o){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),gu(e.return,n,o)}function ju(e,n,o,l,c){var h=e.memoizedState;h===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:o,tailMode:c}:(h.isBackwards=n,h.rendering=null,h.renderingStartTime=0,h.last=l,h.tail=o,h.tailMode=c)}function Uf(e,n,o){var l=n.pendingProps,c=l.revealOrder,h=l.tail;if(Bt(e,n,l.children,o),l=Ke.current,l&2)l=l&1|2,n.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&jf(e,o,n);else if(e.tag===19)jf(e,o,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}if(Ve(Ke,l),!(n.mode&1))n.memoizedState=null;else switch(c){case"forwards":for(o=n.child,c=null;o!==null;)e=o.alternate,e!==null&&dl(e)===null&&(c=o),o=o.sibling;o=c,o===null?(c=n.child,n.child=null):(c=o.sibling,o.sibling=null),ju(n,!1,c,o,h);break;case"backwards":for(o=null,c=n.child,n.child=null;c!==null;){if(e=c.alternate,e!==null&&dl(e)===null){n.child=c;break}e=c.sibling,c.sibling=o,o=c,c=e}ju(n,!0,o,null,h);break;case"together":ju(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function wl(e,n){!(n.mode&1)&&e!==null&&(e.alternate=null,n.alternate=null,n.flags|=2)}function Xn(e,n,o){if(e!==null&&(n.dependencies=e.dependencies),ti|=n.lanes,!(o&n.childLanes))return null;if(e!==null&&n.child!==e.child)throw Error(i(153));if(n.child!==null){for(e=n.child,o=Cr(e,e.pendingProps),n.child=o,o.return=n;e.sibling!==null;)e=e.sibling,o=o.sibling=Cr(e,e.pendingProps),o.return=n;o.sibling=null}return n.child}function C1(e,n,o){switch(n.tag){case 3:qf(n),Fi();break;case 5:$h(n);break;case 1:bt(n.type)&&tl(n);break;case 4:vu(n,n.stateNode.containerInfo);break;case 10:var l=n.type._context,c=n.memoizedProps.value;Ve(ll,l._currentValue),l._currentValue=c;break;case 13:if(l=n.memoizedState,l!==null)return l.dehydrated!==null?(Ve(Ke,Ke.current&1),n.flags|=128,null):o&n.child.childLanes?bf(e,n,o):(Ve(Ke,Ke.current&1),e=Xn(e,n,o),e!==null?e.sibling:null);Ve(Ke,Ke.current&1);break;case 19:if(l=(o&n.childLanes)!==0,e.flags&128){if(l)return Uf(e,n,o);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),Ve(Ke,Ke.current),l)break;return null;case 22:case 23:return n.lanes=0,Bf(e,n,o)}return Xn(e,n,o)}var zf,Uu,_f,Vf;zf=function(e,n){for(var o=n.child;o!==null;){if(o.tag===5||o.tag===6)e.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===n)break;for(;o.sibling===null;){if(o.return===null||o.return===n)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},Uu=function(){},_f=function(e,n,o,l){var c=e.memoizedProps;if(c!==l){e=n.stateNode,$r(Bn.current);var h=null;switch(o){case"input":c=pe(e,c),l=pe(e,l),h=[];break;case"select":c=$({},c,{value:void 0}),l=$({},l,{value:void 0}),h=[];break;case"textarea":c=Vr(e,c),l=Vr(e,l),h=[];break;default:typeof c.onClick!="function"&&typeof l.onClick=="function"&&(e.onclick=Js)}vi(o,l);var v;o=null;for(j in c)if(!l.hasOwnProperty(j)&&c.hasOwnProperty(j)&&c[j]!=null)if(j==="style"){var k=c[j];for(v in k)k.hasOwnProperty(v)&&(o||(o={}),o[v]="")}else j!=="dangerouslySetInnerHTML"&&j!=="children"&&j!=="suppressContentEditableWarning"&&j!=="suppressHydrationWarning"&&j!=="autoFocus"&&(a.hasOwnProperty(j)?h||(h=[]):(h=h||[]).push(j,null));for(j in l){var I=l[j];if(k=c!=null?c[j]:void 0,l.hasOwnProperty(j)&&I!==k&&(I!=null||k!=null))if(j==="style")if(k){for(v in k)!k.hasOwnProperty(v)||I&&I.hasOwnProperty(v)||(o||(o={}),o[v]="");for(v in I)I.hasOwnProperty(v)&&k[v]!==I[v]&&(o||(o={}),o[v]=I[v])}else o||(h||(h=[]),h.push(j,o)),o=I;else j==="dangerouslySetInnerHTML"?(I=I?I.__html:void 0,k=k?k.__html:void 0,I!=null&&k!==I&&(h=h||[]).push(j,I)):j==="children"?typeof I!="string"&&typeof I!="number"||(h=h||[]).push(j,""+I):j!=="suppressContentEditableWarning"&&j!=="suppressHydrationWarning"&&(a.hasOwnProperty(j)?(I!=null&&j==="onScroll"&&He("scroll",e),h||k===I||(h=[])):(h=h||[]).push(j,I))}o&&(h=h||[]).push("style",o);var j=h;(n.updateQueue=j)&&(n.flags|=4)}},Vf=function(e,n,o,l){o!==l&&(n.flags|=4)};function is(e,n){if(!We)switch(e.tailMode){case"hidden":n=e.tail;for(var o=null;n!==null;)n.alternate!==null&&(o=n),n=n.sibling;o===null?e.tail=null:o.sibling=null;break;case"collapsed":o=e.tail;for(var l=null;o!==null;)o.alternate!==null&&(l=o),o=o.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function Ct(e){var n=e.alternate!==null&&e.alternate.child===e.child,o=0,l=0;if(n)for(var c=e.child;c!==null;)o|=c.lanes|c.childLanes,l|=c.subtreeFlags&14680064,l|=c.flags&14680064,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)o|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=l,e.childLanes=o,n}function M1(e,n,o){var l=n.pendingProps;switch(au(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ct(n),null;case 1:return bt(n.type)&&el(),Ct(n),null;case 3:return l=n.stateNode,qi(),Ge(Ot),Ge(St),Au(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(ol(n)?n.flags|=4:e===null||e.memoizedState.isDehydrated&&!(n.flags&256)||(n.flags|=1024,xn!==null&&(Zu(xn),xn=null))),Uu(e,n),Ct(n),null;case 5:wu(n);var c=$r($o.current);if(o=n.type,e!==null&&n.stateNode!=null)_f(e,n,o,l,c),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!l){if(n.stateNode===null)throw Error(i(166));return Ct(n),null}if(e=$r(Bn.current),ol(n)){l=n.stateNode,o=n.type;var h=n.memoizedProps;switch(l[Fn]=n,l[Ko]=h,e=(n.mode&1)!==0,o){case"dialog":He("cancel",l),He("close",l);break;case"iframe":case"object":case"embed":He("load",l);break;case"video":case"audio":for(c=0;c<Go.length;c++)He(Go[c],l);break;case"source":He("error",l);break;case"img":case"image":case"link":He("error",l),He("load",l);break;case"details":He("toggle",l);break;case"input":ke(l,h),He("invalid",l);break;case"select":l._wrapperState={wasMultiple:!!h.multiple},He("invalid",l);break;case"textarea":yi(l,h),He("invalid",l)}vi(o,h),c=null;for(var v in h)if(h.hasOwnProperty(v)){var k=h[v];v==="children"?typeof k=="string"?l.textContent!==k&&(h.suppressHydrationWarning!==!0&&Zs(l.textContent,k,e),c=["children",k]):typeof k=="number"&&l.textContent!==""+k&&(h.suppressHydrationWarning!==!0&&Zs(l.textContent,k,e),c=["children",""+k]):a.hasOwnProperty(v)&&k!=null&&v==="onScroll"&&He("scroll",l)}switch(o){case"input":Rt(l),Ze(l,h,!0);break;case"textarea":Rt(l),Gr(l);break;case"select":case"option":break;default:typeof h.onClick=="function"&&(l.onclick=Js)}l=c,n.updateQueue=l,l!==null&&(n.flags|=4)}else{v=c.nodeType===9?c:c.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=or(o)),e==="http://www.w3.org/1999/xhtml"?o==="script"?(e=v.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof l.is=="string"?e=v.createElement(o,{is:l.is}):(e=v.createElement(o),o==="select"&&(v=e,l.multiple?v.multiple=!0:l.size&&(v.size=l.size))):e=v.createElementNS(e,o),e[Fn]=n,e[Ko]=l,zf(e,n,!1,!1),n.stateNode=e;e:{switch(v=wi(o,l),o){case"dialog":He("cancel",e),He("close",e),c=l;break;case"iframe":case"object":case"embed":He("load",e),c=l;break;case"video":case"audio":for(c=0;c<Go.length;c++)He(Go[c],e);c=l;break;case"source":He("error",e),c=l;break;case"img":case"image":case"link":He("error",e),He("load",e),c=l;break;case"details":He("toggle",e),c=l;break;case"input":ke(e,l),c=pe(e,l),He("invalid",e);break;case"option":c=l;break;case"select":e._wrapperState={wasMultiple:!!l.multiple},c=$({},l,{value:void 0}),He("invalid",e);break;case"textarea":yi(e,l),c=Vr(e,l),He("invalid",e);break;default:c=l}vi(o,c),k=c;for(h in k)if(k.hasOwnProperty(h)){var I=k[h];h==="style"?Po(e,I):h==="dangerouslySetInnerHTML"?(I=I?I.__html:void 0,I!=null&&zn(e,I)):h==="children"?typeof I=="string"?(o!=="textarea"||I!=="")&&ft(e,I):typeof I=="number"&&ft(e,""+I):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(a.hasOwnProperty(h)?I!=null&&h==="onScroll"&&He("scroll",e):I!=null&&_(e,h,I,v))}switch(o){case"input":Rt(e),Ze(e,l,!1);break;case"textarea":Rt(e),Gr(e);break;case"option":l.value!=null&&e.setAttribute("value",""+De(l.value));break;case"select":e.multiple=!!l.multiple,h=l.value,h!=null?Tt(e,!!l.multiple,h,!1):l.defaultValue!=null&&Tt(e,!!l.multiple,l.defaultValue,!0);break;default:typeof c.onClick=="function"&&(e.onclick=Js)}switch(o){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}}l&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return Ct(n),null;case 6:if(e&&n.stateNode!=null)Vf(e,n,e.memoizedProps,l);else{if(typeof l!="string"&&n.stateNode===null)throw Error(i(166));if(o=$r($o.current),$r(Bn.current),ol(n)){if(l=n.stateNode,o=n.memoizedProps,l[Fn]=n,(h=l.nodeValue!==o)&&(e=Xt,e!==null))switch(e.tag){case 3:Zs(l.nodeValue,o,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Zs(l.nodeValue,o,(e.mode&1)!==0)}h&&(n.flags|=4)}else l=(o.nodeType===9?o:o.ownerDocument).createTextNode(l),l[Fn]=n,n.stateNode=l}return Ct(n),null;case 13:if(Ge(Ke),l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(We&&Zt!==null&&n.mode&1&&!(n.flags&128))Gh(),Fi(),n.flags|=98560,h=!1;else if(h=ol(n),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(i(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(i(317));h[Fn]=n}else Fi(),!(n.flags&128)&&(n.memoizedState=null),n.flags|=4;Ct(n),h=!1}else xn!==null&&(Zu(xn),xn=null),h=!0;if(!h)return n.flags&65536?n:null}return n.flags&128?(n.lanes=o,n):(l=l!==null,l!==(e!==null&&e.memoizedState!==null)&&l&&(n.child.flags|=8192,n.mode&1&&(e===null||Ke.current&1?ht===0&&(ht=3):ec())),n.updateQueue!==null&&(n.flags|=4),Ct(n),null);case 4:return qi(),Uu(e,n),e===null&&Wo(n.stateNode.containerInfo),Ct(n),null;case 10:return pu(n.type._context),Ct(n),null;case 17:return bt(n.type)&&el(),Ct(n),null;case 19:if(Ge(Ke),h=n.memoizedState,h===null)return Ct(n),null;if(l=(n.flags&128)!==0,v=h.rendering,v===null)if(l)is(h,!1);else{if(ht!==0||e!==null&&e.flags&128)for(e=n.child;e!==null;){if(v=dl(e),v!==null){for(n.flags|=128,is(h,!1),l=v.updateQueue,l!==null&&(n.updateQueue=l,n.flags|=4),n.subtreeFlags=0,l=o,o=n.child;o!==null;)h=o,e=l,h.flags&=14680066,v=h.alternate,v===null?(h.childLanes=0,h.lanes=e,h.child=null,h.subtreeFlags=0,h.memoizedProps=null,h.memoizedState=null,h.updateQueue=null,h.dependencies=null,h.stateNode=null):(h.childLanes=v.childLanes,h.lanes=v.lanes,h.child=v.child,h.subtreeFlags=0,h.deletions=null,h.memoizedProps=v.memoizedProps,h.memoizedState=v.memoizedState,h.updateQueue=v.updateQueue,h.type=v.type,e=v.dependencies,h.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),o=o.sibling;return Ve(Ke,Ke.current&1|2),n.child}e=e.sibling}h.tail!==null&&it()>Ui&&(n.flags|=128,l=!0,is(h,!1),n.lanes=4194304)}else{if(!l)if(e=dl(v),e!==null){if(n.flags|=128,l=!0,o=e.updateQueue,o!==null&&(n.updateQueue=o,n.flags|=4),is(h,!0),h.tail===null&&h.tailMode==="hidden"&&!v.alternate&&!We)return Ct(n),null}else 2*it()-h.renderingStartTime>Ui&&o!==1073741824&&(n.flags|=128,l=!0,is(h,!1),n.lanes=4194304);h.isBackwards?(v.sibling=n.child,n.child=v):(o=h.last,o!==null?o.sibling=v:n.child=v,h.last=v)}return h.tail!==null?(n=h.tail,h.rendering=n,h.tail=n.sibling,h.renderingStartTime=it(),n.sibling=null,o=Ke.current,Ve(Ke,l?o&1|2:o&1),n):(Ct(n),null);case 22:case 23:return $u(),l=n.memoizedState!==null,e!==null&&e.memoizedState!==null!==l&&(n.flags|=8192),l&&n.mode&1?Jt&1073741824&&(Ct(n),n.subtreeFlags&6&&(n.flags|=8192)):Ct(n),null;case 24:return null;case 25:return null}throw Error(i(156,n.tag))}function P1(e,n){switch(au(n),n.tag){case 1:return bt(n.type)&&el(),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return qi(),Ge(Ot),Ge(St),Au(),e=n.flags,e&65536&&!(e&128)?(n.flags=e&-65537|128,n):null;case 5:return wu(n),null;case 13:if(Ge(Ke),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(i(340));Fi()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Ge(Ke),null;case 4:return qi(),null;case 10:return pu(n.type._context),null;case 22:case 23:return $u(),null;case 24:return null;default:return null}}var xl=!1,Mt=!1,R1=typeof WeakSet=="function"?WeakSet:Set,le=null;function bi(e,n){var o=e.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(l){et(e,n,l)}else o.current=null}function zu(e,n,o){try{o()}catch(l){et(e,n,l)}}var Hf=!1;function T1(e,n){if($a=Us,e=Ah(),Ga(e)){if("selectionStart"in e)var o={start:e.selectionStart,end:e.selectionEnd};else e:{o=(o=e.ownerDocument)&&o.defaultView||window;var l=o.getSelection&&o.getSelection();if(l&&l.rangeCount!==0){o=l.anchorNode;var c=l.anchorOffset,h=l.focusNode;l=l.focusOffset;try{o.nodeType,h.nodeType}catch{o=null;break e}var v=0,k=-1,I=-1,j=0,J=0,ee=e,X=null;t:for(;;){for(var se;ee!==o||c!==0&&ee.nodeType!==3||(k=v+c),ee!==h||l!==0&&ee.nodeType!==3||(I=v+l),ee.nodeType===3&&(v+=ee.nodeValue.length),(se=ee.firstChild)!==null;)X=ee,ee=se;for(;;){if(ee===e)break t;if(X===o&&++j===c&&(k=v),X===h&&++J===l&&(I=v),(se=ee.nextSibling)!==null)break;ee=X,X=ee.parentNode}ee=se}o=k===-1||I===-1?null:{start:k,end:I}}else o=null}o=o||{start:0,end:0}}else o=null;for(eu={focusedElem:e,selectionRange:o},Us=!1,le=n;le!==null;)if(n=le,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,le=e;else for(;le!==null;){n=le;try{var ae=n.alternate;if(n.flags&1024)switch(n.tag){case 0:case 11:case 15:break;case 1:if(ae!==null){var de=ae.memoizedProps,ot=ae.memoizedState,L=n.stateNode,F=L.getSnapshotBeforeUpdate(n.elementType===n.type?de:An(n.type,de),ot);L.__reactInternalSnapshotBeforeUpdate=F}break;case 3:var O=n.stateNode.containerInfo;O.nodeType===1?O.textContent="":O.nodeType===9&&O.documentElement&&O.removeChild(O.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(i(163))}}catch(ne){et(n,n.return,ne)}if(e=n.sibling,e!==null){e.return=n.return,le=e;break}le=n.return}return ae=Hf,Hf=!1,ae}function os(e,n,o){var l=n.updateQueue;if(l=l!==null?l.lastEffect:null,l!==null){var c=l=l.next;do{if((c.tag&e)===e){var h=c.destroy;c.destroy=void 0,h!==void 0&&zu(n,o,h)}c=c.next}while(c!==l)}}function Al(e,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var o=n=n.next;do{if((o.tag&e)===e){var l=o.create;o.destroy=l()}o=o.next}while(o!==n)}}function _u(e){var n=e.ref;if(n!==null){var o=e.stateNode;switch(e.tag){case 5:e=o;break;default:e=o}typeof n=="function"?n(e):n.current=e}}function Gf(e){var n=e.alternate;n!==null&&(e.alternate=null,Gf(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&(delete n[Fn],delete n[Ko],delete n[iu],delete n[d1],delete n[h1])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Wf(e){return e.tag===5||e.tag===3||e.tag===4}function Qf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Wf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Vu(e,n,o){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?o.nodeType===8?o.parentNode.insertBefore(e,n):o.insertBefore(e,n):(o.nodeType===8?(n=o.parentNode,n.insertBefore(e,o)):(n=o,n.appendChild(e)),o=o._reactRootContainer,o!=null||n.onclick!==null||(n.onclick=Js));else if(l!==4&&(e=e.child,e!==null))for(Vu(e,n,o),e=e.sibling;e!==null;)Vu(e,n,o),e=e.sibling}function Hu(e,n,o){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?o.insertBefore(e,n):o.appendChild(e);else if(l!==4&&(e=e.child,e!==null))for(Hu(e,n,o),e=e.sibling;e!==null;)Hu(e,n,o),e=e.sibling}var xt=null,En=!1;function xr(e,n,o){for(o=o.child;o!==null;)Kf(e,n,o),o=o.sibling}function Kf(e,n,o){if(In&&typeof In.onCommitFiberUnmount=="function")try{In.onCommitFiberUnmount(Ns,o)}catch{}switch(o.tag){case 5:Mt||bi(o,n);case 6:var l=xt,c=En;xt=null,xr(e,n,o),xt=l,En=c,xt!==null&&(En?(e=xt,o=o.stateNode,e.nodeType===8?e.parentNode.removeChild(o):e.removeChild(o)):xt.removeChild(o.stateNode));break;case 18:xt!==null&&(En?(e=xt,o=o.stateNode,e.nodeType===8?ru(e.parentNode,o):e.nodeType===1&&ru(e,o),Oo(e)):ru(xt,o.stateNode));break;case 4:l=xt,c=En,xt=o.stateNode.containerInfo,En=!0,xr(e,n,o),xt=l,En=c;break;case 0:case 11:case 14:case 15:if(!Mt&&(l=o.updateQueue,l!==null&&(l=l.lastEffect,l!==null))){c=l=l.next;do{var h=c,v=h.destroy;h=h.tag,v!==void 0&&(h&2||h&4)&&zu(o,n,v),c=c.next}while(c!==l)}xr(e,n,o);break;case 1:if(!Mt&&(bi(o,n),l=o.stateNode,typeof l.componentWillUnmount=="function"))try{l.props=o.memoizedProps,l.state=o.memoizedState,l.componentWillUnmount()}catch(k){et(o,n,k)}xr(e,n,o);break;case 21:xr(e,n,o);break;case 22:o.mode&1?(Mt=(l=Mt)||o.memoizedState!==null,xr(e,n,o),Mt=l):xr(e,n,o);break;default:xr(e,n,o)}}function Yf(e){var n=e.updateQueue;if(n!==null){e.updateQueue=null;var o=e.stateNode;o===null&&(o=e.stateNode=new R1),n.forEach(function(l){var c=b1.bind(null,e,l);o.has(l)||(o.add(l),l.then(c,c))})}}function Sn(e,n){var o=n.deletions;if(o!==null)for(var l=0;l<o.length;l++){var c=o[l];try{var h=e,v=n,k=v;e:for(;k!==null;){switch(k.tag){case 5:xt=k.stateNode,En=!1;break e;case 3:xt=k.stateNode.containerInfo,En=!0;break e;case 4:xt=k.stateNode.containerInfo,En=!0;break e}k=k.return}if(xt===null)throw Error(i(160));Kf(h,v,c),xt=null,En=!1;var I=c.alternate;I!==null&&(I.return=null),c.return=null}catch(j){et(c,n,j)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)Xf(n,e),n=n.sibling}function Xf(e,n){var o=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Sn(n,e),Ln(e),l&4){try{os(3,e,e.return),Al(3,e)}catch(de){et(e,e.return,de)}try{os(5,e,e.return)}catch(de){et(e,e.return,de)}}break;case 1:Sn(n,e),Ln(e),l&512&&o!==null&&bi(o,o.return);break;case 5:if(Sn(n,e),Ln(e),l&512&&o!==null&&bi(o,o.return),e.flags&32){var c=e.stateNode;try{ft(c,"")}catch(de){et(e,e.return,de)}}if(l&4&&(c=e.stateNode,c!=null)){var h=e.memoizedProps,v=o!==null?o.memoizedProps:h,k=e.type,I=e.updateQueue;if(e.updateQueue=null,I!==null)try{k==="input"&&h.type==="radio"&&h.name!=null&&Ce(c,h),wi(k,v);var j=wi(k,h);for(v=0;v<I.length;v+=2){var J=I[v],ee=I[v+1];J==="style"?Po(c,ee):J==="dangerouslySetInnerHTML"?zn(c,ee):J==="children"?ft(c,ee):_(c,J,ee,j)}switch(k){case"input":be(c,h);break;case"textarea":Hr(c,h);break;case"select":var X=c._wrapperState.wasMultiple;c._wrapperState.wasMultiple=!!h.multiple;var se=h.value;se!=null?Tt(c,!!h.multiple,se,!1):X!==!!h.multiple&&(h.defaultValue!=null?Tt(c,!!h.multiple,h.defaultValue,!0):Tt(c,!!h.multiple,h.multiple?[]:"",!1))}c[Ko]=h}catch(de){et(e,e.return,de)}}break;case 6:if(Sn(n,e),Ln(e),l&4){if(e.stateNode===null)throw Error(i(162));c=e.stateNode,h=e.memoizedProps;try{c.nodeValue=h}catch(de){et(e,e.return,de)}}break;case 3:if(Sn(n,e),Ln(e),l&4&&o!==null&&o.memoizedState.isDehydrated)try{Oo(n.containerInfo)}catch(de){et(e,e.return,de)}break;case 4:Sn(n,e),Ln(e);break;case 13:Sn(n,e),Ln(e),c=e.child,c.flags&8192&&(h=c.memoizedState!==null,c.stateNode.isHidden=h,!h||c.alternate!==null&&c.alternate.memoizedState!==null||(Qu=it())),l&4&&Yf(e);break;case 22:if(J=o!==null&&o.memoizedState!==null,e.mode&1?(Mt=(j=Mt)||J,Sn(n,e),Mt=j):Sn(n,e),Ln(e),l&8192){if(j=e.memoizedState!==null,(e.stateNode.isHidden=j)&&!J&&e.mode&1)for(le=e,J=e.child;J!==null;){for(ee=le=J;le!==null;){switch(X=le,se=X.child,X.tag){case 0:case 11:case 14:case 15:os(4,X,X.return);break;case 1:bi(X,X.return);var ae=X.stateNode;if(typeof ae.componentWillUnmount=="function"){l=X,o=X.return;try{n=l,ae.props=n.memoizedProps,ae.state=n.memoizedState,ae.componentWillUnmount()}catch(de){et(l,o,de)}}break;case 5:bi(X,X.return);break;case 22:if(X.memoizedState!==null){$f(ee);continue}}se!==null?(se.return=X,le=se):$f(ee)}J=J.sibling}e:for(J=null,ee=e;;){if(ee.tag===5){if(J===null){J=ee;try{c=ee.stateNode,j?(h=c.style,typeof h.setProperty=="function"?h.setProperty("display","none","important"):h.display="none"):(k=ee.stateNode,I=ee.memoizedProps.style,v=I!=null&&I.hasOwnProperty("display")?I.display:null,k.style.display=sr("display",v))}catch(de){et(e,e.return,de)}}}else if(ee.tag===6){if(J===null)try{ee.stateNode.nodeValue=j?"":ee.memoizedProps}catch(de){et(e,e.return,de)}}else if((ee.tag!==22&&ee.tag!==23||ee.memoizedState===null||ee===e)&&ee.child!==null){ee.child.return=ee,ee=ee.child;continue}if(ee===e)break e;for(;ee.sibling===null;){if(ee.return===null||ee.return===e)break e;J===ee&&(J=null),ee=ee.return}J===ee&&(J=null),ee.sibling.return=ee.return,ee=ee.sibling}}break;case 19:Sn(n,e),Ln(e),l&4&&Yf(e);break;case 21:break;default:Sn(n,e),Ln(e)}}function Ln(e){var n=e.flags;if(n&2){try{e:{for(var o=e.return;o!==null;){if(Wf(o)){var l=o;break e}o=o.return}throw Error(i(160))}switch(l.tag){case 5:var c=l.stateNode;l.flags&32&&(ft(c,""),l.flags&=-33);var h=Qf(e);Hu(e,h,c);break;case 3:case 4:var v=l.stateNode.containerInfo,k=Qf(e);Vu(e,k,v);break;default:throw Error(i(161))}}catch(I){et(e,e.return,I)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function D1(e,n,o){le=e,Zf(e)}function Zf(e,n,o){for(var l=(e.mode&1)!==0;le!==null;){var c=le,h=c.child;if(c.tag===22&&l){var v=c.memoizedState!==null||xl;if(!v){var k=c.alternate,I=k!==null&&k.memoizedState!==null||Mt;k=xl;var j=Mt;if(xl=v,(Mt=I)&&!j)for(le=c;le!==null;)v=le,I=v.child,v.tag===22&&v.memoizedState!==null?ep(c):I!==null?(I.return=v,le=I):ep(c);for(;h!==null;)le=h,Zf(h),h=h.sibling;le=c,xl=k,Mt=j}Jf(e)}else c.subtreeFlags&8772&&h!==null?(h.return=c,le=h):Jf(e)}}function Jf(e){for(;le!==null;){var n=le;if(n.flags&8772){var o=n.alternate;try{if(n.flags&8772)switch(n.tag){case 0:case 11:case 15:Mt||Al(5,n);break;case 1:var l=n.stateNode;if(n.flags&4&&!Mt)if(o===null)l.componentDidMount();else{var c=n.elementType===n.type?o.memoizedProps:An(n.type,o.memoizedProps);l.componentDidUpdate(c,o.memoizedState,l.__reactInternalSnapshotBeforeUpdate)}var h=n.updateQueue;h!==null&&Jh(n,h,l);break;case 3:var v=n.updateQueue;if(v!==null){if(o=null,n.child!==null)switch(n.child.tag){case 5:o=n.child.stateNode;break;case 1:o=n.child.stateNode}Jh(n,v,o)}break;case 5:var k=n.stateNode;if(o===null&&n.flags&4){o=k;var I=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":I.autoFocus&&o.focus();break;case"img":I.src&&(o.src=I.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var j=n.alternate;if(j!==null){var J=j.memoizedState;if(J!==null){var ee=J.dehydrated;ee!==null&&Oo(ee)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(i(163))}Mt||n.flags&512&&_u(n)}catch(X){et(n,n.return,X)}}if(n===e){le=null;break}if(o=n.sibling,o!==null){o.return=n.return,le=o;break}le=n.return}}function $f(e){for(;le!==null;){var n=le;if(n===e){le=null;break}var o=n.sibling;if(o!==null){o.return=n.return,le=o;break}le=n.return}}function ep(e){for(;le!==null;){var n=le;try{switch(n.tag){case 0:case 11:case 15:var o=n.return;try{Al(4,n)}catch(I){et(n,o,I)}break;case 1:var l=n.stateNode;if(typeof l.componentDidMount=="function"){var c=n.return;try{l.componentDidMount()}catch(I){et(n,c,I)}}var h=n.return;try{_u(n)}catch(I){et(n,h,I)}break;case 5:var v=n.return;try{_u(n)}catch(I){et(n,v,I)}}}catch(I){et(n,n.return,I)}if(n===e){le=null;break}var k=n.sibling;if(k!==null){k.return=n.return,le=k;break}le=n.return}}var I1=Math.ceil,El=K.ReactCurrentDispatcher,Gu=K.ReactCurrentOwner,dn=K.ReactCurrentBatchConfig,Fe=0,gt=null,lt=null,At=0,Jt=0,ji=gr(0),ht=0,ss=null,ti=0,Sl=0,Wu=0,ls=null,Ut=null,Qu=0,Ui=1/0,Zn=null,kl=!1,Ku=null,Ar=null,Cl=!1,Er=null,Ml=0,as=0,Yu=null,Pl=-1,Rl=0;function Nt(){return Fe&6?it():Pl!==-1?Pl:Pl=it()}function Sr(e){return e.mode&1?Fe&2&&At!==0?At&-At:p1.transition!==null?(Rl===0&&(Rl=Wd()),Rl):(e=je,e!==0||(e=window.event,e=e===void 0?16:th(e.type)),e):1}function kn(e,n,o,l){if(50<as)throw as=0,Yu=null,Error(i(185));Fo(e,o,l),(!(Fe&2)||e!==gt)&&(e===gt&&(!(Fe&2)&&(Sl|=o),ht===4&&kr(e,At)),zt(e,l),o===1&&Fe===0&&!(n.mode&1)&&(Ui=it()+500,nl&&yr()))}function zt(e,n){var o=e.callbackNode;py(e,n);var l=Os(e,e===gt?At:0);if(l===0)o!==null&&Vd(o),e.callbackNode=null,e.callbackPriority=0;else if(n=l&-l,e.callbackPriority!==n){if(o!=null&&Vd(o),n===1)e.tag===0?f1(np.bind(null,e)):Uh(np.bind(null,e)),u1(function(){!(Fe&6)&&yr()}),o=null;else{switch(Qd(l)){case 1:o=Ra;break;case 4:o=Hd;break;case 16:o=Bs;break;case 536870912:o=Gd;break;default:o=Bs}o=cp(o,tp.bind(null,e))}e.callbackPriority=n,e.callbackNode=o}}function tp(e,n){if(Pl=-1,Rl=0,Fe&6)throw Error(i(327));var o=e.callbackNode;if(zi()&&e.callbackNode!==o)return null;var l=Os(e,e===gt?At:0);if(l===0)return null;if(l&30||l&e.expiredLanes||n)n=Tl(e,l);else{n=l;var c=Fe;Fe|=2;var h=ip();(gt!==e||At!==n)&&(Zn=null,Ui=it()+500,ri(e,n));do try{N1();break}catch(k){rp(e,k)}while(!0);fu(),El.current=h,Fe=c,lt!==null?n=0:(gt=null,At=0,n=ht)}if(n!==0){if(n===2&&(c=Ta(e),c!==0&&(l=c,n=Xu(e,c))),n===1)throw o=ss,ri(e,0),kr(e,l),zt(e,it()),o;if(n===6)kr(e,l);else{if(c=e.current.alternate,!(l&30)&&!F1(c)&&(n=Tl(e,l),n===2&&(h=Ta(e),h!==0&&(l=h,n=Xu(e,h))),n===1))throw o=ss,ri(e,0),kr(e,l),zt(e,it()),o;switch(e.finishedWork=c,e.finishedLanes=l,n){case 0:case 1:throw Error(i(345));case 2:ii(e,Ut,Zn);break;case 3:if(kr(e,l),(l&130023424)===l&&(n=Qu+500-it(),10<n)){if(Os(e,0)!==0)break;if(c=e.suspendedLanes,(c&l)!==l){Nt(),e.pingedLanes|=e.suspendedLanes&c;break}e.timeoutHandle=nu(ii.bind(null,e,Ut,Zn),n);break}ii(e,Ut,Zn);break;case 4:if(kr(e,l),(l&4194240)===l)break;for(n=e.eventTimes,c=-1;0<l;){var v=31-vn(l);h=1<<v,v=n[v],v>c&&(c=v),l&=~h}if(l=c,l=it()-l,l=(120>l?120:480>l?480:1080>l?1080:1920>l?1920:3e3>l?3e3:4320>l?4320:1960*I1(l/1960))-l,10<l){e.timeoutHandle=nu(ii.bind(null,e,Ut,Zn),l);break}ii(e,Ut,Zn);break;case 5:ii(e,Ut,Zn);break;default:throw Error(i(329))}}}return zt(e,it()),e.callbackNode===o?tp.bind(null,e):null}function Xu(e,n){var o=ls;return e.current.memoizedState.isDehydrated&&(ri(e,n).flags|=256),e=Tl(e,n),e!==2&&(n=Ut,Ut=o,n!==null&&Zu(n)),e}function Zu(e){Ut===null?Ut=e:Ut.push.apply(Ut,e)}function F1(e){for(var n=e;;){if(n.flags&16384){var o=n.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var l=0;l<o.length;l++){var c=o[l],h=c.getSnapshot;c=c.value;try{if(!wn(h(),c))return!1}catch{return!1}}}if(o=n.child,n.subtreeFlags&16384&&o!==null)o.return=n,n=o;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function kr(e,n){for(n&=~Wu,n&=~Sl,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var o=31-vn(n),l=1<<o;e[o]=-1,n&=~l}}function np(e){if(Fe&6)throw Error(i(327));zi();var n=Os(e,0);if(!(n&1))return zt(e,it()),null;var o=Tl(e,n);if(e.tag!==0&&o===2){var l=Ta(e);l!==0&&(n=l,o=Xu(e,l))}if(o===1)throw o=ss,ri(e,0),kr(e,n),zt(e,it()),o;if(o===6)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=n,ii(e,Ut,Zn),zt(e,it()),null}function Ju(e,n){var o=Fe;Fe|=1;try{return e(n)}finally{Fe=o,Fe===0&&(Ui=it()+500,nl&&yr())}}function ni(e){Er!==null&&Er.tag===0&&!(Fe&6)&&zi();var n=Fe;Fe|=1;var o=dn.transition,l=je;try{if(dn.transition=null,je=1,e)return e()}finally{je=l,dn.transition=o,Fe=n,!(Fe&6)&&yr()}}function $u(){Jt=ji.current,Ge(ji)}function ri(e,n){e.finishedWork=null,e.finishedLanes=0;var o=e.timeoutHandle;if(o!==-1&&(e.timeoutHandle=-1,a1(o)),lt!==null)for(o=lt.return;o!==null;){var l=o;switch(au(l),l.tag){case 1:l=l.type.childContextTypes,l!=null&&el();break;case 3:qi(),Ge(Ot),Ge(St),Au();break;case 5:wu(l);break;case 4:qi();break;case 13:Ge(Ke);break;case 19:Ge(Ke);break;case 10:pu(l.type._context);break;case 22:case 23:$u()}o=o.return}if(gt=e,lt=e=Cr(e.current,null),At=Jt=n,ht=0,ss=null,Wu=Sl=ti=0,Ut=ls=null,Jr!==null){for(n=0;n<Jr.length;n++)if(o=Jr[n],l=o.interleaved,l!==null){o.interleaved=null;var c=l.next,h=o.pending;if(h!==null){var v=h.next;h.next=c,l.next=v}o.pending=l}Jr=null}return e}function rp(e,n){do{var o=lt;try{if(fu(),hl.current=ml,fl){for(var l=Ye.memoizedState;l!==null;){var c=l.queue;c!==null&&(c.pending=null),l=l.next}fl=!1}if(ei=0,pt=dt=Ye=null,es=!1,ts=0,Gu.current=null,o===null||o.return===null){ht=1,ss=n,lt=null;break}e:{var h=e,v=o.return,k=o,I=n;if(n=At,k.flags|=32768,I!==null&&typeof I=="object"&&typeof I.then=="function"){var j=I,J=k,ee=J.tag;if(!(J.mode&1)&&(ee===0||ee===11||ee===15)){var X=J.alternate;X?(J.updateQueue=X.updateQueue,J.memoizedState=X.memoizedState,J.lanes=X.lanes):(J.updateQueue=null,J.memoizedState=null)}var se=Rf(v);if(se!==null){se.flags&=-257,Tf(se,v,k,h,n),se.mode&1&&Pf(h,j,n),n=se,I=j;var ae=n.updateQueue;if(ae===null){var de=new Set;de.add(I),n.updateQueue=de}else ae.add(I);break e}else{if(!(n&1)){Pf(h,j,n),ec();break e}I=Error(i(426))}}else if(We&&k.mode&1){var ot=Rf(v);if(ot!==null){!(ot.flags&65536)&&(ot.flags|=256),Tf(ot,v,k,h,n),du(Oi(I,k));break e}}h=I=Oi(I,k),ht!==4&&(ht=2),ls===null?ls=[h]:ls.push(h),h=v;do{switch(h.tag){case 3:h.flags|=65536,n&=-n,h.lanes|=n;var L=Cf(h,I,n);Zh(h,L);break e;case 1:k=I;var F=h.type,O=h.stateNode;if(!(h.flags&128)&&(typeof F.getDerivedStateFromError=="function"||O!==null&&typeof O.componentDidCatch=="function"&&(Ar===null||!Ar.has(O)))){h.flags|=65536,n&=-n,h.lanes|=n;var ne=Mf(h,k,n);Zh(h,ne);break e}}h=h.return}while(h!==null)}sp(o)}catch(he){n=he,lt===o&&o!==null&&(lt=o=o.return);continue}break}while(!0)}function ip(){var e=El.current;return El.current=ml,e===null?ml:e}function ec(){(ht===0||ht===3||ht===2)&&(ht=4),gt===null||!(ti&268435455)&&!(Sl&268435455)||kr(gt,At)}function Tl(e,n){var o=Fe;Fe|=2;var l=ip();(gt!==e||At!==n)&&(Zn=null,ri(e,n));do try{B1();break}catch(c){rp(e,c)}while(!0);if(fu(),Fe=o,El.current=l,lt!==null)throw Error(i(261));return gt=null,At=0,ht}function B1(){for(;lt!==null;)op(lt)}function N1(){for(;lt!==null&&!oy();)op(lt)}function op(e){var n=up(e.alternate,e,Jt);e.memoizedProps=e.pendingProps,n===null?sp(e):lt=n,Gu.current=null}function sp(e){var n=e;do{var o=n.alternate;if(e=n.return,n.flags&32768){if(o=P1(o,n),o!==null){o.flags&=32767,lt=o;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ht=6,lt=null;return}}else if(o=M1(o,n,Jt),o!==null){lt=o;return}if(n=n.sibling,n!==null){lt=n;return}lt=n=e}while(n!==null);ht===0&&(ht=5)}function ii(e,n,o){var l=je,c=dn.transition;try{dn.transition=null,je=1,L1(e,n,o,l)}finally{dn.transition=c,je=l}return null}function L1(e,n,o,l){do zi();while(Er!==null);if(Fe&6)throw Error(i(327));o=e.finishedWork;var c=e.finishedLanes;if(o===null)return null;if(e.finishedWork=null,e.finishedLanes=0,o===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var h=o.lanes|o.childLanes;if(gy(e,h),e===gt&&(lt=gt=null,At=0),!(o.subtreeFlags&2064)&&!(o.flags&2064)||Cl||(Cl=!0,cp(Bs,function(){return zi(),null})),h=(o.flags&15990)!==0,o.subtreeFlags&15990||h){h=dn.transition,dn.transition=null;var v=je;je=1;var k=Fe;Fe|=4,Gu.current=null,T1(e,o),Xf(o,e),t1(eu),Us=!!$a,eu=$a=null,e.current=o,D1(o),sy(),Fe=k,je=v,dn.transition=h}else e.current=o;if(Cl&&(Cl=!1,Er=e,Ml=c),h=e.pendingLanes,h===0&&(Ar=null),uy(o.stateNode),zt(e,it()),n!==null)for(l=e.onRecoverableError,o=0;o<n.length;o++)c=n[o],l(c.value,{componentStack:c.stack,digest:c.digest});if(kl)throw kl=!1,e=Ku,Ku=null,e;return Ml&1&&e.tag!==0&&zi(),h=e.pendingLanes,h&1?e===Yu?as++:(as=0,Yu=e):as=0,yr(),null}function zi(){if(Er!==null){var e=Qd(Ml),n=dn.transition,o=je;try{if(dn.transition=null,je=16>e?16:e,Er===null)var l=!1;else{if(e=Er,Er=null,Ml=0,Fe&6)throw Error(i(331));var c=Fe;for(Fe|=4,le=e.current;le!==null;){var h=le,v=h.child;if(le.flags&16){var k=h.deletions;if(k!==null){for(var I=0;I<k.length;I++){var j=k[I];for(le=j;le!==null;){var J=le;switch(J.tag){case 0:case 11:case 15:os(8,J,h)}var ee=J.child;if(ee!==null)ee.return=J,le=ee;else for(;le!==null;){J=le;var X=J.sibling,se=J.return;if(Gf(J),J===j){le=null;break}if(X!==null){X.return=se,le=X;break}le=se}}}var ae=h.alternate;if(ae!==null){var de=ae.child;if(de!==null){ae.child=null;do{var ot=de.sibling;de.sibling=null,de=ot}while(de!==null)}}le=h}}if(h.subtreeFlags&2064&&v!==null)v.return=h,le=v;else e:for(;le!==null;){if(h=le,h.flags&2048)switch(h.tag){case 0:case 11:case 15:os(9,h,h.return)}var L=h.sibling;if(L!==null){L.return=h.return,le=L;break e}le=h.return}}var F=e.current;for(le=F;le!==null;){v=le;var O=v.child;if(v.subtreeFlags&2064&&O!==null)O.return=v,le=O;else e:for(v=F;le!==null;){if(k=le,k.flags&2048)try{switch(k.tag){case 0:case 11:case 15:Al(9,k)}}catch(he){et(k,k.return,he)}if(k===v){le=null;break e}var ne=k.sibling;if(ne!==null){ne.return=k.return,le=ne;break e}le=k.return}}if(Fe=c,yr(),In&&typeof In.onPostCommitFiberRoot=="function")try{In.onPostCommitFiberRoot(Ns,e)}catch{}l=!0}return l}finally{je=o,dn.transition=n}}return!1}function lp(e,n,o){n=Oi(o,n),n=Cf(e,n,1),e=wr(e,n,1),n=Nt(),e!==null&&(Fo(e,1,n),zt(e,n))}function et(e,n,o){if(e.tag===3)lp(e,e,o);else for(;n!==null;){if(n.tag===3){lp(n,e,o);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ar===null||!Ar.has(l))){e=Oi(o,e),e=Mf(n,e,1),n=wr(n,e,1),e=Nt(),n!==null&&(Fo(n,1,e),zt(n,e));break}}n=n.return}}function q1(e,n,o){var l=e.pingCache;l!==null&&l.delete(n),n=Nt(),e.pingedLanes|=e.suspendedLanes&o,gt===e&&(At&o)===o&&(ht===4||ht===3&&(At&130023424)===At&&500>it()-Qu?ri(e,0):Wu|=o),zt(e,n)}function ap(e,n){n===0&&(e.mode&1?(n=qs,qs<<=1,!(qs&130023424)&&(qs=4194304)):n=1);var o=Nt();e=Kn(e,n),e!==null&&(Fo(e,n,o),zt(e,o))}function O1(e){var n=e.memoizedState,o=0;n!==null&&(o=n.retryLane),ap(e,o)}function b1(e,n){var o=0;switch(e.tag){case 13:var l=e.stateNode,c=e.memoizedState;c!==null&&(o=c.retryLane);break;case 19:l=e.stateNode;break;default:throw Error(i(314))}l!==null&&l.delete(n),ap(e,o)}var up;up=function(e,n,o){if(e!==null)if(e.memoizedProps!==n.pendingProps||Ot.current)jt=!0;else{if(!(e.lanes&o)&&!(n.flags&128))return jt=!1,C1(e,n,o);jt=!!(e.flags&131072)}else jt=!1,We&&n.flags&1048576&&zh(n,il,n.index);switch(n.lanes=0,n.tag){case 2:var l=n.type;wl(e,n),e=n.pendingProps;var c=Ti(n,St.current);Li(n,o),c=ku(null,n,l,e,c,o);var h=Cu();return n.flags|=1,typeof c=="object"&&c!==null&&typeof c.render=="function"&&c.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,bt(l)?(h=!0,tl(n)):h=!1,n.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,yu(n),c.updater=yl,n.stateNode=c,c._reactInternals=n,Iu(n,l,e,o),n=Lu(null,n,l,!0,h,o)):(n.tag=0,We&&h&&lu(n),Bt(null,n,c,o),n=n.child),n;case 16:l=n.elementType;e:{switch(wl(e,n),e=n.pendingProps,c=l._init,l=c(l._payload),n.type=l,c=n.tag=U1(l),e=An(l,e),c){case 0:n=Nu(null,n,l,e,o);break e;case 1:n=Lf(null,n,l,e,o);break e;case 11:n=Df(null,n,l,e,o);break e;case 14:n=If(null,n,l,An(l.type,e),o);break e}throw Error(i(306,l,""))}return n;case 0:return l=n.type,c=n.pendingProps,c=n.elementType===l?c:An(l,c),Nu(e,n,l,c,o);case 1:return l=n.type,c=n.pendingProps,c=n.elementType===l?c:An(l,c),Lf(e,n,l,c,o);case 3:e:{if(qf(n),e===null)throw Error(i(387));l=n.pendingProps,h=n.memoizedState,c=h.element,Xh(e,n),cl(n,l,null,o);var v=n.memoizedState;if(l=v.element,h.isDehydrated)if(h={element:l,isDehydrated:!1,cache:v.cache,pendingSuspenseBoundaries:v.pendingSuspenseBoundaries,transitions:v.transitions},n.updateQueue.baseState=h,n.memoizedState=h,n.flags&256){c=Oi(Error(i(423)),n),n=Of(e,n,l,o,c);break e}else if(l!==c){c=Oi(Error(i(424)),n),n=Of(e,n,l,o,c);break e}else for(Zt=pr(n.stateNode.containerInfo.firstChild),Xt=n,We=!0,xn=null,o=Kh(n,null,l,o),n.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Fi(),l===c){n=Xn(e,n,o);break e}Bt(e,n,l,o)}n=n.child}return n;case 5:return $h(n),e===null&&cu(n),l=n.type,c=n.pendingProps,h=e!==null?e.memoizedProps:null,v=c.children,tu(l,c)?v=null:h!==null&&tu(l,h)&&(n.flags|=32),Nf(e,n),Bt(e,n,v,o),n.child;case 6:return e===null&&cu(n),null;case 13:return bf(e,n,o);case 4:return vu(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=Bi(n,null,l,o):Bt(e,n,l,o),n.child;case 11:return l=n.type,c=n.pendingProps,c=n.elementType===l?c:An(l,c),Df(e,n,l,c,o);case 7:return Bt(e,n,n.pendingProps,o),n.child;case 8:return Bt(e,n,n.pendingProps.children,o),n.child;case 12:return Bt(e,n,n.pendingProps.children,o),n.child;case 10:e:{if(l=n.type._context,c=n.pendingProps,h=n.memoizedProps,v=c.value,Ve(ll,l._currentValue),l._currentValue=v,h!==null)if(wn(h.value,v)){if(h.children===c.children&&!Ot.current){n=Xn(e,n,o);break e}}else for(h=n.child,h!==null&&(h.return=n);h!==null;){var k=h.dependencies;if(k!==null){v=h.child;for(var I=k.firstContext;I!==null;){if(I.context===l){if(h.tag===1){I=Yn(-1,o&-o),I.tag=2;var j=h.updateQueue;if(j!==null){j=j.shared;var J=j.pending;J===null?I.next=I:(I.next=J.next,J.next=I),j.pending=I}}h.lanes|=o,I=h.alternate,I!==null&&(I.lanes|=o),gu(h.return,o,n),k.lanes|=o;break}I=I.next}}else if(h.tag===10)v=h.type===n.type?null:h.child;else if(h.tag===18){if(v=h.return,v===null)throw Error(i(341));v.lanes|=o,k=v.alternate,k!==null&&(k.lanes|=o),gu(v,o,n),v=h.sibling}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===n){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}Bt(e,n,c.children,o),n=n.child}return n;case 9:return c=n.type,l=n.pendingProps.children,Li(n,o),c=un(c),l=l(c),n.flags|=1,Bt(e,n,l,o),n.child;case 14:return l=n.type,c=An(l,n.pendingProps),c=An(l.type,c),If(e,n,l,c,o);case 15:return Ff(e,n,n.type,n.pendingProps,o);case 17:return l=n.type,c=n.pendingProps,c=n.elementType===l?c:An(l,c),wl(e,n),n.tag=1,bt(l)?(e=!0,tl(n)):e=!1,Li(n,o),Sf(n,l,c),Iu(n,l,c,o),Lu(null,n,l,!0,e,o);case 19:return Uf(e,n,o);case 22:return Bf(e,n,o)}throw Error(i(156,n.tag))};function cp(e,n){return _d(e,n)}function j1(e,n,o,l){this.tag=e,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hn(e,n,o,l){return new j1(e,n,o,l)}function tc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function U1(e){if(typeof e=="function")return tc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===oe)return 11;if(e===Se)return 14}return 2}function Cr(e,n){var o=e.alternate;return o===null?(o=hn(e.tag,n,e.key,e.mode),o.elementType=e.elementType,o.type=e.type,o.stateNode=e.stateNode,o.alternate=e,e.alternate=o):(o.pendingProps=n,o.type=e.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=e.flags&14680064,o.childLanes=e.childLanes,o.lanes=e.lanes,o.child=e.child,o.memoizedProps=e.memoizedProps,o.memoizedState=e.memoizedState,o.updateQueue=e.updateQueue,n=e.dependencies,o.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},o.sibling=e.sibling,o.index=e.index,o.ref=e.ref,o}function Dl(e,n,o,l,c,h){var v=2;if(l=e,typeof e=="function")tc(e)&&(v=1);else if(typeof e=="string")v=5;else e:switch(e){case T:return oi(o.children,c,h,n);case U:v=8,c|=8;break;case V:return e=hn(12,o,n,c|2),e.elementType=V,e.lanes=h,e;case ge:return e=hn(13,o,n,c),e.elementType=ge,e.lanes=h,e;case ve:return e=hn(19,o,n,c),e.elementType=ve,e.lanes=h,e;case ue:return Il(o,c,h,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Y:v=10;break e;case te:v=9;break e;case oe:v=11;break e;case Se:v=14;break e;case fe:v=16,l=null;break e}throw Error(i(130,e==null?e:typeof e,""))}return n=hn(v,o,n,c),n.elementType=e,n.type=l,n.lanes=h,n}function oi(e,n,o,l){return e=hn(7,e,l,n),e.lanes=o,e}function Il(e,n,o,l){return e=hn(22,e,l,n),e.elementType=ue,e.lanes=o,e.stateNode={isHidden:!1},e}function nc(e,n,o){return e=hn(6,e,null,n),e.lanes=o,e}function rc(e,n,o){return n=hn(4,e.children!==null?e.children:[],e.key,n),n.lanes=o,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function z1(e,n,o,l,c){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Da(0),this.expirationTimes=Da(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Da(0),this.identifierPrefix=l,this.onRecoverableError=c,this.mutableSourceEagerHydrationData=null}function ic(e,n,o,l,c,h,v,k,I){return e=new z1(e,n,o,k,I),n===1?(n=1,h===!0&&(n|=8)):n=0,h=hn(3,null,null,n),e.current=h,h.stateNode=e,h.memoizedState={element:l,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},yu(h),e}function _1(e,n,o){var l=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:P,key:l==null?null:""+l,children:e,containerInfo:n,implementation:o}}function dp(e){if(!e)return mr;e=e._reactInternals;e:{if(Qr(e)!==e||e.tag!==1)throw Error(i(170));var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(bt(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(i(171))}if(e.tag===1){var o=e.type;if(bt(o))return bh(e,o,n)}return n}function hp(e,n,o,l,c,h,v,k,I){return e=ic(o,l,!0,e,c,h,v,k,I),e.context=dp(null),o=e.current,l=Nt(),c=Sr(o),h=Yn(l,c),h.callback=n??null,wr(o,h,c),e.current.lanes=c,Fo(e,c,l),zt(e,l),e}function Fl(e,n,o,l){var c=n.current,h=Nt(),v=Sr(c);return o=dp(o),n.context===null?n.context=o:n.pendingContext=o,n=Yn(h,v),n.payload={element:e},l=l===void 0?null:l,l!==null&&(n.callback=l),e=wr(c,n,v),e!==null&&(kn(e,c,v,h),ul(e,c,v)),v}function Bl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function fp(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var o=e.retryLane;e.retryLane=o!==0&&o<n?o:n}}function oc(e,n){fp(e,n),(e=e.alternate)&&fp(e,n)}function V1(){return null}var pp=typeof reportError=="function"?reportError:function(e){console.error(e)};function sc(e){this._internalRoot=e}Nl.prototype.render=sc.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(i(409));Fl(e,n,null,null)},Nl.prototype.unmount=sc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;ni(function(){Fl(null,e,null,null)}),n[Hn]=null}};function Nl(e){this._internalRoot=e}Nl.prototype.unstable_scheduleHydration=function(e){if(e){var n=Xd();e={blockedOn:null,target:e,priority:n};for(var o=0;o<dr.length&&n!==0&&n<dr[o].priority;o++);dr.splice(o,0,e),o===0&&$d(e)}};function lc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ll(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function gp(){}function H1(e,n,o,l,c){if(c){if(typeof l=="function"){var h=l;l=function(){var j=Bl(v);h.call(j)}}var v=hp(n,l,e,0,null,!1,!1,"",gp);return e._reactRootContainer=v,e[Hn]=v.current,Wo(e.nodeType===8?e.parentNode:e),ni(),v}for(;c=e.lastChild;)e.removeChild(c);if(typeof l=="function"){var k=l;l=function(){var j=Bl(I);k.call(j)}}var I=ic(e,0,!1,null,null,!1,!1,"",gp);return e._reactRootContainer=I,e[Hn]=I.current,Wo(e.nodeType===8?e.parentNode:e),ni(function(){Fl(n,I,o,l)}),I}function ql(e,n,o,l,c){var h=o._reactRootContainer;if(h){var v=h;if(typeof c=="function"){var k=c;c=function(){var I=Bl(v);k.call(I)}}Fl(n,v,e,c)}else v=H1(o,n,e,c,l);return Bl(v)}Kd=function(e){switch(e.tag){case 3:var n=e.stateNode;if(n.current.memoizedState.isDehydrated){var o=Io(n.pendingLanes);o!==0&&(Ia(n,o|1),zt(n,it()),!(Fe&6)&&(Ui=it()+500,yr()))}break;case 13:ni(function(){var l=Kn(e,1);if(l!==null){var c=Nt();kn(l,e,1,c)}}),oc(e,1)}},Fa=function(e){if(e.tag===13){var n=Kn(e,134217728);if(n!==null){var o=Nt();kn(n,e,134217728,o)}oc(e,134217728)}},Yd=function(e){if(e.tag===13){var n=Sr(e),o=Kn(e,n);if(o!==null){var l=Nt();kn(o,e,n,l)}oc(e,n)}},Xd=function(){return je},Zd=function(e,n){var o=je;try{return je=e,n()}finally{je=o}},lr=function(e,n,o){switch(n){case"input":if(be(e,o),n=o.name,o.type==="radio"&&n!=null){for(o=e;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<o.length;n++){var l=o[n];if(l!==e&&l.form===e.form){var c=$s(l);if(!c)throw Error(i(90));_r(l),be(l,c)}}}break;case"textarea":Hr(e,o);break;case"select":n=o.value,n!=null&&Tt(e,!!o.multiple,n,!1)}},R=Ju,H=ni;var G1={usingClientEntryPoint:!1,Events:[Yo,Pi,$s,To,Do,Ju]},us={findFiberByHostInstance:Kr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},W1={bundleType:us.bundleType,version:us.version,rendererPackageName:us.rendererPackageName,rendererConfig:us.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:K.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Ud(e),e===null?null:e.stateNode},findFiberByHostInstance:us.findFiberByHostInstance||V1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ol=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ol.isDisabled&&Ol.supportsFiber)try{Ns=Ol.inject(W1),In=Ol}catch{}}return _t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=G1,_t.createPortal=function(e,n){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!lc(n))throw Error(i(200));return _1(e,n,null,o)},_t.createRoot=function(e,n){if(!lc(e))throw Error(i(299));var o=!1,l="",c=pp;return n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onRecoverableError!==void 0&&(c=n.onRecoverableError)),n=ic(e,1,!1,null,null,o,!1,l,c),e[Hn]=n.current,Wo(e.nodeType===8?e.parentNode:e),new sc(n)},_t.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(i(188)):(e=Object.keys(e).join(","),Error(i(268,e)));return e=Ud(n),e=e===null?null:e.stateNode,e},_t.flushSync=function(e){return ni(e)},_t.hydrate=function(e,n,o){if(!Ll(n))throw Error(i(200));return ql(null,e,n,!0,o)},_t.hydrateRoot=function(e,n,o){if(!lc(e))throw Error(i(405));var l=o!=null&&o.hydratedSources||null,c=!1,h="",v=pp;if(o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onRecoverableError!==void 0&&(v=o.onRecoverableError)),n=hp(n,null,e,1,o??null,c,!1,h,v),e[Hn]=n.current,Wo(e),l)for(e=0;e<l.length;e++)o=l[e],c=o._getVersion,c=c(o._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[o,c]:n.mutableSourceEagerHydrationData.push(o,c);return new Nl(n)},_t.render=function(e,n,o){if(!Ll(n))throw Error(i(200));return ql(null,e,n,!1,o)},_t.unmountComponentAtNode=function(e){if(!Ll(e))throw Error(i(40));return e._reactRootContainer?(ni(function(){ql(null,null,e,!1,function(){e._reactRootContainer=null,e[Hn]=null})}),!0):!1},_t.unstable_batchedUpdates=Ju,_t.unstable_renderSubtreeIntoContainer=function(e,n,o,l){if(!Ll(o))throw Error(i(200));if(e==null||e._reactInternals===void 0)throw Error(i(38));return ql(e,n,o,!1,l)},_t.version="18.3.1-next-f1338f8080-20240426",_t}var Sp;function iv(){if(Sp)return cc.exports;Sp=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),cc.exports=rv(),cc.exports}var kp;function ov(){if(kp)return bl;kp=1;var r=iv();return bl.createRoot=r.createRoot,bl.hydrateRoot=r.hydrateRoot,bl}var sv=ov();const Cn={BASE_URL:"/dev-portfolio/",DEV:!1,MODE:"production",PROD:!0,SSR:!1};let lv=0;function gn(r,t){const i=`atom${++lv}`,s={toString(){return(Cn?"production":void 0)!=="production"&&this.debugLabel?i+":"+this.debugLabel:i}};return typeof r=="function"?s.read=r:(s.init=r,s.read=av,s.write=uv),s}function av(r){return r(this)}function uv(r,t,i){return t(this,typeof i=="function"?i(r(this)):i)}const Cp=(r,t)=>r.unstable_is?r.unstable_is(t):t===r,fc=r=>"init"in r,pc=r=>!!r.write,Wl=new WeakMap,vc=r=>{var t;return wc(r)&&!((t=Wl.get(r))!=null&&t[1])},cv=(r,t)=>{const i=Wl.get(r);if(i)i[1]=!0,i[0].forEach(s=>s(t));else if((Cn?"production":void 0)!=="production")throw new Error("[Bug] cancelable promise not found")},dv=r=>{if(Wl.has(r))return;const t=[new Set,!1];Wl.set(r,t);const i=()=>{t[1]=!0};r.then(i,i),r.onCancel=s=>{t[0].add(s)}},wc=r=>typeof(r==null?void 0:r.then)=="function",Mp=r=>"v"in r||"e"in r,jl=r=>{if("e"in r)throw r.e;if((Cn?"production":void 0)!=="production"&&!("v"in r))throw new Error("[Bug] atom state is not initialized");return r.v},Lp=(r,t,i)=>{i.p.has(r)||(i.p.add(r),t.then(()=>{i.p.delete(r)},()=>{i.p.delete(r)}))},Pp=(r,t,i,s,a)=>{var u;if((Cn?"production":void 0)!=="production"&&s===t)throw new Error("[Bug] atom cannot depend on itself");i.d.set(s,a.n),vc(i.v)&&Lp(t,i.v,a),(u=a.m)==null||u.t.add(t),r&&hv(r,s,t)},_i=()=>[new Map,new Map,new Set],gc=(r,t,i)=>{r[0].has(t)||r[0].set(t,new Set),r[1].set(t,i)},hv=(r,t,i)=>{const s=r[0].get(t);s&&s.add(i)},fv=(r,t)=>r[0].get(t),Rp=(r,t)=>{r[2].add(t)},si=r=>{for(;r[1].size||r[2].size;){r[0].clear();const t=new Set(r[1].values());r[1].clear();const i=new Set(r[2]);r[2].clear(),t.forEach(s=>{var a;return(a=s.m)==null?void 0:a.l.forEach(u=>u())}),i.forEach(s=>s())}},qp=r=>{let t;(Cn?"production":void 0)!=="production"&&(t=new Set);const i=(D,x,A)=>{const N="v"in x,_=x.v,K=vc(x.v)?x.v:null;if(wc(A)){dv(A);for(const W of x.d.keys())Lp(D,A,r(W,x));x.v=A,delete x.e}else x.v=A,delete x.e;(!N||!Object.is(_,x.v))&&(++x.n,K&&cv(K,A))},s=(D,x,A,N)=>{var _;if(!(N!=null&&N(x))&&Mp(A)&&(A.m||Array.from(A.d).every(([V,Y])=>s(D,V,r(V,A),N).n===Y)))return A;A.d.clear();let K=!0;const W=V=>{if(Cp(x,V)){const te=r(V,A);if(!Mp(te))if(fc(V))i(V,te,V.init);else throw new Error("no atom init");return jl(te)}const Y=s(D,V,r(V,A),N);if(K)Pp(D,x,A,V,Y);else{const te=_i();Pp(te,x,A,V,Y),g(te,x,A),si(te)}return jl(Y)};let P,T;const U={get signal(){return P||(P=new AbortController),P.signal},get setSelf(){return(Cn?"production":void 0)!=="production"&&!pc(x)&&console.warn("setSelf function cannot be used with read-only atom"),!T&&pc(x)&&(T=(...V)=>{if((Cn?"production":void 0)!=="production"&&K&&console.warn("setSelf function cannot be called in sync"),!K)return p(x,...V)}),T}};try{const V=x.read(W,U);if(i(x,A,V),wc(V)){(_=V.onCancel)==null||_.call(V,()=>P==null?void 0:P.abort());const Y=()=>{if(A.m){const te=_i();g(te,x,A),si(te)}};V.then(Y,Y)}return A}catch(V){return delete A.v,A.e=V,++A.n,A}finally{K=!1}},a=D=>jl(s(void 0,D,r(D))),u=(D,x,A)=>{var N,_;const K=new Map;for(const W of((N=A.m)==null?void 0:N.t)||[])K.set(W,r(W,A));for(const W of A.p)K.set(W,r(W,A));return(_=fv(D,x))==null||_.forEach(W=>{K.set(W,r(W,A))}),K},d=(D,x,A)=>{const N=[],_=new Set,K=(T,U)=>{if(!_.has(T)){_.add(T);for(const[V,Y]of u(D,T,U))T!==V&&K(V,Y);N.push([T,U,U.n])}};K(x,A);const W=new Set([x]),P=T=>_.has(T);for(let T=N.length-1;T>=0;--T){const[U,V,Y]=N[T];let te=!1;for(const oe of V.d.keys())if(oe!==U&&W.has(oe)){te=!0;break}te&&(s(D,U,V,P),g(D,U,V),Y!==V.n&&(gc(D,U,V),W.add(U))),_.delete(U)}},y=(D,x,A,...N)=>{const _=P=>jl(s(D,P,r(P,A))),K=(P,...T)=>{const U=r(P,A);let V;if(Cp(x,P)){if(!fc(P))throw new Error("atom not writable");const Y="v"in U,te=U.v,oe=T[0];i(P,U,oe),g(D,P,U),(!Y||!Object.is(te,U.v))&&(gc(D,P,U),d(D,P,U))}else V=y(D,P,U,...T);return si(D),V};return x.write(_,K,...N)},p=(D,...x)=>{const A=_i(),N=y(A,D,r(D),...x);return si(A),N},g=(D,x,A)=>{if(A.m&&!vc(A.v)){for(const N of A.d.keys())A.m.d.has(N)||(E(D,N,r(N,A)).t.add(x),A.m.d.add(N));for(const N of A.m.d||[])if(!A.d.has(N)){A.m.d.delete(N);const _=C(D,N,r(N,A));_==null||_.t.delete(x)}}},E=(D,x,A)=>{if(!A.m){s(D,x,A);for(const N of A.d.keys())E(D,N,r(N,A)).t.add(x);if(A.m={l:new Set,d:new Set(A.d.keys()),t:new Set},(Cn?"production":void 0)!=="production"&&t.add(x),pc(x)&&x.onMount){const N=A.m,{onMount:_}=x;Rp(D,()=>{const K=_((...W)=>y(D,x,A,...W));K&&(N.u=K)})}}return A.m},C=(D,x,A)=>{if(A.m&&!A.m.l.size&&!Array.from(A.m.t).some(N=>{var _;return(_=r(N,A).m)==null?void 0:_.d.has(x)})){const N=A.m.u;N&&Rp(D,N),delete A.m,(Cn?"production":void 0)!=="production"&&t.delete(x);for(const _ of A.d.keys()){const K=C(D,_,r(_,A));K==null||K.t.delete(x)}return}return A.m},S={get:a,set:p,sub:(D,x)=>{const A=_i(),N=r(D),_=E(A,D,N);si(A);const K=_.l;return K.add(x),()=>{K.delete(x);const W=_i();C(W,D,N),si(W)}},unstable_derive:D=>qp(...D(r))};return(Cn?"production":void 0)!=="production"&&Object.assign(S,{dev4_get_internal_weak_map:()=>({get:x=>{const A=r(x);if(A.n!==0)return A}}),dev4_get_mounted_atoms:()=>t,dev4_restore_atoms:x=>{const A=_i();for(const[N,_]of x)if(fc(N)){const K=r(N),W="v"in K,P=K.v;i(N,K,_),g(A,N,K),(!W||!Object.is(P,K.v))&&(gc(A,N,K),d(A,N,K))}si(A)}}),S},Nc=()=>{const r=new WeakMap;return qp(i=>{let s=r.get(i);return s||(s={d:new Map,p:new Set,n:0},r.set(i,s)),s})};let ds;const pv=()=>(ds||(ds=Nc(),(Cn?"production":void 0)!=="production"&&(globalThis.__JOTAI_DEFAULT_STORE__||(globalThis.__JOTAI_DEFAULT_STORE__=ds),globalThis.__JOTAI_DEFAULT_STORE__!==ds&&console.warn("Detected multiple Jotai instances. It may cause unexpected behavior with the default store. https://github.com/pmndrs/jotai/discussions/2044"))),ds),Op={BASE_URL:"/dev-portfolio/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},bp=Tn.createContext(void 0),jp=r=>Tn.useContext(bp)||pv(),gv=({children:r,store:t})=>{const i=Tn.useRef();return!t&&!i.current&&(i.current=Nc()),Tn.createElement(bp.Provider,{value:t||i.current},r)},Up=r=>typeof(r==null?void 0:r.then)=="function",mv=r=>{r.status="pending",r.then(t=>{r.status="fulfilled",r.value=t},t=>{r.status="rejected",r.reason=t})},yv=ev.use||(r=>{if(r.status==="pending")throw r;if(r.status==="fulfilled")return r.value;throw r.status==="rejected"?r.reason:(mv(r),r)}),mc=new WeakMap,vv=r=>{let t=mc.get(r);return t||(t=new Promise((i,s)=>{let a=r;const u=p=>g=>{a===p&&i(g)},d=p=>g=>{a===p&&s(g)},y=p=>{"onCancel"in p&&typeof p.onCancel=="function"&&p.onCancel(g=>{if((Op?"production":void 0)!=="production"&&g===p)throw new Error("[Bug] p is not updated even after cancelation");Up(g)?(mc.set(g,t),a=g,g.then(u(g),d(g)),y(g)):i(g)})};r.then(u(r),d(r)),y(r)}),mc.set(r,t)),t};function Ao(r,t){const i=jp(),[[s,a,u],d]=Tn.useReducer(g=>{const E=i.get(r);return Object.is(g[0],E)&&g[1]===i&&g[2]===r?g:[E,i,r]},void 0,()=>[i.get(r),i,r]);let y=s;if((a!==i||u!==r)&&(d(),y=i.get(r)),Tn.useEffect(()=>{const g=i.sub(r,()=>{d()});return d(),g},[i,r,void 0]),Tn.useDebugValue(y),Up(y)){const g=vv(y);return yv(g)}return y}function wv(r,t){const i=jp();return Tn.useCallback((...a)=>{if((Op?"production":void 0)!=="production"&&!("write"in r))throw new Error("not writable atom");return i.set(r,...a)},[i,r])}function ko(r,t){return[Ao(r),wv(r)]}const Ql=gn(!1),zp=gn(null),_p=gn(""),Kl=gn(!1),xv=gn(""),Yl=gn(!1),Vp=gn({title:"",links:[{id:0,name:"",link:""}]}),hs=gn({value:1}),Ue=Nc(),ms=gn(!1),Xl=gn({setup:"",delivery:""}),Zl=gn(!1),Hp=gn({specialThanks:[],technologies:[]}),ut={color1:"#000000",color2:"#0077b6",color3:"#FFFDD0"},Av=2,Ev=.2;function Sv(){const[r,t]=ko(hs),i=s=>{const a=window.innerWidth<1e3?.1:.2,u=s?r+a:r-a;u<=Av&&u>=Ev&&t(u)};return ce.jsxs("div",{className:"camera-controller",children:[ce.jsx("button",{className:"camera-controller-btn",onClick:()=>i(!0),children:"+"}),ce.jsx("button",{className:"camera-controller-btn",onClick:()=>i(!1),children:"-"})]})}function kv(){const[r,t]=ko(Ql),i=Ao(zp),s=Ao(_p),a=[{id:0,name:"Yes",handler:()=>{window.open(i,"_blank"),t(!1)}},{id:1,name:"No",handler:()=>{t(!1)}}];return r&&ce.jsx("div",{className:"modal",children:ce.jsxs("div",{className:"modal-content",children:[ce.jsx("h1",{children:"Do you want to open this link?"}),ce.jsx("span",{children:i}),ce.jsx("p",{children:s}),ce.jsx("div",{className:"modal-btn-container",children:a.map(u=>ce.jsx("button",{className:"modal-btn",onClick:u.handler,children:u.name},u.id))})]})})}function Cv(){const[r,t]=ko(Kl),i="davonhensonTech@gmail.com",[s,a]=Tn.useState(""),u=[{id:0,name:"Yes",handler:()=>{navigator.clipboard.writeText(i),a("Email copied to clipboard!")}},{id:1,name:"No",handler:()=>{t(!1)}}];return r&&ce.jsx("div",{className:"modal",children:ce.jsxs("div",{className:"modal-content",children:[ce.jsx("h1",{children:"Copy my email to your clipboard?"}),ce.jsx("span",{children:i}),ce.jsx("p",{children:s}),ce.jsx("div",{className:"modal-btn-container",children:u.map(d=>ce.jsx("button",{className:"modal-btn",onClick:d.handler,children:d.name},d.id))})]})})}function Mv(){const r=Ao(Vp),[t,i]=ko(Yl);return t&&ce.jsx("div",{className:"modal",children:ce.jsxs("div",{className:"modal-content",children:[ce.jsx("h1",{children:r.title}),ce.jsxs("div",{className:"modal-btn-container",children:[r.links.map(s=>ce.jsx("button",{className:"modal-btn",onClick:()=>{window.open(s.link,"_blank")},children:s.name},s.id)),ce.jsx("button",{className:"modal-btn",onClick:()=>{i(!1)},children:"Close"})]})]})})}function Pv(){const r=Ao(Xl),[t,i]=ko(ms);return t&&ce.jsx("div",{className:"modal",children:ce.jsxs("div",{className:"modal-content",children:[ce.jsx("h1",{children:"Wanna hear something funny?"}),r.setup&&ce.jsxs(ce.Fragment,{children:[ce.jsx("p",{children:r.setup}),ce.jsx("p",{children:r.delivery})]}),ce.jsxs("div",{className:"modal-btn-container",children:[ce.jsxs("button",{className:"modal-btn",onClick:async()=>{try{const a=await(await fetch("https://v2.jokeapi.dev/joke/Programming,Pun?blacklistFlags=nsfw,religious,political,racist,sexist,explicit&type=twopart")).json();Ue.set(Xl,{setup:a.setup,delivery:a.delivery})}catch(s){console.error("This ain't a joke I can't help you:",s)}},children:[" ","Want Another?"]}),ce.jsx("button",{className:"modal-btn",onClick:()=>{i(!1)},children:"Escape!"})]})]})})}function Rv(){const r=Ao(Hp),[t,i]=ko(Zl);return t&&ce.jsx("div",{className:"modal",children:ce.jsxs("div",{className:"modal-content",style:{position:"relative",height:"80vh",display:"flex",flexDirection:"column"},children:[ce.jsx("h1",{children:"Credits & Thanks"}),ce.jsxs("div",{style:{overflowY:"auto",flex:1,marginBottom:"60px",paddingRight:"15px"},children:[ce.jsxs("div",{className:"credits-section",children:[ce.jsx("h2",{children:"Special Thanks"}),r.specialThanks.map((s,a)=>ce.jsxs("div",{className:"credit-item",children:[ce.jsx("h3",{children:s.name}),ce.jsx("p",{children:s.contribution}),s.link&&ce.jsx("a",{href:s.link,target:"_blank",rel:"noopener noreferrer",style:{color:"#00ffff"},children:"Visit"})]},a))]}),ce.jsxs("div",{className:"credits-section",children:[ce.jsx("h2",{children:"Technologies Used"}),r.technologies.map((s,a)=>ce.jsxs("div",{className:"credit-item",children:[ce.jsx("h3",{children:s.name}),ce.jsx("p",{children:s.description})]},a))]})]}),ce.jsx("div",{style:{position:"absolute",bottom:0,left:0,right:0,padding:"15px",background:"inherit",borderTop:"1px solid rgba(255, 255, 255, 0.1)"},children:ce.jsx("div",{className:"modal-btn-container",children:ce.jsx("button",{className:"modal-btn",onClick:()=>{i(!1)},children:"Close"})})})]})})}function Tv(){return ce.jsxs(ce.Fragment,{children:[ce.jsx("p",{className:"controls-message",children:" Tap/Hold to explore the World🌍"}),ce.jsx(Sv,{}),ce.jsx(kv,{}),ce.jsx(Cv,{}),ce.jsx(Mv,{}),ce.jsx(Pv,{}),ce.jsx(Rv,{})]})}async function Pr(r,t){await r.tween(t.opacity,1,.5,i=>{t.opacity=i;for(const s of t.children)s.opacity=t.opacity},r.easings.linear),t.opacityTrickleDown&&t.opacityTrickleDown.cancel()}function er(r,t){r.opacityTrickleDown=r.onUpdate(()=>{for(const i of t)i.opacity=r.opacity})}function Lc(r,t,i,s,a){const u=t.add([r.sprite(s.name,{width:s.width,height:s.height}),r.anchor("center"),r.pos(i),r.opacity(0),r.offscreen({hide:!0,distance:300})]),d=u.add([r.text(a,{font:"ibm-bold",size:32}),r.color(r.Color.fromHex(ut.color1)),r.anchor("center"),r.pos(0,100),r.opacity(0)]);return er(t,[d]),[u,d]}function Dv(r,t,i,s,a,u){const[d,y]=Lc(r,t,i,s,a),p=d.add([r.circle(30),r.color(r.Color.fromHex(ut.color1)),r.anchor("center"),r.area(),r.pos(0,150),r.opacity(0)]);return p.onCollide("player",()=>{Ue.set(Kl,!0),Ue.set(xv,u)}),er(t,[y,p]),d}function Iv(r,t,i,s,a){const u=t.add([r.anchor("center"),r.pos(i),r.opacity(0),r.offscreen({hide:!0,distance:300})]),d=u.add([r.rect(640,360,{radius:10}),r.anchor("center"),r.mask("intersect"),r.opacity(0)]),y=d.add([r.sprite(a,{width:640,height:360}),r.anchor("center"),r.opacity(0)]),p=u.add([r.text(s.title,{font:"ibm-bold",size:32,width:600,lineSpacing:12}),r.color(r.Color.fromHex(ut.color1)),r.pos(-310,200),r.opacity(0)]),g=u.add([r.circle(30),r.area(),r.color(r.Color.fromHex(ut.color1)),r.pos(400,0),r.opacity(0)]);return g.onCollide("player",()=>{Ue.set(Yl,!0),Ue.set(Vp,s)}),er(t,[d,y,p,g]),u}function Vi(r,t,i,s=null){const a=r.add([r.rect(200,200,{radius:10}),r.anchor("center"),r.area(),r.pos(t),r.color(ut.color1),r.opacity(0),"collider",i]);a.add([r.sprite("star-sprite",{anim:"spin"}),r.scale(8.5),r.anchor("center"),r.pos(0,0),"star"]).play("spin",{speed:10,loop:!0});const d=a.add([r.text(i,{font:"ibm-bold",size:64}),r.color(ut.color1),r.anchor("center"),r.pos(0,-150),r.scale(1)]);if(s){const y=a.onCollide("player",()=>{r.tween(d.scale.x,1.2,.15,g=>{d.scale.x=g,d.scale.y=g},r.easings.bounceOut),r.tween(d.color,r.Color.fromHex("#00ffff"),.1,g=>d.color=g,r.easings.linear).then(()=>{r.tween(d.color,r.Color.fromHex(ut.color1),.3,g=>d.color=g,r.easings.linear)});const p=d.pos.y;r.tween(d.pos.y,p-20,.1,g=>d.pos.y=g,r.easings.quadOut).then(()=>{r.tween(d.pos.y,p,.2,g=>d.pos.y=g,r.easings.bounceOut)}),r.wait(.2,()=>{r.tween(d.scale.x,1,.2,g=>{d.scale.x=g,d.scale.y=g},r.easings.bounceOut)}),s(a),y.cancel()})}return a}function Fv(r,t,i,s,a){const[u,d]=Lc(r,t,i,s,a);return u.use(r.area({shape:new r.Rect(r.vec2(0),u.width+50,u.height+65)})),u.use(r.body({drag:1})),u.use({direction:r.vec2(0,0)}),u.onCollide("player",y=>{u.applyImpulse(y.direction.scale(1e3)),u.direction=y.direction}),er(t,[d]),u}function Bv(r,t,i,s,a,u,d){const[y,p]=Lc(r,t,i,s,a),g=y.add([r.circle(30),r.color(r.Color.fromHex(ut.color1)),r.anchor("center"),r.area(),r.pos(0,150),r.opacity(0)]);return g.onCollide("player",()=>{Ue.set(Ql,!0),Ue.set(zp,u),Ue.set(_p,d)}),er(t,[p,g]),y}function Nv(r,t,i,s,a){const u=t.add([r.rect(800,s,{radius:8}),r.area(),r.outline(4,r.Color.fromHex(ut.color1)),r.pos(i),r.color(r.Color.fromHex(ut.color2)),r.opacity(0),r.offscreen({hide:!0,distance:300})]),d=u.add([r.text(a.title,{font:"ibm-bold",size:32}),r.color(r.Color.fromHex(ut.color1)),r.pos(20,20),r.opacity(0)]),y=u.add([r.text(`${a.company.name} -- ${a.company.startDate}-${a.company.endDate}`,{font:"ibm-regular",size:20}),r.color(r.Color.fromHex(ut.color1)),r.pos(20,60),r.opacity(0)]),p=u.add([r.text(a.description,{font:"ibm-regular",size:25,width:750}),r.color(r.Color.fromHex(ut.color1)),r.pos(20,110),r.opacity(0)]);return er(t,[d,y,p]),u}function Lv(r,t,i){let s=!1;const a=r.play("walk",{volume:.018,loop:!0,paused:!0,speed:.69});r.loadSound("collision","./sounds/collision.ogg");const u=.7071;r.loadSprite("playerIdle","./sprites/idle.png",{sliceX:8,sliceY:6,anims:{idleDown:{from:0,to:7,loop:!0},idleDownLeft:{from:8,to:15,loop:!0},idleLeft:{from:8,to:15,loop:!0},idleTopLeft:{from:16,to:23,loop:!0},idleUp:{from:24,to:31,loop:!0},idleTopRight:{from:32,to:39,loop:!0},idleRight:{from:40,to:47,loop:!0},idleBottomRight:{from:40,to:47,loop:!0}}}),r.loadSprite("playerWalk","./sprites/walk.png",{sliceX:8,sliceY:6,anims:{walkDown:{from:0,to:7,loop:!0},walkDownLeft:{from:8,to:15,loop:!0},walkLeft:{from:8,to:15,loop:!0},walkTopLeft:{from:16,to:23,loop:!0},walkUp:{from:24,to:31,loop:!0},walkTopRight:{from:32,to:39,loop:!0},walkRight:{from:40,to:47,loop:!0},walkBottomRight:{from:40,to:47,loop:!0}}}),r.loadSprite("playerDash","./sprites/dash.png",{sliceX:8,sliceY:6,anims:{dashDown:{from:0,to:7,loop:!0},dashDownLeft:{from:8,to:15,loop:!0},dashLeft:{from:8,to:15,loop:!0},dashTopLeft:{from:16,to:23,loop:!0},dashUp:{from:24,to:31,loop:!0},dashTopRight:{from:32,to:39,loop:!0},dashRight:{from:40,to:47,loop:!0},dashBottomRight:{from:40,to:47,loop:!0}}});const d=r.add([r.sprite("playerIdle",{anim:"idleDown"}),r.scale(8),r.anchor("center"),r.area({shape:new r.Rect(r.vec2(0),5,15)}),r.body(),r.pos(t),"player",{direction:r.vec2(0,0),directionName:"idleDown",currentState:"idle",lastValidDirection:r.vec2(0,1)}]),y=5;let p=!1;const g=document.getElementById("game");g.addEventListener("focusout",()=>{p=!1}),g.addEventListener("mousedown",()=>{p=!0}),g.addEventListener("mouseup",()=>{p=!1}),g.addEventListener("touchstart",()=>{p=!0}),g.addEventListener("touchend",()=>{p=!1});const E=m=>{try{d.sprite&&m&&d.play(m)}catch(M){console.warn(`Failed to play animation: ${m}`,M)}},C=(m,M)=>{const S=M?"walk":"idle";if(Math.abs(m.y)<.3){if(m.x>0)return`${S}Right`;if(m.x<0)return`${S}Left`}return m.y<-.3?m.x>.3?`${S}TopRight`:m.x<-.3?`${S}TopLeft`:`${S}Up`:m.y>.3?m.x>.3?`${S}BottomRight`:m.x<-.3?`${S}DownLeft`:`${S}Down`:`${S}Down`};return d.onUpdate(()=>{if(Ue.get(Ql)||Ue.get(Kl)||Ue.get(Yl)||Ue.get(ms)||Ue.get(Zl)){s&&(a.paused=!0,s=!1);return}if(r.getCamPos().eq(d.pos)||r.tween(r.getCamPos(),d.pos,.2,A=>r.setCamPos(A),r.easings.linear),Ue.get(Ql)||Ue.get(Kl)||Ue.get(Yl)||Ue.get(ms)||Ue.get(Zl))return;d.direction=r.vec2(0,0);const S=r.toWorld(r.mousePos()).sub(d.pos),D=S.len();p&&D>y&&(d.direction=S.unit(),d.lastValidDirection=d.direction);const x=!d.direction.eq(r.vec2(0,0));if(x?s||(a.paused=!1,s=!0):s&&(a.paused=!0,s=!1),x){d.currentState!=="walk"&&(d.currentState="walk",d.use(r.sprite("playerWalk")));const A=C(d.direction,!0);A!==d.directionName&&(d.directionName=A,E(A))}else{d.currentState!=="idle"&&(d.currentState="idle",d.use(r.sprite("playerIdle")));const A=C(d.lastValidDirection,!1);A!==d.directionName&&(d.directionName=A,E(A))}d.direction.x&&d.direction.y?d.move(d.direction.scale(u*i)):d.move(d.direction.scale(i))}),d.onCollide("collider",()=>{r.play("collision",{volume:.3,speed:1})}),d}var qv=Object.defineProperty,f=(r,t)=>qv(r,"name",{value:t,configurable:!0}),Ov=(()=>{for(var r=new Uint8Array(128),t=0;t<64;t++)r[t<26?t+65:t<52?t+71:t<62?t-4:t*4-205]=t;return i=>{for(var s=i.length,a=new Uint8Array((s-(i[s-1]=="=")-(i[s-2]=="="))*3/4|0),u=0,d=0;u<s;){var y=r[i.charCodeAt(u++)],p=r[i.charCodeAt(u++)],g=r[i.charCodeAt(u++)],E=r[i.charCodeAt(u++)];a[d++]=y<<2|p>>4,a[d++]=p<<4|g>>2,a[d++]=g<<6|E}return a}})(),Le,Te=(Le=class{constructor(t,i,s){q(this,"r",255);q(this,"g",255);q(this,"b",255);this.r=Dn(t,0,255),this.g=Dn(i,0,255),this.b=Dn(s,0,255)}static fromArray(t){return new Le(t[0],t[1],t[2])}static fromHex(t){if(typeof t=="number")return new Le(t>>16&255,t>>8&255,t>>0&255);if(typeof t=="string"){let i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);if(!i)throw new Error("Invalid hex color format");return new Le(parseInt(i[1],16),parseInt(i[2],16),parseInt(i[3],16))}else throw new Error("Invalid hex color format")}static fromHSL(t,i,s){if(i==0)return new Le(255*s,255*s,255*s);let a=f((E,C,m)=>(m<0&&(m+=1),m>1&&(m-=1),m<1/6?E+(C-E)*6*m:m<1/2?C:m<2/3?E+(C-E)*(2/3-m)*6:E),"hue2rgb"),u=s<.5?s*(1+i):s+i-s*i,d=2*s-u,y=a(d,u,t+1/3),p=a(d,u,t),g=a(d,u,t-1/3);return new Le(Math.round(y*255),Math.round(p*255),Math.round(g*255))}clone(){return new Le(this.r,this.g,this.b)}lighten(t){return new Le(this.r+t,this.g+t,this.b+t)}darken(t){return this.lighten(-t)}invert(){return new Le(255-this.r,255-this.g,255-this.b)}mult(t){return new Le(this.r*t.r/255,this.g*t.g/255,this.b*t.b/255)}lerp(t,i){return new Le(Wt(this.r,t.r,i),Wt(this.g,t.g,i),Wt(this.b,t.b,i))}toHSL(){let t=this.r/255,i=this.g/255,s=this.b/255,a=Math.max(t,i,s),u=Math.min(t,i,s),d=(a+u)/2,y=d,p=d;if(a==u)d=y=0;else{let g=a-u;switch(y=p>.5?g/(2-a-u):g/(a+u),a){case t:d=(i-s)/g+(i<s?6:0);break;case i:d=(s-t)/g+2;break;case s:d=(t-i)/g+4;break}d/=6}return[d,y,p]}eq(t){return this.r===t.r&&this.g===t.g&&this.b===t.b}toString(){return`rgb(${this.r}, ${this.g}, ${this.b})`}toHex(){return"#"+((1<<24)+(this.r<<16)+(this.g<<8)+this.b).toString(16).slice(1)}toArray(){return[this.r,this.g,this.b]}},f(Le,"Color"),q(Le,"RED",new Le(255,0,0)),q(Le,"GREEN",new Le(0,255,0)),q(Le,"BLUE",new Le(0,0,255)),q(Le,"YELLOW",new Le(255,255,0)),q(Le,"MAGENTA",new Le(255,0,255)),q(Le,"CYAN",new Le(0,255,255)),q(Le,"WHITE",new Le(255,255,255)),q(Le,"BLACK",new Le(0,0,0)),Le);function qe(...r){if(r.length===0)return new Te(255,255,255);if(r.length===1){if(r[0]instanceof Te)return r[0].clone();if(typeof r[0]=="string")return Te.fromHex(r[0]);if(Array.isArray(r[0])&&r[0].length===3)return Te.fromArray(r[0])}else if(r.length===2){if(r[0]instanceof Te)return r[0].clone()}else if(r.length===3||r.length===4)return new Te(r[0],r[1],r[2]);throw new Error("Invalid color arguments")}f(qe,"rgb");var bv=f((r,t,i)=>Te.fromHSL(r,t,i),"hsl2rgb");function ct(r){return r*Math.PI/180}f(ct,"deg2rad");function Lr(r){return r*180/Math.PI}f(Lr,"rad2deg");function Dn(r,t,i){return t>i?Dn(r,i,t):Math.min(Math.max(r,t),i)}f(Dn,"clamp");function Wt(r,t,i){if(typeof r=="number"&&typeof t=="number")return r+(t-r)*i;if(r instanceof G&&t instanceof G||r instanceof Te&&t instanceof Te)return r.lerp(t,i);throw new Error(`Bad value for lerp(): ${r}, ${t}. Only number, Vec2 and Color is supported.`)}f(Wt,"lerp");function Rn(r,t,i,s,a){return s+(r-t)/(i-t)*(a-s)}f(Rn,"map");function Gp(r,t,i,s,a){return Dn(Rn(r,t,i,s,a),s,a)}f(Gp,"mapc");var _e,G=(_e=class{constructor(t=0,i=t){q(this,"x",0);q(this,"y",0);this.x=t,this.y=i}static fromAngle(t){let i=ct(t);return new _e(Math.cos(i),Math.sin(i))}static fromArray(t){return new _e(t[0],t[1])}clone(){return new _e(this.x,this.y)}add(...t){let i=z(...t);return new _e(this.x+i.x,this.y+i.y)}sub(...t){let i=z(...t);return new _e(this.x-i.x,this.y-i.y)}scale(...t){let i=z(...t);return new _e(this.x*i.x,this.y*i.y)}dist(...t){let i=z(...t);return this.sub(i).len()}sdist(...t){let i=z(...t);return this.sub(i).slen()}static sdist(t,i){let s=t.x-i.x,a=t.y-i.y;return s*s+a*a}len(){return Math.sqrt(this.dot(this))}slen(){return this.dot(this)}unit(){let t=this.len();return t===0?new _e(0):this.scale(1/t)}normal(){return new _e(this.y,-this.x)}reflect(t){return this.sub(t.scale(2*this.dot(t)))}project(t){return t.scale(t.dot(this)/t.len())}reject(t){return this.sub(this.project(t))}dot(t){return this.x*t.x+this.y*t.y}static dot(t,i){return t.x*t.x+t.y*t.y}cross(t){return this.x*t.y-this.y*t.x}static cross(t,i){return t.x*i.y-t.y*i.x}angle(...t){let i=z(...t);return Lr(Math.atan2(this.y-i.y,this.x-i.x))}angleBetween(...t){let i=z(...t);return Lr(Math.atan2(this.cross(i),this.dot(i)))}lerp(t,i){return new _e(Wt(this.x,t.x,i),Wt(this.y,t.y,i))}slerp(t,i){let s=this.dot(t),a=this.cross(t),u=Math.atan2(a,s);return this.scale(Math.sin((1-i)*u)).add(t.scale(Math.sin(i*u))).scale(1/a)}isZero(){return this.x===0&&this.y===0}toFixed(t){return new _e(Number(this.x.toFixed(t)),Number(this.y.toFixed(t)))}transform(t){return t.multVec2(this)}eq(t){return this.x===t.x&&this.y===t.y}bbox(){return new Xe(this,0,0)}toString(){return`vec2(${this.x.toFixed(2)}, ${this.y.toFixed(2)})`}toArray(){return[this.x,this.y]}},f(_e,"Vec2"),q(_e,"ZERO",new _e(0,0)),q(_e,"ONE",new _e(1,1)),q(_e,"LEFT",new _e(-1,0)),q(_e,"RIGHT",new _e(1,0)),q(_e,"UP",new _e(0,-1)),q(_e,"DOWN",new _e(0,1)),_e);function z(...r){if(r.length===1){if(r[0]instanceof G)return new G(r[0].x,r[0].y);if(Array.isArray(r[0])&&r[0].length===2)return new G(...r[0])}return new G(...r)}f(z,"vec2");var Ir,nt=(Ir=class{constructor(t,i,s,a){q(this,"x",0);q(this,"y",0);q(this,"w",1);q(this,"h",1);this.x=t,this.y=i,this.w=s,this.h=a}scale(t){return new Ir(this.x+this.w*t.x,this.y+this.h*t.y,this.w*t.w,this.h*t.h)}pos(){return new G(this.x,this.y)}clone(){return new Ir(this.x,this.y,this.w,this.h)}eq(t){return this.x===t.x&&this.y===t.y&&this.w===t.w&&this.h===t.h}toString(){return`quad(${this.x}, ${this.y}, ${this.w}, ${this.h})`}},f(Ir,"Quad"),Ir);function at(r,t,i,s){return new nt(r,t,i,s)}f(at,"quad");var Mn,Jl=(Mn=class{constructor(t,i,s,a){q(this,"a");q(this,"b");q(this,"c");q(this,"d");this.a=t,this.b=i,this.c=s,this.d=a}mul(t){return new Mn(this.a*t.a+this.b*t.c,this.a*t.b+this.b*t.d,this.c*t.a+this.d*t.c,this.c*t.b+this.d*t.d)}transform(t){return z(this.a*t.x+this.b*t.y,this.c*t.x+this.d*t.y)}get inverse(){let t=this.det;return new Mn(this.d/t,-this.b/t,-this.c/t,this.a/t)}get transpose(){return new Mn(this.a,this.c,this.b,this.d)}get eigenvalues(){let t=this.trace/2,i=this.det,s=t+Math.sqrt(t*t-i),a=t-Math.sqrt(t*t-i);return[s,a]}eigenvectors(t,i){return this.c!=0?[[t-this.d,this.c],[i-this.d,this.c]]:this.b!=0?[[this.b,t-this.a],[this.b,i-this.a]]:Math.abs(this.transform(z(1,0)).x-t)<Number.EPSILON?[[1,0],[0,1]]:[[0,1],[1,0]]}get det(){return this.a*this.d-this.b*this.c}get trace(){return this.a+this.d}static rotation(t){let i=Math.cos(t),s=Math.sin(t);return new Mn(i,s,-s,i)}static scale(t,i){return new Mn(t,0,0,i)}},f(Mn,"Mat2"),Mn),On,fs=(On=class{constructor(t,i,s,a,u,d,y,p,g){q(this,"m11");q(this,"m12");q(this,"m13");q(this,"m21");q(this,"m22");q(this,"m23");q(this,"m31");q(this,"m32");q(this,"m33");this.m11=t,this.m12=i,this.m13=s,this.m21=a,this.m22=u,this.m23=d,this.m31=y,this.m32=p,this.m33=g}static fromMat2(t){return new On(t.a,t.b,0,t.c,t.d,0,0,0,1)}toMat2(){return new Jl(this.m11,this.m12,this.m21,this.m22)}mul(t){return new On(this.m11*t.m11+this.m12*t.m21+this.m13*t.m31,this.m11*t.m12+this.m12*t.m22+this.m13*t.m32,this.m11*t.m13+this.m12*t.m23+this.m13*t.m33,this.m21*t.m11+this.m22*t.m21+this.m23*t.m31,this.m21*t.m12+this.m22*t.m22+this.m23*t.m32,this.m21*t.m13+this.m22*t.m23+this.m23*t.m33,this.m31*t.m11+this.m32*t.m21+this.m33*t.m31,this.m31*t.m12+this.m32*t.m22+this.m33*t.m32,this.m31*t.m13+this.m32*t.m23+this.m33*t.m33)}get det(){return this.m11*this.m22*this.m33+this.m12*this.m23*this.m31+this.m13*this.m21*this.m32-this.m13*this.m22*this.m31-this.m12*this.m21*this.m33-this.m11*this.m23*this.m32}rotate(t){let i=Math.cos(t),s=Math.sin(t),a=this.m11,u=this.m12;return this.m11=i*this.m11+s*this.m21,this.m12=i*this.m12+s*this.m22,this.m21=i*this.m21-s*a,this.m22=i*this.m22-s*u,this}scale(t,i){return this.m11*=t,this.m12*=t,this.m21*=i,this.m22*=i,this}get inverse(){let t=this.det;return new On((this.m22*this.m33-this.m23*this.m32)/t,(this.m13*this.m32-this.m12*this.m33)/t,(this.m12*this.m23-this.m13*this.m22)/t,(this.m23*this.m31-this.m21*this.m33)/t,(this.m11*this.m33-this.m13*this.m31)/t,(this.m13*this.m21-this.m11*this.m23)/t,(this.m21*this.m32-this.m22*this.m31)/t,(this.m12*this.m31-this.m11*this.m32)/t,(this.m11*this.m22-this.m12*this.m21)/t)}get transpose(){return new On(this.m11,this.m21,this.m31,this.m12,this.m22,this.m32,this.m13,this.m23,this.m33)}},f(On,"Mat3"),On),Vt,Un=(Vt=class{constructor(t){q(this,"m",[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);t&&(this.m=t)}static translate(t){return new Vt([1,0,0,0,0,1,0,0,0,0,1,0,t.x,t.y,0,1])}static scale(t){return new Vt([t.x,0,0,0,0,t.y,0,0,0,0,1,0,0,0,0,1])}static rotateX(t){t=ct(-t);let i=Math.cos(t),s=Math.sin(t);return new Vt([1,0,0,0,0,i,-s,0,0,s,i,0,0,0,0,1])}static rotateY(t){t=ct(-t);let i=Math.cos(t),s=Math.sin(t);return new Vt([i,0,s,0,0,1,0,0,-s,0,i,0,0,0,0,1])}static rotateZ(t){t=ct(-t);let i=Math.cos(t),s=Math.sin(t);return new Vt([i,-s,0,0,s,i,0,0,0,0,1,0,0,0,0,1])}translate(t){return this.m[12]+=this.m[0]*t.x+this.m[4]*t.y,this.m[13]+=this.m[1]*t.x+this.m[5]*t.y,this.m[14]+=this.m[2]*t.x+this.m[6]*t.y,this.m[15]+=this.m[3]*t.x+this.m[7]*t.y,this}scale(t){return this.m[0]*=t.x,this.m[4]*=t.y,this.m[1]*=t.x,this.m[5]*=t.y,this.m[2]*=t.x,this.m[6]*=t.y,this.m[3]*=t.x,this.m[7]*=t.y,this}rotate(t){t=ct(-t);let i=Math.cos(t),s=Math.sin(t),a=this.m[0],u=this.m[1],d=this.m[4],y=this.m[5];return this.m[0]=a*i+u*s,this.m[1]=-a*s+u*i,this.m[4]=d*i+y*s,this.m[5]=-d*s+y*i,this}mult(t){let i=[];for(let s=0;s<4;s++)for(let a=0;a<4;a++)i[s*4+a]=this.m[0*4+a]*t.m[s*4+0]+this.m[1*4+a]*t.m[s*4+1]+this.m[2*4+a]*t.m[s*4+2]+this.m[3*4+a]*t.m[s*4+3];return new Vt(i)}multVec2(t){return new G(t.x*this.m[0]+t.y*this.m[4]+this.m[12],t.x*this.m[1]+t.y*this.m[5]+this.m[13])}getTranslation(){return new G(this.m[12],this.m[13])}getScale(){if(this.m[0]!=0||this.m[1]!=0){let t=this.m[0]*this.m[5]-this.m[1]*this.m[4],i=Math.sqrt(this.m[0]*this.m[0]+this.m[1]*this.m[1]);return new G(i,t/i)}else if(this.m[4]!=0||this.m[5]!=0){let t=this.m[0]*this.m[5]-this.m[1]*this.m[4],i=Math.sqrt(this.m[4]*this.m[4]+this.m[5]*this.m[5]);return new G(t/i,i)}else return new G(0,0)}getRotation(){if(this.m[0]!=0||this.m[1]!=0){let t=Math.sqrt(this.m[0]*this.m[0]+this.m[1]*this.m[1]);return Lr(this.m[1]>0?Math.acos(this.m[0]/t):-Math.acos(this.m[0]/t))}else if(this.m[4]!=0||this.m[5]!=0){let t=Math.sqrt(this.m[4]*this.m[4]+this.m[5]*this.m[5]);return Lr(Math.PI/2-(this.m[5]>0?Math.acos(-this.m[4]/t):-Math.acos(this.m[4]/t)))}else return 0}getSkew(){if(this.m[0]!=0||this.m[1]!=0){let t=Math.sqrt(this.m[0]*this.m[0]+this.m[1]*this.m[1]);return new G(Math.atan(this.m[0]*this.m[4]+this.m[1]*this.m[5])/(t*t),0)}else if(this.m[4]!=0||this.m[5]!=0){let t=Math.sqrt(this.m[4]*this.m[4]+this.m[5]*this.m[5]);return new G(0,Math.atan(this.m[0]*this.m[4]+this.m[1]*this.m[5])/(t*t))}else return new G(0,0)}invert(){let t=[],i=this.m[10]*this.m[15]-this.m[14]*this.m[11],s=this.m[9]*this.m[15]-this.m[13]*this.m[11],a=this.m[9]*this.m[14]-this.m[13]*this.m[10],u=this.m[8]*this.m[15]-this.m[12]*this.m[11],d=this.m[8]*this.m[14]-this.m[12]*this.m[10],y=this.m[8]*this.m[13]-this.m[12]*this.m[9],p=this.m[6]*this.m[15]-this.m[14]*this.m[7],g=this.m[5]*this.m[15]-this.m[13]*this.m[7],E=this.m[5]*this.m[14]-this.m[13]*this.m[6],C=this.m[4]*this.m[15]-this.m[12]*this.m[7],m=this.m[4]*this.m[14]-this.m[12]*this.m[6],M=this.m[5]*this.m[15]-this.m[13]*this.m[7],S=this.m[4]*this.m[13]-this.m[12]*this.m[5],D=this.m[6]*this.m[11]-this.m[10]*this.m[7],x=this.m[5]*this.m[11]-this.m[9]*this.m[7],A=this.m[5]*this.m[10]-this.m[9]*this.m[6],N=this.m[4]*this.m[11]-this.m[8]*this.m[7],_=this.m[4]*this.m[10]-this.m[8]*this.m[6],K=this.m[4]*this.m[9]-this.m[8]*this.m[5];t[0]=this.m[5]*i-this.m[6]*s+this.m[7]*a,t[4]=-(this.m[4]*i-this.m[6]*u+this.m[7]*d),t[8]=this.m[4]*s-this.m[5]*u+this.m[7]*y,t[12]=-(this.m[4]*a-this.m[5]*d+this.m[6]*y),t[1]=-(this.m[1]*i-this.m[2]*s+this.m[3]*a),t[5]=this.m[0]*i-this.m[2]*u+this.m[3]*d,t[9]=-(this.m[0]*s-this.m[1]*u+this.m[3]*y),t[13]=this.m[0]*a-this.m[1]*d+this.m[2]*y,t[2]=this.m[1]*p-this.m[2]*g+this.m[3]*E,t[6]=-(this.m[0]*p-this.m[2]*C+this.m[3]*m),t[10]=this.m[0]*M-this.m[1]*C+this.m[3]*S,t[14]=-(this.m[0]*E-this.m[1]*m+this.m[2]*S),t[3]=-(this.m[1]*D-this.m[2]*x+this.m[3]*A),t[7]=this.m[0]*D-this.m[2]*N+this.m[3]*_,t[11]=-(this.m[0]*x-this.m[1]*N+this.m[3]*K),t[15]=this.m[0]*A-this.m[1]*_+this.m[2]*K;let W=this.m[0]*t[0]+this.m[1]*t[4]+this.m[2]*t[8]+this.m[3]*t[12];for(let P=0;P<4;P++)for(let T=0;T<4;T++)t[P*4+T]*=1/W;return new Vt(t)}clone(){return new Vt([...this.m])}toString(){return this.m.toString()}},f(Vt,"Mat4"),Vt);function qc(r,t,i,s=a=>-Math.cos(a)){return r+(s(i)+1)/2*(t-r)}f(qc,"wave");var jv=1103515245,Uv=12345,Tp=2147483648,Ji,Wp=(Ji=class{constructor(t){q(this,"seed");this.seed=t}gen(){return this.seed=(jv*this.seed+Uv)%Tp,this.seed/Tp}genNumber(t,i){return t+this.gen()*(i-t)}genVec2(t,i){return new G(this.genNumber(t.x,i.x),this.genNumber(t.y,i.y))}genColor(t,i){return new Te(this.genNumber(t.r,i.r),this.genNumber(t.g,i.g),this.genNumber(t.b,i.b))}genAny(...t){if(t.length===0)return this.gen();if(t.length===1){if(typeof t[0]=="number")return this.genNumber(0,t[0]);if(t[0]instanceof G)return this.genVec2(z(0,0),t[0]);if(t[0]instanceof Te)return this.genColor(qe(0,0,0),t[0])}else if(t.length===2){if(typeof t[0]=="number"&&typeof t[1]=="number")return this.genNumber(t[0],t[1]);if(t[0]instanceof G&&t[1]instanceof G)return this.genVec2(t[0],t[1]);if(t[0]instanceof Te&&t[1]instanceof Te)return this.genColor(t[0],t[1])}throw new Error("More than 2 arguments not supported")}},f(Ji,"RNG"),Ji),xc=new Wp(Date.now());function Qp(r){return r!=null&&(xc.seed=r),xc.seed}f(Qp,"randSeed");function yt(...r){return xc.genAny(...r)}f(yt,"rand");function Oc(...r){return Math.floor(yt(...r.length>0?r:[2]))}f(Oc,"randi");function Kp(r){return yt()<=r}f(Kp,"chance");function bc(r){for(let t=r.length-1;t>0;t--){let i=Math.floor(Math.random()*(t+1));[r[t],r[i]]=[r[i],r[t]]}return r}f(bc,"shuffle");function Yp(r,t){return r.length<=t?r.slice():bc(r.slice()).slice(0,t)}f(Yp,"chooseMultiple");function Xp(r){return r[Oc(r.length)]}f(Xp,"choose");function jc(r,t){return r.pos.x+r.width>t.pos.x&&r.pos.x<t.pos.x+t.width&&r.pos.y+r.height>t.pos.y&&r.pos.y<t.pos.y+t.height}f(jc,"testRectRect");function Zp(r,t){if(r.p1.x===r.p2.x&&r.p1.y===r.p2.y||t.p1.x===t.p2.x&&t.p1.y===t.p2.y)return null;let i=(t.p2.y-t.p1.y)*(r.p2.x-r.p1.x)-(t.p2.x-t.p1.x)*(r.p2.y-r.p1.y);if(i===0)return null;let s=((t.p2.x-t.p1.x)*(r.p1.y-t.p1.y)-(t.p2.y-t.p1.y)*(r.p1.x-t.p1.x))/i,a=((r.p2.x-r.p1.x)*(r.p1.y-t.p1.y)-(r.p2.y-r.p1.y)*(r.p1.x-t.p1.x))/i;return s<0||s>1||a<0||a>1?null:s}f(Zp,"testLineLineT");function da(r,t){let i=Zp(r,t);return i?z(r.p1.x+i*(r.p2.x-r.p1.x),r.p1.y+i*(r.p2.y-r.p1.y)):null}f(da,"testLineLine");function ha(r,t){let i=t.p2.sub(t.p1),s=Number.NEGATIVE_INFINITY,a=Number.POSITIVE_INFINITY;if(i.x!=0){let u=(r.pos.x-t.p1.x)/i.x,d=(r.pos.x+r.width-t.p1.x)/i.x;s=Math.max(s,Math.min(u,d)),a=Math.min(a,Math.max(u,d))}if(i.y!=0){let u=(r.pos.y-t.p1.y)/i.y,d=(r.pos.y+r.height-t.p1.y)/i.y;s=Math.max(s,Math.min(u,d)),a=Math.min(a,Math.max(u,d))}return a>=s&&a>=0&&s<=1}f(ha,"testRectLine");function Ms(r,t){return t.x>r.pos.x&&t.x<r.pos.x+r.width&&t.y>r.pos.y&&t.y<r.pos.y+r.height}f(Ms,"testRectPoint");function Uc(r,t){let i=Math.max(r.pos.x,Math.min(t.center.x,r.pos.x+r.width)),s=Math.max(r.pos.y,Math.min(t.center.y,r.pos.y+r.height));return z(i,s).sdist(t.center)<=t.radius*t.radius}f(Uc,"testRectCircle");function zc(r,t){return _c(t,new Qt(r.points()))}f(zc,"testRectPolygon");function fa(r,t){let i=t.sub(r.p1),s=r.p2.sub(r.p1);if(Math.abs(i.cross(s))>Number.EPSILON)return!1;let a=i.dot(s)/s.dot(s);return a>=0&&a<=1}f(fa,"testLinePoint");function Co(r,t){let i=r.p2.sub(r.p1),s=i.dot(i),a=r.p1.sub(t.center),u=2*i.dot(a),d=a.dot(a)-t.radius*t.radius,y=u*u-4*s*d;if(s<=Number.EPSILON||y<0)return!1;if(y==0){let p=-u/(2*s);if(p>=0&&p<=1)return!0}else{let p=(-u+Math.sqrt(y))/(2*s),g=(-u-Math.sqrt(y))/(2*s);if(p>=0&&p<=1||g>=0&&g<=1)return!0}return Ps(t,r.p1)}f(Co,"testLineCircle");function pa(r,t){if(nr(t,r.p1)||nr(t,r.p2))return!0;for(let i=0;i<t.pts.length;i++){let s=t.pts[i],a=t.pts[(i+1)%t.pts.length];if(da(r,new on(s,a)))return!0}return!1}f(pa,"testLinePolygon");function Ps(r,t){return r.center.sdist(t)<r.radius*r.radius}f(Ps,"testCirclePoint");function Jp(r,t){return r.center.sdist(t.center)<(r.radius+t.radius)*(r.radius+t.radius)}f(Jp,"testCircleCircle");function Rs(r,t){let i=t.pts[t.pts.length-1];for(let s of t.pts){if(Co(new on(i,s),r))return!0;i=s}return Ps(r,t.pts[0])?!0:nr(t,r.center)}f(Rs,"testCirclePolygon");function _c(r,t){for(let i=0;i<r.pts.length;i++)if(pa(new on(r.pts[i],r.pts[(i+1)%r.pts.length]),t))return!0;return!!(r.pts.some(i=>nr(t,i))||t.pts.some(i=>nr(r,i)))}f(_c,"testPolygonPolygon");function nr(r,t){let i=!1,s=r.pts;for(let a=0,u=s.length-1;a<s.length;u=a++)s[a].y>t.y!=s[u].y>t.y&&t.x<(s[u].x-s[a].x)*(t.y-s[a].y)/(s[u].y-s[a].y)+s[a].x&&(i=!i);return i}f(nr,"testPolygonPoint");function ga(r,t){t=t.sub(r.center);let i=ct(r.angle),s=Math.cos(i),a=Math.sin(i),u=t.x*s+t.y*a,d=-t.x*a+t.y*s;return u*u/(r.radiusX*r.radiusX)+d*d/(r.radiusY*r.radiusY)<1}f(ga,"testEllipsePoint");function ys(r,t){let i=t.center.sub(r.center),s=ct(r.angle),a=Math.cos(s),u=Math.sin(s),d=i.x*a+i.y*u,y=-i.x*u+i.y*a;return ga(new rr(z(),r.radiusX+t.radius,r.radiusY+t.radius,0),z(d,y))}f(ys,"testEllipseCircle");function Vc(r,t){let i=r.toMat2().inverse;return t=new on(i.transform(t.p1.sub(r.center)),i.transform(t.p2.sub(r.center))),Co(t,new nn(z(),1))}f(Vc,"testEllipseLine");function $p(r,t){if(r.radiusX===r.radiusY)return ys(t,new nn(r.center,r.radiusX));if(t.radiusX===t.radiusY)return ys(r,new nn(t.center,t.radiusX));let i=new fs(1/r.radiusX**2,0,0,0,1/r.radiusY**2,0,0,0,-1),s=new fs(1/t.radiusX**2,0,0,0,1/t.radiusY**2,0,0,0,-1),a=r.center.x,u=r.center.y,d=t.center.x,y=t.center.y,p=ct(r.angle),g=ct(t.angle),E=new fs(Math.cos(p),-Math.sin(p),a,Math.sin(p),Math.cos(p),u,0,0,1),C=new fs(Math.cos(g),-Math.sin(g),d,Math.sin(g),Math.cos(g),y,0,0,1),m=E.inverse,M=C.inverse,S=m.transpose.mul(i).mul(m),D=M.transpose.mul(s).mul(M),x=S.m11,A=S.m12,N=S.m13,_=S.m21,K=S.m22,W=S.m23,P=S.m31,T=S.m32,U=S.m33,V=D.m11,Y=D.m12,te=D.m13,oe=D.m21,ge=D.m22,ve=D.m23,Se=D.m31,fe=D.m32,ue=D.m33,Z=x*K*U-x*W*T-A*_*U+A*W*P+N*_*T-N*K*P,re=(x*K*ue-x*W*fe-x*T*ve+x*U*ge-A*_*ue+A*W*Se+A*P*ve-A*U*oe+N*_*fe-N*K*Se-N*P*ge+N*T*oe+_*T*te-_*U*Y-K*P*te+K*U*V+W*P*Y-W*T*V)/Z,$=(x*ge*ue-x*ve*fe-A*oe*ue+A*ve*Se+N*oe*fe-N*ge*Se-_*Y*ue+_*te*fe+K*V*ue-K*te*Se-W*V*fe+W*Y*Se+P*Y*ve-P*te*ge-T*V*ve+T*te*oe+U*V*ge-U*Y*oe)/Z,B=(V*ge*ue-V*ve*fe-Y*oe*ue+Y*ve*Se+te*oe*fe-te*ge*Se)/Z;if(re>=0){let b=-3*$+re**2,we=3*re*B+$*re**2-4*$**2,Ee=-27*B**2+18*B*re*$+re**2*$**2-4*re**3*B-4*$**3;return!(b>0&&we<0&&Ee>0)}else{let b=-3*$+re**2,we=-27*B**2+18*B*re*$+re**2*$**2-4*re**3*B-4*$**3;return!(b>0&&we>0)}}f($p,"testEllipseEllipse");function Hc(r,t){return ma(r,new Qt(t.points()))}f(Hc,"testEllipseRect");function ma(r,t){let i=r.toMat2().inverse;return t=new Qt(t.pts.map(s=>i.transform(s.sub(r.center)))),Rs(new nn(z(),1),t)}f(ma,"testEllipsePolygon");function eg(r,t){return r.x===t.x&&r.y===t.y}f(eg,"testPointPoint");function tg(r,t){return t instanceof G?eg(t,r.pt):t instanceof nn?Ps(t,r.pt):t instanceof on?fa(t,r.pt):t instanceof Xe?Ms(t,r.pt):t instanceof Qt?nr(t,r.pt):t instanceof rr?ga(t,r.pt):!1}f(tg,"testPointShape");function ng(r,t){return t instanceof G?fa(r,t):t instanceof nn?Co(r,t):t instanceof on?da(r,t)!=null:t instanceof Xe?ha(t,r):t instanceof Qt?pa(r,t):t instanceof rr?Vc(t,r):!1}f(ng,"testLineShape");function rg(r,t){return t instanceof G?Ps(r,t):t instanceof nn?Jp(r,t):t instanceof on?Co(t,r):t instanceof Xe?Uc(t,r):t instanceof Qt?Rs(r,t):t instanceof rr?ys(t,r):!1}f(rg,"testCircleShape");function ig(r,t){return t instanceof G?Ms(r,t):t instanceof nn?Uc(r,t):t instanceof on?ha(r,t):t instanceof Xe?jc(r,t):t instanceof Qt?zc(r,t):t instanceof rr?Hc(t,r):!1}f(ig,"testRectShape");function og(r,t){return t instanceof G?nr(r,t):t instanceof nn?Rs(t,r):t instanceof on?pa(t,r):t instanceof Xe?zc(t,r):t instanceof Qt?_c(t,r):t instanceof rr?ma(t,r):!1}f(og,"testPolygonShape");function sg(r,t){return t instanceof G?ga(r,t):t instanceof nn?ys(r,t):t instanceof on?Vc(r,t):t instanceof Xe?Hc(r,t):t instanceof Qt?ma(r,t):t instanceof rr?$p(t,r):!1}f(sg,"testEllipseShape");function Gc(r,t,i){let s=r,a=i.p1,u=i.p2,d=t,y=u.sub(a),p=d.cross(y);if(Math.abs(p)<Number.EPSILON)return null;let g=a.sub(s),E=g.cross(y)/p;if(E<=0||E>=1)return null;let C=g.cross(d)/p;if(C<=0||C>=1)return null;let m=y.normal().unit();return t.dot(m)>0&&(m.x*=-1,m.y*=-1),{point:s.add(d.scale(E)),normal:m,fraction:E}}f(Gc,"raycastLine");function lg(r,t,i){let s=Number.NEGATIVE_INFINITY,a=Number.POSITIVE_INFINITY,u;if(r.x!=0){let d=(i.pos.x-r.x)/t.x,y=(i.pos.x+i.width-r.x)/t.x;u=z(-Math.sign(t.x),0),s=Math.max(s,Math.min(d,y)),a=Math.min(a,Math.max(d,y))}if(r.y!=0){let d=(i.pos.y-r.y)/t.y,y=(i.pos.y+i.height-r.y)/t.y;Math.min(d,y)>s&&(u=z(0,-Math.sign(t.y))),s=Math.max(s,Math.min(d,y)),a=Math.min(a,Math.max(d,y))}return a>=s&&s>=0&&s<=1?{point:r.add(t.scale(s)),normal:u,fraction:s}:null}f(lg,"raycastRect");function Wc(r,t,i){let s=r,a=i.center,u=t,d=u.dot(u),y=s.sub(a),p=2*u.dot(y),g=y.dot(y)-i.radius*i.radius,E=p*p-4*d*g;if(d<=Number.EPSILON||E<0)return null;if(E==0){let C=-p/(2*d);if(C>=0&&C<=1){let m=s.add(u.scale(C));return{point:m,normal:m.sub(a),fraction:C}}}else{let C=(-p+Math.sqrt(E))/(2*d),m=(-p-Math.sqrt(E))/(2*d),M=null;if(C>=0&&C<=1&&(M=C),m>=0&&m<=1&&(M=Math.min(m,M??m)),M!=null){let S=s.add(u.scale(M));return{point:S,normal:S.sub(a).unit(),fraction:M}}}return null}f(Wc,"raycastCircle");function ag(r,t,i){let s=i.pts,a=null,u=s[s.length-1];for(let d=0;d<s.length;d++){let y=s[d],p=Gc(r,t,new on(u,y));p&&(!a||a.fraction>p.fraction)&&(a=p),u=y}return a}f(ag,"raycastPolygon");function ug(r,t,i){let s=i.toMat2(),a=s.inverse,u=a.transform(r.sub(i.center)),d=a.transform(t),y=Wc(u,d,new nn(z(),1));if(y){let p=Jl.rotation(ct(-i.angle)),g=Jl.scale(i.radiusX,i.radiusY).transform(y.point),E=s.transform(y.point).add(i.center),C=E.dist(r)/t.len();return{point:E,normal:p.transform(z(i.radiusY**2*g.x,i.radiusX**2*g.y)).unit(),fraction:C}}return y}f(ug,"raycastEllipse");function cg(r,t,i,s=64){let a=r,u=t.len(),d=t.scale(1/u),y=0,p=z(Math.floor(r.x),Math.floor(r.y)),g=z(d.x>0?1:-1,d.y>0?1:-1),E=z(Math.abs(1/d.x),Math.abs(1/d.y)),C=z(g.x>0?p.x+1-r.x:r.x-p.x,g.y>0?p.y+1-r.y:r.y-p.y),m=z(E.x<1/0?E.x*C.x:1/0,E.y<1/0?E.y*C.y:1/0),M=-1;for(;y<=s;){let S=i(p);if(S===!0)return{point:a.add(d.scale(y)),normal:z(M===0?-g.x:0,M===1?-g.y:0),fraction:y/u,gridPos:p};if(S)return S;m.x<m.y?(p.x+=g.x,y=m.x,m.x+=E.x,M=0):(p.y+=g.y,y=m.y,m.y+=E.y,M=1)}return null}f(cg,"raycastGrid");var Fr,zv=(Fr=class{constructor(t){q(this,"pt");this.pt=t.clone()}transform(t){return new Fr(t.multVec2(this.pt))}bbox(){return new Xe(this.pt,0,0)}area(){return 0}clone(){return new Fr(this.pt)}collides(t){return tg(this,t)}contains(t){return this.pt.eq(t)}raycast(t,i){return null}random(){return this.pt.clone()}},f(Fr,"Point"),Fr),Br,on=(Br=class{constructor(t,i){q(this,"p1");q(this,"p2");this.p1=t.clone(),this.p2=i.clone()}transform(t){return new Br(t.multVec2(this.p1),t.multVec2(this.p2))}bbox(){return Xe.fromPoints(this.p1,this.p2)}area(){return this.p1.dist(this.p2)}clone(){return new Br(this.p1,this.p2)}collides(t){return ng(this,t)}contains(t){return this.collides(t)}raycast(t,i){return Gc(t,i,this)}random(){return this.p1.add(this.p2.sub(this.p1).scale(yt(1)))}},f(Br,"Line"),Br),Nr,Xe=(Nr=class{constructor(t,i,s){q(this,"pos");q(this,"width");q(this,"height");this.pos=t.clone(),this.width=i,this.height=s}static fromPoints(t,i){return new Nr(t.clone(),i.x-t.x,i.y-t.y)}center(){return new G(this.pos.x+this.width/2,this.pos.y+this.height/2)}points(){return[this.pos,this.pos.add(this.width,0),this.pos.add(this.width,this.height),this.pos.add(0,this.height)]}transform(t){return new Qt(this.points().map(i=>t.multVec2(i)))}bbox(){return this.clone()}area(){return this.width*this.height}clone(){return new Nr(this.pos.clone(),this.width,this.height)}distToPoint(t){return Math.sqrt(this.sdistToPoint(t))}sdistToPoint(t){let i=this.pos,s=this.pos.add(this.width,this.height),a=Math.max(i.x-t.x,0,t.x-s.x),u=Math.max(i.y-t.y,0,t.y-s.y);return a*a+u*u}collides(t){return ig(this,t)}contains(t){return this.collides(t)}raycast(t,i){return lg(t,i,this)}random(){return this.pos.add(yt(this.width),yt(this.height))}},f(Nr,"Rect"),Nr),ai,nn=(ai=class{constructor(t,i){q(this,"center");q(this,"radius");this.center=t.clone(),this.radius=i}transform(t){return new rr(this.center,this.radius,this.radius).transform(t)}bbox(){return Xe.fromPoints(this.center.sub(z(this.radius)),this.center.add(z(this.radius)))}area(){return this.radius*this.radius*Math.PI}clone(){return new ai(this.center,this.radius)}collides(t){return rg(this,t)}contains(t){return this.collides(t)}raycast(t,i){return Wc(t,i,this)}random(){return this.center.add(G.fromAngle(yt(360)).scale(yt(this.radius)))}},f(ai,"Circle"),ai),Pn,rr=(Pn=class{constructor(t,i,s,a=0){q(this,"center");q(this,"radiusX");q(this,"radiusY");q(this,"angle");this.center=t.clone(),this.radiusX=i,this.radiusY=s,this.angle=a}static fromMat2(t){let i=t.inverse,s=i.transpose.mul(i),[a,u]=s.eigenvalues,[d,y]=s.eigenvectors(a,u),[p,g]=[1/Math.sqrt(a),1/Math.sqrt(u)];return p>g?new Pn(z(),p,g,Lr(Math.atan2(-d[1],d[0]))):new Pn(z(),g,p,Lr(Math.atan2(-y[1],y[0])))}toMat2(){let t=ct(this.angle),i=Math.cos(t),s=Math.sin(t);return new Jl(i*this.radiusX,-s*this.radiusY,s*this.radiusX,i*this.radiusY)}transform(t){if(this.angle==0&&t.getRotation()==0)return new Pn(t.multVec2(this.center),t.m[0]*this.radiusX,t.m[5]*this.radiusY);{let i=this.toMat2(),s=t.getRotation(),a=t.getScale();i=fs.fromMat2(i).scale(a.x,a.y).rotate(s).toMat2();let u=Pn.fromMat2(i);return u.center=t.multVec2(this.center),u}}bbox(){if(this.angle==0)return Xe.fromPoints(this.center.sub(z(this.radiusX,this.radiusY)),this.center.add(z(this.radiusX,this.radiusY)));{let t=ct(this.angle),i=Math.cos(t),s=Math.sin(t),a=this.radiusX*i,u=this.radiusX*s,d=this.radiusY*s,y=this.radiusY*i,p=Math.sqrt(a*a+d*d),g=Math.sqrt(u*u+y*y);return Xe.fromPoints(this.center.sub(z(p,g)),this.center.add(z(p,g)))}}area(){return this.radiusX*this.radiusY*Math.PI}clone(){return new Pn(this.center,this.radiusX,this.radiusY,this.angle)}collides(t){return sg(this,t)}contains(t){t=t.sub(this.center);let i=ct(this.angle),s=Math.cos(i),a=Math.sin(i),u=t.x*s+t.y*a,d=-t.x*a+t.y*s;return u*u/(this.radiusX*this.radiusX)+d*d/(this.radiusY*this.radiusY)<1}raycast(t,i){return ug(t,i,this)}random(){return this.center}},f(Pn,"Ellipse"),Pn);function dg(r,t,i,s){let a=t.sub(r),u=s.sub(i),d=a.cross(u);return d<1e-5&&d>-1e-5||(d=i.sub(r).cross(u)/d,d<0||d>1)?null:r.add(a.scale(d))}f(dg,"segmentLineIntersection");var bn,Qt=(bn=class{constructor(t){q(this,"pts");if(t.length<3)throw new Error("Polygons should have at least 3 vertices");this.pts=t}transform(t){return new bn(this.pts.map(i=>t.multVec2(i)))}bbox(){let t=z(Number.MAX_VALUE),i=z(-Number.MAX_VALUE);for(let s of this.pts)t.x=Math.min(t.x,s.x),i.x=Math.max(i.x,s.x),t.y=Math.min(t.y,s.y),i.y=Math.max(i.y,s.y);return Xe.fromPoints(t,i)}area(){let t=0,i=this.pts.length;for(let s=0;s<i;s++){let a=this.pts[s],u=this.pts[(s+1)%i];t+=a.x*u.y*.5,t-=u.x*a.y*.5}return Math.abs(t)}clone(){return new bn(this.pts.map(t=>t.clone()))}collides(t){return og(this,t)}contains(t){return this.collides(t)}raycast(t,i){return ag(t,i,this)}random(){return z()}cut(t,i){new on(t,i);let s=[],a=[],u=i.sub(t),d=this.pts[this.pts.length-1],y=d.sub(t),p=u.cross(y)>0;return this.pts.forEach(g=>{y=g.sub(t);let E=u.cross(y)>0;if(p!=E){let C=dg(d,g,t,i);s.push(C),a.push(C),p=E}(E?s:a).push(g),d=g}),[s.length?new bn(s):null,a.length?new bn(a):null]}},f(bn,"Polygon"),bn);function hg(r,t,i,s){let a=s*s,u=1-s,d=u*u;return r.scale(d).add(t.scale(2*u*s)).add(i.scale(a))}f(hg,"evaluateQuadratic");function fg(r,t,i,s){let a=1-s;return t.sub(r).scale(2*a).add(i.sub(t).scale(2*s))}f(fg,"evaluateQuadraticFirstDerivative");function pg(r,t,i,s){return i.sub(t.scale(2)).add(r).scale(2)}f(pg,"evaluateQuadraticSecondDerivative");function ya(r,t,i,s,a){let u=a*a,d=u*a,y=1-a,p=y*y,g=p*y;return r.scale(g).add(t.scale(3*p*a)).add(i.scale(3*y*u)).add(s.scale(d))}f(ya,"evaluateBezier");function gg(r,t,i,s,a){let u=a*a,d=1-a,y=d*d;return t.sub(r).scale(3*y).add(i.sub(t).scale(6*d*a)).add(s.sub(i).scale(3*u))}f(gg,"evaluateBezierFirstDerivative");function mg(r,t,i,s,a){let u=1-a;return i.sub(t.scale(2)).add(r).scale(6*u).add(s.sub(i.scale(2)).add(t).scale(6*a))}f(mg,"evaluateBezierSecondDerivative");function yg(r,t,i,s,a){let u=.5*(((-a+2)*a-1)*a),d=.5*((3*a-5)*a*a+2),y=.5*(((-3*a+4)*a+1)*a),p=.5*((a-1)*a*a);return r.scale(u).add(t.scale(d)).add(i.scale(y)).add(s.scale(p))}f(yg,"evaluateCatmullRom");function vg(r,t,i,s,a){let u=.5*((-3*a+4)*a-1),d=.5*((9*a-10)*a),y=.5*((-9*a+8)*a+1),p=.5*((3*a-2)*a);return r.scale(u).add(t.scale(d)).add(i.scale(y)).add(s.scale(p))}f(vg,"evaluateCatmullRomFirstDerivative");function wg(r){let t=Qc(r),i=t(1);return s=>{let a=s*i,u=t(a,!0);return r(u)}}f(wg,"normalizedCurve");function Qc(r,t=10,i=10){let s=[0],a=[0],u=1/(t-1)/i,d=0,y=r(0),p=0;for(let g=1;g<t;g++){for(let E=0;E<i;E++){p+=u;let C=r(p),m=C.dist(y);d+=m,y=C}s[g]=d,a[g]=p}return a[t-1]=1,(g,E=!1)=>{if(E){let C=g;if(C<=0)return 0;if(C>=d)return 1;let m=0;for(;s[m+1]<C;)m++;let M=a[m],S=a[m+1],D=s[m],x=s[m+1],A=(C-D)/(x-D);return M+(S-M)*A}else{if(g<=0)return 0;if(g>=1)return s[t-1];let C=0;for(;a[C+1]<g;)C++;let m=a[C],M=a[C+1],S=s[C],D=s[C+1],x=(g-m)/(M-m);return S+(D-S)*x}}}f(Qc,"curveLengthApproximation");function Mo(r,t,i,s){let a=2*r+t-2*s+i,u=-3*r+3*s-2*t-i,d=t,y=r;return p=>{let g=p*p,E=g*p;return a*E+u*g+d*p+y}}f(Mo,"hermite");function Kc(r,t,i,s,a,u=Mo){let d=u(t.x,(1-a)*(i.x-r.x),(1-a)*(s.x-t.x),i.x),y=u(t.y,(1-a)*(i.y-r.y),(1-a)*(s.y-t.y),i.y);return p=>new G(d(p),y(p))}f(Kc,"cardinal");function vs(r,t,i,s,a=Mo){return Kc(r,t,i,s,.5,a)}f(vs,"catmullRom");function xg(r,t,i,s,a=Mo){return vs(s.add(r.sub(t).scale(6)),r,s,r.add(s.sub(i).scale(6)),a)}f(xg,"bezier");function Ag(r,t,i,s,a,u,d,y=Mo){let p=y(t.x,.5*(1-a)*(1+d)*(1+u)*(t.x-r.x)+.5*(1-a)*(1-d)*(1-u)*(i.x-t.x),.5*(1-a)*(1+d)*(1-u)*(i.x-t.x)+.5*(1-a)*(1-d)*(1+u)*(s.x-i.x),i.x),g=y(t.y,.5*(1-a)*(1+d)*(1+u)*(t.y-r.y)+.5*(1-a)*(1-d)*(1-u)*(i.y-t.y),.5*(1-a)*(1+d)*(1-u)*(i.y-t.y)+.5*(1-a)*(1-d)*(1+u)*(s.y-i.y),i.y);return E=>new G(p(E),g(E))}f(Ag,"kochanekBartels");function Eg(r,t,i,s){let a=2*r+t-2*s+i,u=-3*r+3*s-2*t+i,d=t;return y=>{let p=y*y;return 3*a*p+2*u*y+d}}f(Eg,"hermiteFirstDerivative");function Gi(r){return 0<=r&&r<=1}f(Gi,"inZeroOneDomain");function _l(r,t){return Math.abs(r-t)<=Number.EPSILON}f(_l,"approximately");function Wi(r){return r<0?-Math.pow(-r,1/3):Math.pow(r,1/3)}f(Wi,"cubeRoot");function Sg(r,t,i,s){let a=3*r-6*t+3*i,u=-3*r+3*t,d=r,y=-r+3*t-3*i+s;if(_l(y,0)){if(_l(a,0))return _l(u,0)?[]:[-d/u].filter(Gi);let x=Math.sqrt(u*u-4*a*d),A=2*a;return[(x-u)/A,(-u-x)/A].filter(Gi)}a/=y,u/=y,d/=y;let p=(3*u-a*a)/3,g=p/3,E=(2*a*a*a-9*a*u+27*d)/27,C=E/2,m=C*C+g*g*g;if(m<0){let x=-p/3,A=x*x*x,N=Math.sqrt(A),_=-E/(2*N),K=_<-1?-1:_>1?1:_,W=Math.acos(K),P=2*Wi(N),T=P*Math.cos(W/3)-a/3,U=P*Math.cos((W+2*Math.PI)/3)-a/3,V=P*Math.cos((W+4*Math.PI)/3)-a/3;return[T,U,V].filter(Gi)}if(m===0){let x=C<0?Wi(-C):-Wi(C),A=2*x-a/3,N=-x-a/3;return[A,N].filter(Gi)}let M=Math.sqrt(m),S=Wi(M-C),D=Wi(M+C);return[S-D-a/3].filter(Gi)}f(Sg,"getCubicRoots");function kg(r,t,i,s,a){let u=Sg(r.x-a,t.x-a,i.x-a,s.x-a);return u.length>0?ya(r,t,i,s,u[0]).y:NaN}f(kg,"cubicBezierYforX");function Cg(r){if(!r||r.length==0)throw new Error("Need at least one point for easingLinear.");let t=r.length;return i=>{if(i<=0||r.length==1||i<=r[0].x)return r[0].y;for(let s=0;s<t;s++)if(r[s].x>=i)return Rn(i,r[s-1].x,r[s].x,r[s-1].y,r[s].y);return r[r.length-1].y}}f(Cg,"easingLinear");function Mg(r,t){return i=>kg(z(0,0),r,t,z(1,1),i)}f(Mg,"easingCubicBezier");function Pg(r,t="jump-end"){let i=1/r,s=t=="jump-start"||t=="jump-both",a=t=="jump-end"||t=="jump-both",u=1/(r+(a?1:0)),d=s?u:0;return y=>{let p=Math.floor(y/i);return d+p*u}}f(Pg,"easingSteps");function Rg(r,t){let i=Number.MAX_VALUE,s={normal:z(0),distance:0};for(let a of[r,t])for(let u=0;u<a.pts.length;u++){let d=a.pts[u],y=a.pts[(u+1)%a.pts.length].sub(d).normal().unit(),p=Number.MAX_VALUE,g=-Number.MAX_VALUE;for(let M=0;M<r.pts.length;M++){let S=r.pts[M].dot(y);p=Math.min(p,S),g=Math.max(g,S)}let E=Number.MAX_VALUE,C=-Number.MAX_VALUE;for(let M=0;M<t.pts.length;M++){let S=t.pts[M].dot(y);E=Math.min(E,S),C=Math.max(C,S)}let m=Math.min(g,C)-Math.max(p,E);if(m<0)return null;if(m<Math.abs(i)){let M=C-p,S=E-g;i=Math.abs(M)<Math.abs(S)?M:S,s.normal=y,s.distance=i}}return s}f(Rg,"sat");function Yc(r,t,i){return(t.x-r.x)*(i.y-r.y)-(t.y-r.y)*(i.x-r.x)>=0}f(Yc,"isOrientedCcw");function Tg(r){let t=0,i=r[r.length-1];for(let s=0;s<r.length;s++)t+=(r[s].x-i.x)*(r[s].y+i.y),i=r[s];return t<0}f(Tg,"isOrientedCcwPolygon");function Vl(r,t,i,s){let a=s.x-i.x,u=s.y-i.y,d=a*(r.y-i.y)-u*(r.x-i.x),y=a*(t.y-i.y)-u*(t.x-i.x);return d*y>=0}f(Vl,"onSameSide");function Dg(r,t,i,s){return Vl(r,t,i,s)&&Vl(r,i,t,s)&&Vl(r,s,t,i)}f(Dg,"pointInTriangle");function Ig(r,t,i,s){for(let a of r)if(a!==t&&a!==i&&a!==s&&Dg(a,t,i,s))return!0;return!1}f(Ig,"someInTriangle");function Fg(r,t,i,s){return Yc(r,t,i)&&!Ig(s,r,t,i)}f(Fg,"isEar");function Xc(r){if(r.length<3)return[];if(r.length==3)return[r];let t=[],i=[],s=0;for(let C=0;C<r.length;C++){let m=r[s],M=r[C];(M.x<m.x||M.x==m.x&&M.y<m.y)&&(s=s),t[C]=C+1,i[C]=C-1}t[t.length-1]=0,i[0]=i.length-1,Tg(r)||([t,i]=[i,t]);let a=[];for(let C=0;C<r.length;++C)Yc(r[i[C]],r[C],r[t[C]])||a.push(r[C]);let u=[],d=r.length,y=1,p=0,g,E;for(;d>3;){g=t[y],E=i[y];let C=r[E],m=r[y],M=r[g];if(Fg(C,m,M,a))u.push([C,m,M]),t[E]=g,i[g]=E,a.splice(a.indexOf(m),1),--d,p=0;else if(++p>d)return[];y=g}return g=t[y],E=i[y],u.push([r[E],r[y],r[g]]),u}f(Xc,"triangulate");function Bg(r){if(r.length<3)return!1;let t=r.length-2,i=r.length-1,s=0,a=r[i].sub(r[t]),u=r[s].sub(r[i]),d=a.cross(u);for(;s+1<r.length;)if(t=i,i=s,s++,a=r[i].sub(r[t]),u=r[s].sub(r[i]),a.cross(u)*d<0)return!1;return!0}f(Bg,"isConvex");var _v=f(r=>r[0]instanceof Te,"arrayIsColor"),Vv=f(r=>r[0]instanceof G,"arrayIsVec2"),Hv=f(r=>typeof r[0]=="number","arrayIsNumber"),$i,Ng=($i=class{constructor(t=(i,s)=>i<s){q(this,"_items");q(this,"_compareFn");this._compareFn=t,this._items=[]}insert(t){this._items.push(t),this.moveUp(this._items.length-1)}remove(){if(this._items.length===0)return null;let t=this._items[0],i=this._items.pop();return this._items.length!==0&&(this._items[0]=i,this.moveDown(0)),t}clear(){this._items.splice(0,this._items.length)}moveUp(t){for(;t>0;){let i=Math.floor((t-1)/2);if(!this._compareFn(this._items[t],this._items[i])&&this._items[t]>=this._items[i])break;this.swap(t,i),t=i}}moveDown(t){for(;t<Math.floor(this._items.length/2);){let i=2*t+1;if(i<this._items.length-1&&!this._compareFn(this._items[i],this._items[i+1])&&++i,this._compareFn(this._items[t],this._items[i]))break;this.swap(t,i),t=i}}swap(t,i){[this._items[t],this._items[i]]=[this._items[i],this._items[t]]}get length(){return this._items.length}},f($i,"BinaryHeap"),$i);function Lg(r){let t=window.atob(r),i=t.length,s=new Uint8Array(i);for(let a=0;a<i;a++)s[a]=t.charCodeAt(a);return s.buffer}f(Lg,"base64ToArrayBuffer");function qg(r){return Lg(r.split(",")[1])}f(qg,"dataURLToArrayBuffer");function va(r,t){let i=document.createElement("a");i.href=t,i.download=r,i.click()}f(va,"download");function Zc(r,t){va(r,"data:text/plain;charset=utf-8,"+t)}f(Zc,"downloadText");function Og(r,t){Zc(r,JSON.stringify(t))}f(Og,"downloadJSON");function Ac(r,t){let i=URL.createObjectURL(t);va(r,i),URL.revokeObjectURL(i)}f(Ac,"downloadBlob");var bg=f(r=>r.match(/^data:\w+\/\w+;base64,.+/),"isDataURL"),Gv=f(r=>r.split(".").slice(0,-1).join("."),"getFileName");function wa(r,t){if(r===t)return!0;let i=typeof r,s=typeof t;if(i!==s)return!1;if(i==="object"&&s==="object"&&r!==null&&t!==null){if(Array.isArray(r)!==Array.isArray(t))return!1;let a=Object.keys(r),u=Object.keys(t);if(a.length!==u.length)return!1;for(let d of a){let y=r[d],p=t[d];if(!wa(y,p))return!1}return!0}return!1}f(wa,"deepEq");var jg=" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",xa="topleft",Wv="monospace",$l="monospace",Ec="linear",Jc=[{name:"a_pos",size:2},{name:"a_uv",size:2},{name:"a_color",size:4}],Qv=Jc.reduce((r,t)=>r+t.size,0),Ug=2048,Kv=Ug*4*Qv,Yv=Ug*6,Xv=`
attribute vec2 a_pos;
attribute vec2 a_uv;
attribute vec4 a_color;

varying vec2 v_pos;
varying vec2 v_uv;
varying vec4 v_color;

vec4 def_vert() {
	return vec4(a_pos, 0.0, 1.0);
}

{{user}}

void main() {
	vec4 pos = vert(a_pos, a_uv, a_color);
	v_pos = a_pos;
	v_uv = a_uv;
	v_color = a_color;
	gl_Position = pos;
}
`,Zv=`
precision mediump float;

varying vec2 v_pos;
varying vec2 v_uv;
varying vec4 v_color;

uniform sampler2D u_tex;

vec4 def_frag() {
	return v_color * texture2D(u_tex, v_uv);
}

{{user}}

void main() {
	gl_FragColor = frag(v_pos, v_uv, v_color, u_tex);
	if (gl_FragColor.a == 0.0) {
		discard;
	}
}
`,Sc=`
vec4 vert(vec2 pos, vec2 uv, vec4 color) {
	return def_vert();
}
`,kc=`
vec4 frag(vec2 pos, vec2 uv, vec4 color, sampler2D tex) {
	return def_frag();
}
`,Jv=new Set(["id","require"]),$v=new Set(["add","fixedUpdate","update","draw","destroy","inspect","drawInspect"]),ew=200,tw=640,nw=65536,zg=Symbol.for("kaplay.cancel"),eo,_g=(eo=class extends Map{constructor(){super(...arguments);q(this,"lastID",0)}push(i){let s=this.lastID;return this.set(s,i),this.lastID++,s}pushd(i){let s=this.push(i);return()=>this.delete(s)}},f(eo,"Registry"),eo),ui,fi=(ui=class{constructor(t){q(this,"paused",!1);q(this,"cancel");this.cancel=t}static join(t){let i=new ui(()=>t.forEach(s=>s.cancel()));return Object.defineProperty(i,"paused",{get:f(()=>t[0].paused,"get"),set:f(s=>t.forEach(a=>a.paused=s),"set")}),i.paused=!1,i}static replace(t,i){return t.cancel=()=>i.cancel(),i.paused=t.paused,Object.defineProperty(t,"paused",{get:f(()=>i.paused,"get"),set:f(s=>i.paused=s,"set")}),t}},f(ui,"KEventController"),ui),to,Ht=(to=class{constructor(){q(this,"cancellers",new WeakMap);q(this,"handlers",new _g)}add(t){function i(...u){if(!a.paused)return t(...u)}f(i,"handler");let s=this.handlers.pushd(i),a=new fi(s);return this.cancellers.set(i,s),a}addOnce(t){let i=this.add((...s)=>{i.cancel(),t(...s)});return i}next(){return new Promise(t=>this.addOnce(t))}trigger(...t){this.handlers.forEach(i=>{let s=i(...t),a;s===zg&&(a=this.cancellers.get(i))&&a()})}numListeners(){return this.handlers.size}clear(){this.handlers.clear()}},f(to,"KEvent"),to),no,ws=(no=class{constructor(){q(this,"handlers",{});q(this,"registers",{})}on(t,i){return this.handlers[t]||(this.handlers[t]=new Ht),this.handlers[t].add(i)}onOnce(t,i){let s=this.on(t,(...a)=>{s.cancel(),i(...a)});return s}next(t){return new Promise(i=>{this.onOnce(t,(...s)=>i(s[0]))})}trigger(t,...i){this.handlers[t]&&this.handlers[t].trigger(...i)}remove(t){delete this.handlers[t]}clear(){this.handlers={}}numListeners(t){var i;return((i=this.handlers[t])==null?void 0:i.numListeners())??0}},f(no,"KEventHandler"),no),Dp=new Set,rw=f(r=>r instanceof Error?r.message:String(r),"getErrorMessage");function Vg(r){Dp.has(r)||(Dp.add(r),console.warn(r))}f(Vg,"warn");function pi(r,t){Vg(`${r} is deprecated. Use ${t} instead.`)}f(pi,"deprecateMsg");function ea(r,t){return Number(r.toFixed(t))}f(ea,"toFixed");function Qe(r,t){return(...i)=>{let s=i.length;if(s===r.length)return r(...i);if(s===t.length)return t(...i)}}f(Qe,"overload2");var iw=Object.freeze([776,2359,2367,2984,3007,3021,3633,3635,3648,3657,4352,4449,4520]);function Hg(r){if(typeof r!="string")throw new TypeError("string cannot be undefined or null");let t=[],i=0,s=0;for(;i<r.length;){if(s+=Gg(i+s,r),Jg(r[i+s])&&s++,Yg(r[i+s])&&s++,Xg(r[i+s])&&s++,$g(r[i+s])){s++;continue}t.push(r.substring(i,i+s)),i+=s,s=0}return t}f(Hg,"runes");function Gg(r,t){let i=t[r];if(!Wg(i)||r===t.length-1)return 1;let s=i+t[r+1],a=t.substring(r+2,r+5);return Cc(s)&&Cc(a)?4:Qg(s)&&Zg(a)?t.slice(r).indexOf(String.fromCodePoint(917631))+2:Kg(a)?4:2}f(Gg,"nextUnits");function Wg(r){return r&&zr(r[0].charCodeAt(0),55296,56319)}f(Wg,"isFirstOfSurrogatePair");function Cc(r){return zr(Aa(r),127462,127487)}f(Cc,"isRegionalIndicator");function Qg(r){return zr(Aa(r),127988,127988)}f(Qg,"isSubdivisionFlag");function Kg(r){return zr(Aa(r),127995,127999)}f(Kg,"isFitzpatrickModifier");function Yg(r){return typeof r=="string"&&zr(r.charCodeAt(0),65024,65039)}f(Yg,"isVariationSelector");function Xg(r){return typeof r=="string"&&zr(r.charCodeAt(0),8400,8447)}f(Xg,"isDiacriticalMark");function Zg(r){let t=r.codePointAt(0);return typeof r=="string"&&typeof t=="number"&&zr(t,917504,917631)}f(Zg,"isSupplementarySpecialpurposePlane");function Jg(r){return typeof r=="string"&&iw.includes(r.charCodeAt(0))}f(Jg,"isGrapheme");function $g(r){return typeof r=="string"&&r.charCodeAt(0)===8205}f($g,"isZeroWidthJoiner");function Aa(r){let t=r.charCodeAt(0)-55296,i=r.charCodeAt(1)-56320;return(t<<10)+i+65536}f(Aa,"codePointFromSurrogatePair");function zr(r,t,i){return r>=t&&r<=i}f(zr,"betweenInclusive");var fn=f((r,t)=>Array.isArray(r)?r==null?void 0:r.includes(t):r===t,"isEqOrIncludes"),qn=f((r,t)=>Array.isArray(t)?t.some(i=>r.has(i)):r.has(t),"setHasOrIncludes"),Ul=f((r,t,i)=>{var s;r.has(t)?(s=r.get(t))==null||s.push(i):r.set(t,[i])},"mapAddOrPush"),ow=(()=>{let r=0;return()=>r++})(),sw={"Joy-Con L+R (STANDARD GAMEPAD Vendor: 057e Product: 200e)":{buttons:{0:"south",1:"east",2:"west",3:"north",4:"lshoulder",5:"rshoulder",6:"ltrigger",7:"rtrigger",8:"select",9:"start",10:"lstick",11:"rstick",12:"dpad-up",13:"dpad-down",14:"dpad-left",15:"dpad-right",16:"home",17:"capture"},sticks:{left:{x:0,y:1},right:{x:2,y:3}}},"Joy-Con (L) (STANDARD GAMEPAD Vendor: 057e Product: 2006)":{buttons:{0:"south",1:"east",2:"west",3:"north",4:"lshoulder",5:"rshoulder",9:"select",10:"lstick",16:"start"},sticks:{left:{x:0,y:1}}},"Joy-Con (R) (STANDARD GAMEPAD Vendor: 057e Product: 2007)":{buttons:{0:"south",1:"east",2:"west",3:"north",4:"lshoulder",5:"rshoulder",9:"start",10:"lstick",16:"select"},sticks:{left:{x:0,y:1}}},"Pro Controller (STANDARD GAMEPAD Vendor: 057e Product: 2009)":{buttons:{0:"south",1:"east",2:"west",3:"north",4:"lshoulder",5:"rshoulder",6:"ltrigger",7:"rtrigger",8:"select",9:"start",10:"lstick",11:"rstick",12:"dpad-up",13:"dpad-down",14:"dpad-left",15:"dpad-right",16:"home",17:"capture"},sticks:{left:{x:0,y:1},right:{x:2,y:3}}},default:{buttons:{0:"south",1:"east",2:"west",3:"north",4:"lshoulder",5:"rshoulder",6:"ltrigger",7:"rtrigger",8:"select",9:"start",10:"lstick",11:"rstick",12:"dpad-up",13:"dpad-down",14:"dpad-left",15:"dpad-right",16:"home"},sticks:{left:{x:0,y:1},right:{x:2,y:3}}}},lw=f(()=>li.lastInputDevice,"getLastInputDeviceType"),aw=f(()=>{let r=li.buttons;for(let t in r){let i=r[t].keyboard&&[r[t].keyboard].flat(),s=r[t].keyboardCode&&[r[t].keyboardCode].flat(),a=r[t].gamepad&&[r[t].gamepad].flat(),u=r[t].mouse&&[r[t].mouse].flat();i&&i.forEach(d=>{Ul(li.buttonsByKey,d,t)}),s&&s.forEach(d=>{Ul(li.buttonsByKeyCode,d,t)}),a&&a.forEach(d=>{Ul(li.buttonsByGamepad,d,t)}),u&&u.forEach(d=>{Ul(li.buttonsByMouse,d,t)})}},"parseButtonBindings"),ro,ps=(ro=class{constructor(){q(this,"pressed",new Set([]));q(this,"pressedRepeat",new Set([]));q(this,"released",new Set([]));q(this,"down",new Set([]))}update(){this.pressed.clear(),this.released.clear(),this.pressedRepeat.clear()}press(t){this.pressed.add(t),this.pressedRepeat.add(t),this.down.add(t)}pressRepeat(t){this.pressedRepeat.add(t)}release(t){this.down.delete(t),this.pressed.delete(t),this.released.add(t)}},f(ro,"ButtonState"),ro),io,uw=(io=class{constructor(){q(this,"buttonState",new ps);q(this,"stickState",new Map)}},f(io,"GamepadState"),io),oo,cw=(oo=class{constructor(){q(this,"dts",[]);q(this,"timer",0);q(this,"fps",0)}tick(t){this.dts.push(t),this.timer+=t,this.timer>=1&&(this.timer=0,this.fps=Math.round(1/(this.dts.reduce((i,s)=>i+s)/this.dts.length)),this.dts=[])}},f(oo,"FPSCounter"),oo),li,Ip=sw,dw=f(r=>{let t=r.buttons??{};return{canvas:r.canvas,buttons:t,buttonsByKey:new Map,buttonsByMouse:new Map,buttonsByGamepad:new Map,buttonsByKeyCode:new Map,loopID:null,stopped:!1,dt:0,fixedDt:1/50,restDt:0,time:0,realTime:0,fpsCounter:new cw,timeScale:1,skipTime:!1,isHidden:!1,numFrames:0,mousePos:new G(0),mouseDeltaPos:new G(0),keyState:new ps,mouseState:new ps,mergedGamepadState:new uw,gamepadStates:new Map,lastInputDevice:null,buttonState:new ps,gamepads:[],charInputted:[],isMouseMoved:!1,lastWidth:r.canvas.offsetWidth,lastHeight:r.canvas.offsetHeight,events:new ws}},"initAppState"),hw=f(r=>{if(!r.canvas)throw new Error("Please provide a canvas");let t=dw(r);li=t,aw();function i(){return t.dt*t.timeScale}f(i,"dt");function s(){return t.fixedDt*t.timeScale}f(s,"fixedDt");function a(){return t.restDt*t.timeScale}f(a,"restDt");function u(){return t.isHidden}f(u,"isHidden");function d(){return t.time}f(d,"time");function y(){return t.fpsCounter.fps}f(y,"fps");function p(){return t.numFrames}f(p,"numFrames");function g(){return t.canvas.toDataURL()}f(g,"screenshot");function E(R){t.canvas.style.cursor=R}f(E,"setCursor");function C(){return t.canvas.style.cursor}f(C,"getCursor");function m(R){if(R)try{let H=t.canvas.requestPointerLock();H.catch&&H.catch(Q=>console.error(Q))}catch(H){console.error(H)}else document.exitPointerLock()}f(m,"setCursorLocked");function M(){return!!document.pointerLockElement}f(M,"isCursorLocked");function S(R){R.requestFullscreen?R.requestFullscreen():R.webkitRequestFullscreen&&R.webkitRequestFullscreen()}f(S,"enterFullscreen");function D(){document.exitFullscreen?document.exitFullscreen():document.webkitExitFullScreen&&document.webkitExitFullScreen()}f(D,"exitFullscreen");function x(R=!0){R?S(t.canvas):D()}f(x,"setFullscreen");function A(){return document.fullscreenElement===t.canvas||document.webkitFullscreenElement===t.canvas}f(A,"isFullscreen");function N(){t.stopped=!0;let R=Object.entries(wt),H=Object.entries(Wr),Q=Object.entries(lr);for(let[ie,xe]of R)t.canvas.removeEventListener(ie,xe);for(let[ie,xe]of H)document.removeEventListener(ie,xe);for(let[ie,xe]of Q)window.removeEventListener(ie,xe);Do.disconnect()}f(N,"quit");function _(R,H){t.loopID!==null&&cancelAnimationFrame(t.loopID);let Q=0,ie=0,xe=f(ze=>{if(t.stopped)return;if(document.visibilityState!=="visible"){t.loopID=requestAnimationFrame(xe);return}let Je=ze/1e3,$e=Math.min(Je-t.realTime,.25),It=r.maxFPS?1/r.maxFPS:0;if(t.realTime=Je,ie+=$e,ie>It){if(!t.skipTime){for(Q+=ie,t.dt=t.fixedDt,t.restDt=0;Q>t.fixedDt;)Q-=t.fixedDt,Q<t.fixedDt&&(t.restDt=Q),R();t.restDt=Q,t.dt=ie,t.time+=i(),t.fpsCounter.tick(t.dt)}ie=0,t.skipTime=!1,t.numFrames++,H(sr,Po)}t.loopID=requestAnimationFrame(xe)},"frame");xe(0)}f(_,"run");function K(){return"ontouchstart"in window||navigator.maxTouchPoints>0}f(K,"isTouchscreen");function W(){return t.mousePos.clone()}f(W,"mousePos");function P(){return t.mouseDeltaPos.clone()}f(P,"mouseDeltaPos");function T(R="left"){return t.mouseState.pressed.has(R)}f(T,"isMousePressed");function U(R="left"){return t.mouseState.down.has(R)}f(U,"isMouseDown");function V(R="left"){return t.mouseState.released.has(R)}f(V,"isMouseReleased");function Y(){return t.isMouseMoved}f(Y,"isMouseMoved");function te(R){return R===void 0?t.keyState.pressed.size>0:qn(t.keyState.pressed,R)}f(te,"isKeyPressed");function oe(R){return R===void 0?t.keyState.pressedRepeat.size>0:qn(t.keyState.pressedRepeat,R)}f(oe,"isKeyPressedRepeat");function ge(R){return R===void 0?t.keyState.down.size>0:qn(t.keyState.down,R)}f(ge,"isKeyDown");function ve(R){return R===void 0?t.keyState.released.size>0:qn(t.keyState.released,R)}f(ve,"isKeyReleased");function Se(R){return R===void 0?t.mergedGamepadState.buttonState.pressed.size>0:qn(t.mergedGamepadState.buttonState.pressed,R)}f(Se,"isGamepadButtonPressed");function fe(R){return R===void 0?t.mergedGamepadState.buttonState.down.size>0:qn(t.mergedGamepadState.buttonState.down,R)}f(fe,"isGamepadButtonDown");function ue(R){return R===void 0?t.mergedGamepadState.buttonState.released.size>0:qn(t.mergedGamepadState.buttonState.released,R)}f(ue,"isGamepadButtonReleased");function Z(R){return R===void 0?t.buttonState.pressed.size>0:qn(t.buttonState.pressed,R)}f(Z,"isButtonPressed");function re(R){return R===void 0?t.buttonState.down.size>0:qn(t.buttonState.down,R)}f(re,"isButtonDown");function $(R){return R===void 0?t.buttonState.released.size>0:qn(t.buttonState.released,R)}f($,"isButtonReleased");function B(R){var H;return(H=t.buttons)==null?void 0:H[R]}f(B,"getButton");function b(R,H){t.buttons[R]={...t.buttons[R],...H}}f(b,"setButton");function we(R){t.buttonState.press(R),t.events.trigger("buttonPress",R)}f(we,"pressButton");function Ee(R){t.buttonState.release(R),t.events.trigger("buttonRelease",R)}f(Ee,"releaseButton");function Me(R){return t.events.on("resize",R)}f(Me,"onResize");let Pe=Qe(R=>t.events.on("keyDown",R),(R,H)=>t.events.on("keyDown",Q=>fn(R,Q)&&H(Q))),Be=Qe(R=>t.events.on("keyPress",H=>R(H)),(R,H)=>t.events.on("keyPress",Q=>fn(R,Q)&&H(Q))),De=Qe(R=>t.events.on("keyPressRepeat",R),(R,H)=>t.events.on("keyPressRepeat",Q=>fn(R,Q)&&H(Q))),Oe=Qe(R=>t.events.on("keyRelease",R),(R,H)=>t.events.on("keyRelease",Q=>fn(R,Q)&&H(Q))),st=Qe(R=>t.events.on("mouseDown",H=>R(H)),(R,H)=>t.events.on("mouseDown",Q=>fn(R,Q)&&H(Q))),Rt=Qe(R=>t.events.on("mousePress",H=>R(H)),(R,H)=>t.events.on("mousePress",Q=>fn(R,Q)&&H(Q))),_r=Qe(R=>t.events.on("mouseRelease",H=>R(H)),(R,H)=>t.events.on("mouseRelease",Q=>Q===R&&H(Q)));function sn(R){return t.events.on("mouseMove",()=>R(W(),P()))}f(sn,"onMouseMove");function pe(R){return t.events.on("charInput",R)}f(pe,"onCharInput");function ke(R){return t.events.on("touchStart",R)}f(ke,"onTouchStart");function Ce(R){return t.events.on("touchMove",R)}f(Ce,"onTouchMove");function be(R){return t.events.on("touchEnd",R)}f(be,"onTouchEnd");function Ze(R){return t.events.on("scroll",R)}f(Ze,"onScroll");function Ie(R){return t.events.on("hide",R)}f(Ie,"onHide");function rt(R){return t.events.on("show",R)}f(rt,"onShow");let Tt=Qe(R=>t.events.on("gamepadButtonPress",(H,Q)=>R(H,Q)),(R,H)=>t.events.on("gamepadButtonPress",(Q,ie)=>fn(R,Q)&&H(Q,ie))),Vr=Qe(R=>t.events.on("gamepadButtonDown",(H,Q)=>R(H,Q)),(R,H)=>t.events.on("gamepadButtonDown",(Q,ie)=>fn(R,Q)&&H(Q,ie))),yi=Qe(R=>t.events.on("gamepadButtonRelease",(H,Q)=>R(H,Q)),(R,H)=>t.events.on("gamepadButtonRelease",(Q,ie)=>fn(R,Q)&&H(Q,ie)));function Hr(R,H){return t.events.on("gamepadStick",(Q,ie,xe)=>Q===R&&H(ie,xe))}f(Hr,"onGamepadStick");function Gr(R){t.events.on("gamepadConnect",R)}f(Gr,"onGamepadConnect");function or(R){t.events.on("gamepadDisconnect",R)}f(or,"onGamepadDisconnect");function Dt(R){return t.mergedGamepadState.stickState.get(R)||new G(0)}f(Dt,"getGamepadStick");function Lt(){return[...t.charInputted]}f(Lt,"charInputted");function zn(){return[...t.gamepads]}f(zn,"getGamepads");let ft=Qe(R=>t.events.on("buttonPress",H=>R(H)),(R,H)=>t.events.on("buttonPress",Q=>fn(R,Q)&&H(Q))),mn=Qe(R=>t.events.on("buttonDown",H=>R(H)),(R,H)=>t.events.on("buttonDown",Q=>fn(R,Q)&&H(Q))),yn=Qe(R=>t.events.on("buttonRelease",H=>R(H)),(R,H)=>t.events.on("buttonRelease",Q=>fn(R,Q)&&H(Q)));function sr(){t.events.trigger("input"),t.keyState.down.forEach(R=>t.events.trigger("keyDown",R)),t.mouseState.down.forEach(R=>t.events.trigger("mouseDown",R)),t.buttonState.down.forEach(R=>{t.events.trigger("buttonDown",R)}),wi()}f(sr,"processInput");function Po(){t.keyState.update(),t.mouseState.update(),t.buttonState.update(),t.mergedGamepadState.buttonState.update(),t.mergedGamepadState.stickState.forEach((R,H)=>{t.mergedGamepadState.stickState.set(H,new G(0))}),t.charInputted=[],t.isMouseMoved=!1,t.mouseDeltaPos=new G(0),t.gamepadStates.forEach(R=>{R.buttonState.update(),R.stickState.forEach((H,Q)=>{R.stickState.set(Q,new G(0))})})}f(Po,"resetInput");function Ro(R){let H={index:R.index,isPressed:f(Q=>{var ie;return((ie=t.gamepadStates.get(R.index))==null?void 0:ie.buttonState.pressed.has(Q))||!1},"isPressed"),isDown:f(Q=>{var ie;return((ie=t.gamepadStates.get(R.index))==null?void 0:ie.buttonState.down.has(Q))||!1},"isDown"),isReleased:f(Q=>{var ie;return((ie=t.gamepadStates.get(R.index))==null?void 0:ie.buttonState.released.has(Q))||!1},"isReleased"),getStick:f(Q=>{var ie;return((ie=t.gamepadStates.get(R.index))==null?void 0:ie.stickState.get(Q))||z()},"getStick")};return t.gamepads.push(H),t.gamepadStates.set(R.index,{buttonState:new ps,stickState:new Map([["left",new G(0)],["right",new G(0)]])}),H}f(Ro,"registerGamepad");function vi(R){t.gamepads=t.gamepads.filter(H=>H.index!==R.index),t.gamepadStates.delete(R.index)}f(vi,"removeGamepad");function wi(){var R,H;for(let Q of navigator.getGamepads())Q&&!t.gamepadStates.has(Q.index)&&Ro(Q);for(let Q of t.gamepads){let ie=navigator.getGamepads()[Q.index];if(!ie)continue;let xe=(r.gamepads??{})[ie.id]||Ip[ie.id]||Ip.default,ze=t.gamepadStates.get(Q.index);if(ze){for(let Je=0;Je<ie.buttons.length;Je++){let $e=xe.buttons[Je],It=ie.buttons[Je],Ft=t.buttonsByGamepad.has($e);if(It.pressed){if(ze.buttonState.down.has($e)){t.events.trigger("gamepadButtonDown",$e,Q);continue}t.lastInputDevice="gamepad",Ft&&((R=t.buttonsByGamepad.get($e))==null||R.forEach(qt=>{t.buttonState.press(qt),t.events.trigger("buttonPress",qt)})),t.mergedGamepadState.buttonState.press($e),ze.buttonState.press($e),t.events.trigger("gamepadButtonPress",$e,Q)}else ze.buttonState.down.has($e)&&(Ft&&((H=t.buttonsByGamepad.get($e))==null||H.forEach(qt=>{t.buttonState.release(qt),t.events.trigger("buttonRelease",qt)})),t.mergedGamepadState.buttonState.release($e),ze.buttonState.release($e),t.events.trigger("gamepadButtonRelease",$e,Q))}for(let Je in xe.sticks){let $e=xe.sticks[Je];if(!$e)continue;let It=new G(ie.axes[$e.x],ie.axes[$e.y]);ze.stickState.set(Je,It),t.mergedGamepadState.stickState.set(Je,It),t.events.trigger("gamepadStick",Je,It,Q)}}}}f(wi,"processGamepad");let wt={},Wr={},lr={},_n=r.pixelDensity||1;wt.mousemove=R=>{let H=new G(R.offsetX,R.offsetY),Q=new G(R.movementX,R.movementY);if(A()){let ie=t.canvas.width/_n,xe=t.canvas.height/_n,ze=window.innerWidth,Je=window.innerHeight,$e=ze/Je,It=ie/xe;if($e>It){let Ft=Je/xe,qt=(ze-ie*Ft)/2;H.x=Rn(R.offsetX-qt,0,ie*Ft,0,ie),H.y=Rn(R.offsetY,0,xe*Ft,0,xe)}else{let Ft=ze/ie,qt=(Je-xe*Ft)/2;H.x=Rn(R.offsetX,0,ie*Ft,0,ie),H.y=Rn(R.offsetY-qt,0,xe*Ft,0,xe)}}t.events.onOnce("input",()=>{t.isMouseMoved=!0,t.mousePos=H,t.mouseDeltaPos=Q,t.events.trigger("mouseMove")})};let Vn=["left","middle","right","back","forward"];wt.mousedown=R=>{t.events.onOnce("input",()=>{var Q;let H=Vn[R.button];H&&(t.lastInputDevice="mouse",t.buttonsByMouse.has(H)&&((Q=t.buttonsByMouse.get(H))==null||Q.forEach(ie=>{t.buttonState.press(ie),t.events.trigger("buttonPress",ie)})),t.mouseState.press(H),t.events.trigger("mousePress",H))})},wt.mouseup=R=>{t.events.onOnce("input",()=>{var Q;let H=Vn[R.button];H&&(t.buttonsByMouse.has(H)&&((Q=t.buttonsByMouse.get(H))==null||Q.forEach(ie=>{t.buttonState.release(ie),t.events.trigger("buttonRelease",ie)})),t.mouseState.release(H),t.events.trigger("mouseRelease",H))})};let Fs=new Set([" ","ArrowLeft","ArrowRight","ArrowUp","ArrowDown","Tab"]),To={ArrowLeft:"left",ArrowRight:"right",ArrowUp:"up",ArrowDown:"down"," ":"space"};wt.keydown=R=>{Fs.has(R.key)&&R.preventDefault(),t.events.onOnce("input",()=>{var ie,xe;let H=To[R.key]||R.key.toLowerCase(),Q=R.code;if(H===void 0)throw new Error(`Unknown key: ${R.key}`);H.length===1?(t.events.trigger("charInput",H),t.charInputted.push(H)):H==="space"&&(t.events.trigger("charInput"," "),t.charInputted.push(" ")),R.repeat?(t.keyState.pressRepeat(H),t.events.trigger("keyPressRepeat",H)):(t.lastInputDevice="keyboard",t.buttonsByKey.has(H)&&((ie=t.buttonsByKey.get(H))==null||ie.forEach(ze=>{t.buttonState.press(ze),t.events.trigger("buttonPress",ze)})),t.buttonsByKeyCode.has(Q)&&((xe=t.buttonsByKeyCode.get(Q))==null||xe.forEach(ze=>{t.buttonState.press(ze),t.events.trigger("buttonPress",ze)})),t.keyState.press(H),t.events.trigger("keyPressRepeat",H),t.events.trigger("keyPress",H))})},wt.keyup=R=>{t.events.onOnce("input",()=>{var ie,xe;let H=To[R.key]||R.key.toLowerCase(),Q=R.code;t.buttonsByKey.has(H)&&((ie=t.buttonsByKey.get(H))==null||ie.forEach(ze=>{t.buttonState.release(ze),t.events.trigger("buttonRelease",ze)})),t.buttonsByKeyCode.has(Q)&&((xe=t.buttonsByKeyCode.get(Q))==null||xe.forEach(ze=>{t.buttonState.release(ze),t.events.trigger("buttonRelease",ze)})),t.keyState.release(H),t.events.trigger("keyRelease",H)})},wt.touchstart=R=>{R.preventDefault(),t.events.onOnce("input",()=>{var ie;let H=[...R.changedTouches],Q=t.canvas.getBoundingClientRect();r.touchToMouse!==!1&&(t.mousePos=new G(H[0].clientX-Q.x,H[0].clientY-Q.y),t.lastInputDevice="mouse",t.buttonsByMouse.has("left")&&((ie=t.buttonsByMouse.get("left"))==null||ie.forEach(xe=>{t.buttonState.press(xe),t.events.trigger("buttonPress",xe)})),t.mouseState.press("left"),t.events.trigger("mousePress","left")),H.forEach(xe=>{t.events.trigger("touchStart",new G(xe.clientX-Q.x,xe.clientY-Q.y),xe)})})},wt.touchmove=R=>{R.preventDefault(),t.events.onOnce("input",()=>{let H=[...R.changedTouches],Q=t.canvas.getBoundingClientRect();if(r.touchToMouse!==!1){let ie=t.mousePos;t.mousePos=new G(H[0].clientX-Q.x,H[0].clientY-Q.y),t.mouseDeltaPos=t.mousePos.sub(ie),t.events.trigger("mouseMove")}H.forEach(ie=>{t.events.trigger("touchMove",new G(ie.clientX-Q.x,ie.clientY-Q.y),ie)})})},wt.touchend=R=>{t.events.onOnce("input",()=>{var ie;let H=[...R.changedTouches],Q=t.canvas.getBoundingClientRect();r.touchToMouse!==!1&&(t.mousePos=new G(H[0].clientX-Q.x,H[0].clientY-Q.y),t.mouseDeltaPos=new G(0,0),t.buttonsByMouse.has("left")&&((ie=t.buttonsByMouse.get("left"))==null||ie.forEach(xe=>{t.buttonState.release(xe),t.events.trigger("buttonRelease",xe)})),t.mouseState.release("left"),t.events.trigger("mouseRelease","left")),H.forEach(xe=>{t.events.trigger("touchEnd",new G(xe.clientX-Q.x,xe.clientY-Q.y),xe)})})},wt.touchcancel=R=>{t.events.onOnce("input",()=>{let H=[...R.changedTouches],Q=t.canvas.getBoundingClientRect();r.touchToMouse!==!1&&(t.mousePos=new G(H[0].clientX-Q.x,H[0].clientY-Q.y),t.mouseState.release("left"),t.events.trigger("mouseRelease","left")),H.forEach(ie=>{t.events.trigger("touchEnd",new G(ie.clientX-Q.x,ie.clientY-Q.y),ie)})})},wt.wheel=R=>{R.preventDefault(),t.events.onOnce("input",()=>{t.events.trigger("scroll",new G(R.deltaX,R.deltaY))})},wt.contextmenu=R=>R.preventDefault(),Wr.visibilitychange=()=>{document.visibilityState==="visible"?(t.skipTime=!0,t.isHidden=!1,t.events.trigger("show")):(t.isHidden=!0,t.events.trigger("hide"))},lr.gamepadconnected=R=>{let H=Ro(R.gamepad);t.events.onOnce("input",()=>{t.events.trigger("gamepadConnect",H)})},lr.gamepaddisconnected=R=>{let H=zn().filter(Q=>Q.index===R.gamepad.index)[0];vi(R.gamepad),t.events.onOnce("input",()=>{t.events.trigger("gamepadDisconnect",H)})};for(let[R,H]of Object.entries(wt))t.canvas.addEventListener(R,H);for(let[R,H]of Object.entries(Wr))document.addEventListener(R,H);for(let[R,H]of Object.entries(lr))window.addEventListener(R,H);let Do=new ResizeObserver(R=>{for(let H of R)if(H.target===t.canvas){if(t.lastWidth===t.canvas.offsetWidth&&t.lastHeight===t.canvas.offsetHeight)return;t.lastWidth=t.canvas.offsetWidth,t.lastHeight=t.canvas.offsetHeight,t.events.onOnce("input",()=>{t.events.trigger("resize")})}});return Do.observe(t.canvas),{state:t,dt:i,fixedDt:s,restDt:a,time:d,run:_,canvas:t.canvas,fps:y,numFrames:p,quit:N,isHidden:u,setFullscreen:x,isFullscreen:A,setCursor:E,screenshot:g,getGamepads:zn,getCursor:C,setCursorLocked:m,isCursorLocked:M,isTouchscreen:K,mousePos:W,mouseDeltaPos:P,isKeyDown:ge,isKeyPressed:te,isKeyPressedRepeat:oe,isKeyReleased:ve,isMouseDown:U,isMousePressed:T,isMouseReleased:V,isMouseMoved:Y,isGamepadButtonPressed:Se,isGamepadButtonDown:fe,isGamepadButtonReleased:ue,getGamepadStick:Dt,isButtonPressed:Z,isButtonDown:re,isButtonReleased:$,setButton:b,getButton:B,pressButton:we,releaseButton:Ee,charInputted:Lt,onResize:Me,onKeyDown:Pe,onKeyPress:Be,onKeyPressRepeat:De,onKeyRelease:Oe,onMouseDown:st,onMousePress:Rt,onMouseRelease:_r,onMouseMove:sn,onCharInput:pe,onTouchStart:ke,onTouchMove:Ce,onTouchEnd:be,onScroll:Ze,onHide:Ie,onShow:rt,onGamepadButtonDown:Vr,onGamepadButtonPress:Tt,onGamepadButtonRelease:yi,onGamepadStick:Hr,onGamepadConnect:Gr,onGamepadDisconnect:or,onButtonPress:ft,onButtonDown:mn,onButtonRelease:yn,getLastInputDeviceType:lw,events:t.events}},"initApp");function vt(){return w.app.dt()}f(vt,"dt");function ta(){return w.app.fixedDt()}f(ta,"fixedDt");function na(){return w.app.restDt()}f(na,"restDt");var fw=new G(-1,-1),pw=new G(0,-1),gw=new G(1,-1),mw=new G(-1,0),yw=new G(0,0),vw=new G(1,0),ww=new G(-1,1),xw=new G(0,1),Aw=new G(1,1);function gi(r){switch(r){case"topleft":return fw;case"top":return pw;case"topright":return gw;case"left":return mw;case"center":return yw;case"right":return vw;case"botleft":return ww;case"bot":return xw;case"botright":return Aw;default:return r}}f(gi,"anchorPt");function em(r){switch(r){case"left":return 0;case"center":return .5;case"right":return 1;default:return 0}}f(em,"alignPt");function tm(r){return r.createBuffer(1,1,44100)}f(tm,"createEmptyAudioBuffer");var zl=2.5949095,Fp=1.70158+1,Bp=2*Math.PI/3,Np=2*Math.PI/4.5,Hl={linear:f(r=>r,"linear"),easeInSine:f(r=>1-Math.cos(r*Math.PI/2),"easeInSine"),easeOutSine:f(r=>Math.sin(r*Math.PI/2),"easeOutSine"),easeInOutSine:f(r=>-(Math.cos(Math.PI*r)-1)/2,"easeInOutSine"),easeInQuad:f(r=>r*r,"easeInQuad"),easeOutQuad:f(r=>1-(1-r)*(1-r),"easeOutQuad"),easeInOutQuad:f(r=>r<.5?2*r*r:1-Math.pow(-2*r+2,2)/2,"easeInOutQuad"),easeInCubic:f(r=>r*r*r,"easeInCubic"),easeOutCubic:f(r=>1-Math.pow(1-r,3),"easeOutCubic"),easeInOutCubic:f(r=>r<.5?4*r*r*r:1-Math.pow(-2*r+2,3)/2,"easeInOutCubic"),easeInQuart:f(r=>r*r*r*r,"easeInQuart"),easeOutQuart:f(r=>1-Math.pow(1-r,4),"easeOutQuart"),easeInOutQuart:f(r=>r<.5?8*r*r*r*r:1-Math.pow(-2*r+2,4)/2,"easeInOutQuart"),easeInQuint:f(r=>r*r*r*r*r,"easeInQuint"),easeOutQuint:f(r=>1-Math.pow(1-r,5),"easeOutQuint"),easeInOutQuint:f(r=>r<.5?16*r*r*r*r*r:1-Math.pow(-2*r+2,5)/2,"easeInOutQuint"),easeInExpo:f(r=>r===0?0:Math.pow(2,10*r-10),"easeInExpo"),easeOutExpo:f(r=>r===1?1:1-Math.pow(2,-10*r),"easeOutExpo"),easeInOutExpo:f(r=>r===0?0:r===1?1:r<.5?Math.pow(2,20*r-10)/2:(2-Math.pow(2,-20*r+10))/2,"easeInOutExpo"),easeInCirc:f(r=>1-Math.sqrt(1-Math.pow(r,2)),"easeInCirc"),easeOutCirc:f(r=>Math.sqrt(1-Math.pow(r-1,2)),"easeOutCirc"),easeInOutCirc:f(r=>r<.5?(1-Math.sqrt(1-Math.pow(2*r,2)))/2:(Math.sqrt(1-Math.pow(-2*r+2,2))+1)/2,"easeInOutCirc"),easeInBack:f(r=>Fp*r*r*r-1.70158*r*r,"easeInBack"),easeOutBack:f(r=>1+Fp*Math.pow(r-1,3)+1.70158*Math.pow(r-1,2),"easeOutBack"),easeInOutBack:f(r=>r<.5?Math.pow(2*r,2)*((zl+1)*2*r-zl)/2:(Math.pow(2*r-2,2)*((zl+1)*(r*2-2)+zl)+2)/2,"easeInOutBack"),easeInElastic:f(r=>r===0?0:r===1?1:-Math.pow(2,10*r-10)*Math.sin((r*10-10.75)*Bp),"easeInElastic"),easeOutElastic:f(r=>r===0?0:r===1?1:Math.pow(2,-10*r)*Math.sin((r*10-.75)*Bp)+1,"easeOutElastic"),easeInOutElastic:f(r=>r===0?0:r===1?1:r<.5?-(Math.pow(2,20*r-10)*Math.sin((20*r-11.125)*Np))/2:Math.pow(2,-20*r+10)*Math.sin((20*r-11.125)*Np)/2+1,"easeInOutElastic"),easeInBounce:f(r=>1-Hl.easeOutBounce(1-r),"easeInBounce"),easeOutBounce:f(r=>r<1/2.75?7.5625*r*r:r<2/2.75?7.5625*(r-=1.5/2.75)*r+.75:r<2.5/2.75?7.5625*(r-=2.25/2.75)*r+.9375:7.5625*(r-=2.625/2.75)*r+.984375,"easeOutBounce"),easeInOutBounce:f(r=>r<.5?(1-Hl.easeOutBounce(1-2*r))/2:(1+Hl.easeOutBounce(2*r-1))/2,"easeInOutBounce")},xs=Hl;function nm(r,t,i){let s=[],a=t;for(s.push(a);a!==r;){if(a=i.get(a),a==null)return null;s.push(a)}return s.reverse()}f(nm,"buildPath");function rm(r,t,i){var d;let s=new Ng((y,p)=>y.cost<p.cost);s.insert({cost:0,node:t});let a=new Map;a.set(t,t);let u=new Map;for(u.set(t,0);s.length!==0;){let y=(d=s.remove())==null?void 0:d.node;if(y===i)break;let p=r.getNeighbours(y);for(let g of p){let E=(u.get(y)||0)+r.getCost(y,g)+r.getHeuristic(g,i);(!u.has(g)||E<u.get(g))&&(u.set(g,E),s.insert({cost:E,node:g}),a.set(g,y))}}return nm(t,i,a)}f(rm,"aStarSearch");var so,Ew=(so=class{constructor(t,i,s){q(this,"a");q(this,"b");q(this,"polygon");this.a=t,this.b=i,this.polygon=new WeakRef(s)}isLeft(t,i){return(this.b.x-this.a.x)*(i-this.a.y)-(t-this.a.x)*(this.b.y-this.a.y)}get middle(){return this.a.add(this.b).scale(.5)}},f(so,"NavEdge"),so),lo,Sw=(lo=class{constructor(t){q(this,"_edges");q(this,"_centroid");q(this,"_id");this._id=t}get id(){return this._id}set edges(t){this._edges=t;let i=0,s=0,a=0;for(let u of this._edges){u.polygon=new WeakRef(this);let d=u.a.x*u.b.y-u.a.y*u.b.x;i+=(u.a.x+u.b.x)*d,s+=(u.a.y+u.b.y)*d,a+=d}a/=2,this._centroid=z(i/(6*a),s/(6*a))}get edges(){return this._edges}get centroid(){return this._centroid}contains(t){let i=!1;for(let s of this.edges)s.b.y>t.y!=s.a.y>t.y&&t.x<(s.a.x-s.b.x)*(t.y-s.b.y)/(s.a.y-s.b.y)+s.b.x&&(i=!i);return i}},f(lo,"NavPolygon"),lo),ao,kw=(ao=class{constructor(){q(this,"_polygons");q(this,"_pointCache");q(this,"_edgeCache");this._polygons=[],this._pointCache={},this._edgeCache={}}_addPoint(t){let i=this._pointCache[`${t.x}_${t.y}`];return i||(i=t.clone(),this._pointCache[`${t.x}_${t.y}`]=i,i)}_addEdge(t){let i=`${t.a.x}_${t.a.y}-${t.b.x}_${t.b.y}`;return this._edgeCache[i]=t,t}_findEdge(t,i){let s=`${t.x}_${t.y}-${i.x}_${i.y}`;return this._edgeCache[s]}_findCommonEdge(t,i){for(let s of t.edges){let a=this._findEdge(s.b,s.a);if(a&&a.polygon.deref().id===i.id)return a}return null}addPolygon(t){let i=new Sw(this._polygons.length),s=t.map((a,u)=>new Ew(a,t[(u+1)%t.length],i));i.edges=s,this._polygons.push(i);for(let a of i.edges)this._addEdge(a);return i}addRect(t,i){let s=this._addPoint(t),a=this._addPoint(t.add(i.x,0)),u=this._addPoint(t.add(i)),d=this._addPoint(t.add(0,i.y));return this.addPolygon([s,a,u,d])}_getLocation(t){for(let i of this._polygons)if(i.contains(t))return i;return null}getNeighbours(t){let i=[];for(let s of this._polygons[t].edges){let a=this._findEdge(s.b,s.a);if(a){let u=a.polygon.deref();u&&i.push(u.id)}}return i}getCost(t,i){return 1}getHeuristic(t,i){let s=this._polygons[t],a=this._polygons[i],u=s.centroid.x-a.centroid.x,d=s.centroid.y-a.centroid.y;return Math.sqrt(u*u+d*d)}getPath(t,i){return t===void 0||i===void 0?[]:t===i?[t,i]:rm(this,t,i)}getWaypointPath(t,i,s){let a=(s==null?void 0:s.type)||"centroids",u=this._getLocation(t),d=this._getLocation(i);if(u===void 0||d===void 0)return[];let y=this.getPath(u.id,d.id);if(!y)return[];if(a==="edges"){let p=[];for(let g=1;g<y.length;g++){let E=this._polygons[y[g-1]],C=this._polygons[y[g]],m=this._findCommonEdge(E,C);p.push(m.middle.add(C.centroid.sub(m.middle).unit().scale(4)))}return[t,...p,i]}else return[t,...y.slice(1,-1).map(p=>this._polygons[p].centroid),i]}},f(ao,"NavMesh"),ao);function Yi(r){let t=new Un;return r.pos&&t.translate(r.pos),r.scale&&t.scale(r.scale),r.angle&&t.rotate(r.angle),r.parent?t.mult(r.parent.transform):t}f(Yi,"calcTransform");function im(r){return new G(r.x/Et()*2-1,-r.y/Pt()*2+1)}f(im,"screen2ndc");function Qi(r,t,i,s,a,u=1){s=ct(s%360),a=ct(a%360),a<=s&&(a+=Math.PI*2);let d=[],y=Math.ceil((a-s)/ct(8)*u),p=(a-s)/y,g=z(Math.cos(s),Math.sin(s)),E=z(Math.cos(p),Math.sin(p));for(let C=0;C<=y;C++)d.push(r.add(t*g.x,i*g.y)),g=z(g.x*E.x-g.y*E.y,g.x*E.y+g.y*E.x);return d}f(Qi,"getArcPts");function om(...r){let t=qe(...r),i=r[3]??1;w.gfx.bgColor=t,w.gfx.bgAlpha=i,w.gfx.ggl.gl.clearColor(t.r/255,t.g/255,t.b/255,i)}f(om,"setBackground");function sm(){var r,t;return((t=(r=w.gfx.bgColor)==null?void 0:r.clone)==null?void 0:t.call(r))??null}f(sm,"getBackground");function tt(...r){if(r[0]===void 0)return;let t=z(...r);t.x===0&&t.y===0||w.gfx.transform.translate(t)}f(tt,"pushTranslate");function $t(){w.gfx.transformStack.push(w.gfx.transform.clone())}f($t,"pushTransform");function lm(r){w.gfx.transform=r.clone()}f(lm,"pushMatrix");function Eo(...r){if(r[0]===void 0)return;let t=z(...r);t.x===1&&t.y===1||w.gfx.transform.scale(t)}f(Eo,"pushScale");function hi(r){r&&w.gfx.transform.rotate(r)}f(hi,"pushRotate");function Gt(){w.gfx.transformStack.length>0&&(w.gfx.transform=w.gfx.transformStack.pop())}f(Gt,"popTransform");function en(){w.gfx.renderer.flush()}f(en,"flush");function Et(){return w.gfx.width}f(Et,"width");function Pt(){return w.gfx.height}f(Pt,"height");function $c(){return(w.gfx.viewport.width+w.gfx.viewport.height)/(w.gfx.width+w.gfx.height)}f($c,"getViewportScale");function am(r){return new G(r.x*w.gfx.viewport.width/w.gfx.width,r.y*w.gfx.viewport.height/w.gfx.height)}f(am,"contentToView");function um(r){return new G((r.x-w.gfx.viewport.x)*Et()/w.gfx.viewport.width,(r.y-w.gfx.viewport.y)*Pt()/w.gfx.viewport.height)}f(um,"windowToContent");function ed(){return um(w.app.mousePos())}f(ed,"mousePos");function As(){return z(Et()/2,Pt()/2)}f(As,"center");var uo,Cw=(uo=class{constructor(t,i,s){q(this,"textures",[]);q(this,"bigTextures",[]);q(this,"canvas");q(this,"c2d");q(this,"x",0);q(this,"y",0);q(this,"curHeight",0);q(this,"gfx");this.gfx=t,this.canvas=document.createElement("canvas"),this.canvas.width=i,this.canvas.height=s,this.textures=[Tr.fromImage(t,this.canvas)],this.bigTextures=[];let a=this.canvas.getContext("2d");if(!a)throw new Error("Failed to get 2d context");this.c2d=a}add(t){if(t.width>this.canvas.width||t.height>this.canvas.height){let a=Tr.fromImage(this.gfx,t);return this.bigTextures.push(a),[a,new nt(0,0,1,1)]}this.x+t.width>this.canvas.width&&(this.x=0,this.y+=this.curHeight,this.curHeight=0),this.y+t.height>this.canvas.height&&(this.c2d.clearRect(0,0,this.canvas.width,this.canvas.height),this.textures.push(Tr.fromImage(this.gfx,this.canvas)),this.x=0,this.y=0,this.curHeight=0);let i=this.textures[this.textures.length-1],s=new G(this.x,this.y);return this.x+=t.width,t.height>this.curHeight&&(this.curHeight=t.height),t instanceof ImageData?this.c2d.putImageData(t,s.x,s.y):this.c2d.drawImage(t,s.x,s.y),i.update(this.canvas),[i,new nt(s.x/this.canvas.width,s.y/this.canvas.height,t.width/this.canvas.width,t.height/this.canvas.height)]}free(){for(let t of this.textures)t.free();for(let t of this.bigTextures)t.free()}},f(uo,"TexPacker"),uo);function rn(r){return typeof r!="string"||bg(r)?r:w.assets.urlPrefix+r}f(rn,"fixURL");var ci,pn=(ci=class{constructor(t){q(this,"loaded",!1);q(this,"data",null);q(this,"error",null);q(this,"onLoadEvents",new Ht);q(this,"onErrorEvents",new Ht);q(this,"onFinishEvents",new Ht);t.then(i=>{this.loaded=!0,this.data=i,this.onLoadEvents.trigger(i)}).catch(i=>{if(this.error=i,this.onErrorEvents.numListeners()>0)this.onErrorEvents.trigger(i);else throw i}).finally(()=>{this.onFinishEvents.trigger(),this.loaded=!0})}static loaded(t){let i=new ci(Promise.resolve(t));return i.data=t,i.loaded=!0,i}onLoad(t){return this.loaded&&this.data?t(this.data):this.onLoadEvents.add(t),this}onError(t){return this.loaded&&this.error?t(this.error):this.onErrorEvents.add(t),this}onFinish(t){return this.loaded?t():this.onFinishEvents.add(t),this}then(t){return this.onLoad(t)}catch(t){return this.onError(t)}finally(t){return this.onFinish(t)}},f(ci,"Asset"),ci),co,Hi=(co=class{constructor(){q(this,"assets",new Map);q(this,"lastUID",0)}add(t,i){let s=t??this.lastUID+++"",a=new pn(i);return this.assets.set(s,a),a}addLoaded(t,i){let s=t??this.lastUID+++"",a=pn.loaded(i);return this.assets.set(s,a),a}get(t){return this.assets.get(t)}progress(){if(this.assets.size===0)return 1;let t=0;return this.assets.forEach(i=>{i.loaded&&t++}),t/this.assets.size}getFailedAssets(){return Array.from(this.assets.keys()).filter(t=>this.assets.get(t).error!==null).map(t=>[t,this.assets.get(t)])}},f(co,"AssetBucket"),co);function Ea(r){return fetch(r).then(t=>{if(!t.ok)throw new Error(`Failed to fetch "${r}"`);return t})}f(Ea,"fetchURL");function Ts(r){return Ea(r).then(t=>t.json())}f(Ts,"fetchJSON");function cm(r){return Ea(r).then(t=>t.text())}f(cm,"fetchText");function dm(r){return Ea(r).then(t=>t.arrayBuffer())}f(dm,"fetchArrayBuffer");function hm(r){return r!==void 0&&(w.assets.urlPrefix=r),w.assets.urlPrefix}f(hm,"loadRoot");function fm(r,t){return w.assets.custom.add(r,Ts(rn(t)))}f(fm,"loadJSON");function Ds(r){let t=new Image;return t.crossOrigin="anonymous",t.src=r,new Promise((i,s)=>{t.onload=()=>i(t),t.onerror=()=>s(new Error(`Failed to load image from "${r}"`))})}f(Ds,"loadImg");function qr(){let r=[w.assets.sprites,w.assets.sounds,w.assets.shaders,w.assets.fonts,w.assets.bitmapFonts,w.assets.custom];return r.reduce((t,i)=>t+i.progress(),0)/r.length}f(qr,"loadProgress");function td(){return[w.assets.sprites,w.assets.sounds,w.assets.shaders,w.assets.fonts,w.assets.bitmapFonts,w.assets.custom].reduce((r,t)=>r.concat(t.getFailedAssets()),[])}f(td,"getFailedAssets");function pm(r){return w.assets.custom.get(r)??null}f(pm,"getAsset");function ra(r){return w.assets.custom.add(null,r)}f(ra,"load");var Mw=f(r=>({urlPrefix:"",sprites:new Hi,fonts:new Hi,bitmapFonts:new Hi,sounds:new Hi,shaders:new Hi,custom:new Hi,music:{},packer:new Cw(r,2048,2048),loaded:!1}),"initAssets"),Pw="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAD0AAAA1CAYAAADyMeOEAAAAAXNSR0IArs4c6QAAAoVJREFUaIHdm7txwkAQhheGAqACiCHzOKQDQrqgILpwSAeEDBnEUAF0gCMxZ7G72qce/mec2Lpf9+3unaS78wgSNZ8uX5729+d1FNWXUuGmXlBOUUEIMckEpeQJgBu6C+BSFngztBR2vd+ovY+7g+p6LbgaWgJrAeUkDYIUXgXdBBwNi6kpABJwMTQH3AZsXRR8GHTfgEth8E3gjdAUcNewpbTgY85sCMCUuOokozE0YM0YRzM9NGAAXd8+omAF5h4lnmBRvpSnZHyLoLEbaN+aKB9KWv/KWw0tAbbANnlG+UvB2dm77NxxdwgBpjrF/d7rW9cbmpvio2A5z8iAYpVU8pGZlo6/2+MSco2lHfd3rv9jAP038e1xef9o2mjvYb2OqpqKE81028/jeietlSEVO5FRWsxWsJit1G3aFpW8iWe5RwpiCZAk25QvV6nz6fIlynRGuTd5WqpJ4guAlDfVKBK87hXljflgv1ON6fV+4+5gVlA17SfeG0heKqQd4l4jI/wrmaA9N9R4ar+wpHJDZyrrfcH0nB66PqAzPi76pn+faSyJk/vzOorYhGurQrzj/P68jtBMawHaHBIR9xoD5O34dy0qQOSYHvqExq2TpT2nf76+w7y251OYF0CRaU+J920TwLUa6inx6OxE6g80lu2ux7Y2eJLF/rCXE6zEPdnenk9o+4ih9AEdnW2q81HXl5LuU6OTl2fXUhqganbXAGq3g6jJOWV/OnoesO6YqqEB/GdNsjf7uHtwj2DzmRNpp7iOZfm6D9oAxB6Yi1gC4oIYeo4MIPdopEQRB+cAko5J1tW386HpB2Kz1eop4Epdwls/kgZ1sh8gZsEjdcWkr//D8Qu3Z3l5Nl1NtAAAAABJRU5ErkJggg==",jn,Or=(jn=class{constructor(t,i,s={},a=null){q(this,"tex");q(this,"frames",[new nt(0,0,1,1)]);q(this,"anims",{});q(this,"slice9",null);this.tex=t,i&&(this.frames=i),this.anims=s,this.slice9=a}get width(){return this.tex.width*this.frames[0].w}get height(){return this.tex.height*this.frames[0].h}static from(t,i={}){return typeof t=="string"?jn.fromURL(t,i):Promise.resolve(jn.fromImage(t,i))}static fromImage(t,i={}){let[s,a]=w.assets.packer.add(t),u=i.frames?i.frames.map(d=>new nt(a.x+d.x*a.w,a.y+d.y*a.h,d.w*a.w,d.h*a.h)):rd(i.sliceX||1,i.sliceY||1,a.x,a.y,a.w,a.h);return new jn(s,u,i.anims,i.slice9)}static fromURL(t,i={}){return Ds(t).then(s=>jn.fromImage(s,i))}},f(jn,"SpriteData"),jn);function gs(r){if(typeof r=="string"){let t=nd(r);if(t)return t;if(qr()<1)return null;throw new Error(`Sprite not found: ${r}`)}else{if(r instanceof Or)return pn.loaded(r);if(r instanceof pn)return r;throw new Error(`Invalid sprite: ${r}`)}}f(gs,"resolveSprite");function nd(r){return w.assets.sprites.get(r)??null}f(nd,"getSprite");function Xi(r,t,i={sliceX:1,sliceY:1,anims:{}}){return t=rn(t),Array.isArray(t)?t.some(s=>typeof s=="string")?w.assets.sprites.add(r,Promise.all(t.map(s=>typeof s=="string"?Ds(s):Promise.resolve(s))).then(s=>Mc(s,i))):w.assets.sprites.addLoaded(r,Mc(t,i)):typeof t=="string"?w.assets.sprites.add(r,Or.from(t,i)):w.assets.sprites.addLoaded(r,Or.fromImage(t,i))}f(Xi,"loadSprite");function rd(r=1,t=1,i=0,s=0,a=1,u=1){let d=[],y=a/r,p=u/t;for(let g=0;g<t;g++)for(let E=0;E<r;E++)d.push(new nt(i+E*y,s+g*p,y,p));return d}f(rd,"slice");function Mc(r,t={}){let i=document.createElement("canvas"),s=r[0].width,a=r[0].height;i.width=s*r.length,i.height=a;let u=i.getContext("2d");if(!u)throw new Error("Failed to create canvas context");r.forEach((y,p)=>{y instanceof ImageData?u.putImageData(y,p*s,0):u.drawImage(y,p*s,0)});let d=u.getImageData(0,0,r.length*s,a);return Or.fromImage(d,{...t,sliceX:r.length,sliceY:1})}f(Mc,"createSpriteSheet");function gm(r="bean"){return Xi(r,Pw)}f(gm,"loadBean");function mm(r,t,i){t=rn(t),i=rn(i),typeof t=="string"&&!i&&(i=Gv(t)+".json");let s=typeof i=="string"?Ts(i):Promise.resolve(i);return w.assets.sprites.add(r,s.then(a=>{let u=a.meta.size,d=a.frames.map(p=>new nt(p.frame.x/u.w,p.frame.y/u.h,p.frame.w/u.w,p.frame.h/u.h)),y={};for(let p of a.meta.frameTags)p.from===p.to?y[p.name]=p.from:y[p.name]={from:p.from,to:p.to,speed:10,loop:!0,pingpong:p.direction==="pingpong"};return Or.from(t,{frames:d,anims:y})}))}f(mm,"loadAseprite");var ho,Gl=(ho=class{constructor(t,i={}){q(this,"fontface");q(this,"filter",Ec);q(this,"outline",null);q(this,"size",64);if(this.fontface=t,this.filter=i.filter??Ec,this.size=i.size??64,this.size>256)throw new Error("Max font size: 256");i.outline&&(this.outline={width:1,color:qe(0,0,0)},typeof i.outline=="number"?this.outline.width=i.outline:typeof i.outline=="object"&&(i.outline.width&&(this.outline.width=i.outline.width),i.outline.color&&(this.outline.color=i.outline.color)))}},f(ho,"FontData"),ho);function id(r){if(!r)return id(w.globalOpt.font??Wv);if(typeof r=="string"){let t=sd(r),i=od(r);if(t)return t.data??t;if(i)return i.data??i;if(document.fonts.check(`64px ${r}`))return r;if(qr()<1)return null;throw new Error(`Font not found: ${r}`)}else if(r instanceof pn)return r.data?r.data:r;return r}f(id,"resolveFont");function od(r){return w.assets.fonts.get(r)??null}f(od,"getFont");function ym(r,t,i={}){let s=rn(t),a=new FontFace(r,typeof t=="string"?`url(${s})`:s);return document.fonts.add(a),w.assets.fonts.add(r,a.load().catch(u=>{throw new Error(`Failed to load font from "${s}": ${u}`)}).then(u=>new Gl(u,i)))}f(ym,"loadFont");function vm(r,t,i,s){let a=r.width/t,u={},d=s.split("").entries();for(let[y,p]of d)u[p]=new nt(y%a*t,Math.floor(y/a)*i,t,i);return{tex:r,map:u,size:i}}f(vm,"makeFont");function sd(r){return w.assets.bitmapFonts.get(r)??null}f(sd,"getBitmapFont");function wm(r,t,i,s,a={}){let u=rn(t);return w.assets.bitmapFonts.add(r,Ds(u).then(d=>vm(Tr.fromImage(w.gfx.ggl,d,a),i,s,a.chars??jg)))}f(wm,"loadBitmapFont");function xm(r,t){return t=rn(t),w.assets.sprites.add(r,new Promise(async i=>{let s=typeof t=="string"?await Ts(t):t,a=await Promise.all(s.frames.map(Ds)),u=document.createElement("canvas");u.width=s.width,u.height=s.height*s.frames.length;let d=u.getContext("2d");if(!d)throw new Error("Failed to create canvas context");a.forEach((p,g)=>{d.drawImage(p,0,g*s.height)});let y=await Xi(null,u,{sliceY:s.frames.length,anims:s.anims});i(y)}))}f(xm,"loadPedit");var fo,Rw=(fo=class{constructor(t,i,s,a){q(this,"ctx");q(this,"glProgram");this.ctx=t,t.onDestroy(()=>this.free());let u=t.gl,d=u.createShader(u.VERTEX_SHADER),y=u.createShader(u.FRAGMENT_SHADER);if(!d||!y)throw new Error("Failed to create shader");u.shaderSource(d,i),u.shaderSource(y,s),u.compileShader(d),u.compileShader(y);let p=u.createProgram();if(this.glProgram=p,u.attachShader(p,d),u.attachShader(p,y),a.forEach((g,E)=>u.bindAttribLocation(p,E,g)),u.linkProgram(p),!u.getProgramParameter(p,u.LINK_STATUS)){let g=u.getShaderInfoLog(d);if(g)throw new Error("VERTEX SHADER "+g);let E=u.getShaderInfoLog(y);if(E)throw new Error("FRAGMENT SHADER "+E)}u.deleteShader(d),u.deleteShader(y)}bind(){this.ctx.pushProgram(this.glProgram)}unbind(){this.ctx.popProgram()}send(t){let i=this.ctx.gl;for(let s in t){let a=t[s],u=i.getUniformLocation(this.glProgram,s);if(typeof a=="number")i.uniform1f(u,a);else if(a instanceof Un)i.uniformMatrix4fv(u,!1,new Float32Array(a.m));else if(a instanceof Te)i.uniform3f(u,a.r,a.g,a.b);else if(a instanceof G)i.uniform2f(u,a.x,a.y);else if(Array.isArray(a))a[0],Hv(a)?i.uniform1fv(u,a):Vv(a)?i.uniform2fv(u,a.map(d=>[d.x,d.y]).flat()):_v(a)&&i.uniform3fv(u,a.map(d=>[d.r,d.g,d.b]).flat());else throw new Error("Unsupported uniform data type")}}free(){this.ctx.gl.deleteProgram(this.glProgram)}},f(fo,"Shader"),fo);function Sa(r,t=Sc,i=kc){let s=Xv.replace("{{user}}",t??Sc),a=Zv.replace("{{user}}",i??kc);try{return new Rw(r,s,a,Jc.map(u=>u.name))}catch(u){let d=/(?<type>^\w+) SHADER ERROR: 0:(?<line>\d+): (?<msg>.+)/,y=rw(u).match(d);if(!(y!=null&&y.groups))throw u;let p=Number(y.groups.line)-14,g=y.groups.msg.trim(),E=y.groups.type.toLowerCase();throw new Error(`${E} shader line ${p}: ${g}`)}}f(Sa,"makeShader");function Am(r){if(!r)return w.gfx.defShader;if(typeof r=="string"){let t=ld(r);if(t)return t.data??t;if(qr()<1)return null;throw new Error(`Shader not found: ${r}`)}else if(r instanceof pn)return r.data?r.data:r;return r}f(Am,"resolveShader");function ld(r){return w.assets.shaders.get(r)??null}f(ld,"getShader");function Em(r,t,i){return w.assets.shaders.addLoaded(r,Sa(w.gfx.ggl,t,i))}f(Em,"loadShader");function Sm(r,t,i){t=rn(t),i=rn(i);let s=f(u=>u?cm(u):Promise.resolve(null),"resolveUrl"),a=Promise.all([s(t),s(i)]).then(([u,d])=>Sa(w.gfx.ggl,u,d));return w.assets.shaders.add(r,a)}f(Sm,"loadShaderURL");var $n,Es=($n=class{constructor(t){q(this,"buf");this.buf=t}static fromArrayBuffer(t){return new Promise((i,s)=>w.audio.ctx.decodeAudioData(t,i,s)).then(i=>new $n(i))}static fromURL(t){return bg(t)?$n.fromArrayBuffer(qg(t)):dm(t).then(i=>$n.fromArrayBuffer(i))}},f($n,"SoundData"),$n);function km(r){if(typeof r=="string"){let t=ad(r);if(t)return t;if(qr()<1)return null;throw new Error(`Sound not found: ${r}`)}else{if(r instanceof Es)return pn.loaded(r);if(r instanceof pn)return r;throw new Error(`Invalid sound: ${r}`)}}f(km,"resolveSound");function ad(r){return w.assets.sounds.get(r)??null}f(ad,"getSound");function Cm(r,t){return t=rn(t),w.assets.sounds.add(r,typeof t=="string"?Es.fromURL(t):Es.fromArrayBuffer(t))}f(Cm,"loadSound");function Mm(r,t){let i=rn(t),s=new Audio(i);return s.preload="auto",w.assets.music[r]=i}f(Mm,"loadMusic");function ud(r,t){return r=rn(r),ra(typeof t=="string"?new Promise((i,s)=>{Ts(t).then(a=>{ud(r,a).then(i).catch(s)})}):Or.from(r).then(i=>{let s={};for(let a in t){let u=t[a],d=i.frames[0],y=2048*d.w,p=2048*d.h,g=u.frames?u.frames.map(C=>new nt(d.x+(u.x+C.x)/y*d.w,d.y+(u.y+C.y)/p*d.h,C.w/y*d.w,C.h/p*d.h)):rd(u.sliceX||1,u.sliceY||1,d.x+u.x/y*d.w,d.y+u.y/p*d.h,u.width/y*d.w,u.height/p*d.h),E=new Or(i.tex,g,u.anims);w.assets.sprites.addLoaded(a,E),s[a]=E}return s}))}f(ud,"loadSpriteAtlas");function ir(r,t,i=!1,s,a,u={}){let d=s??w.gfx.defTex,y=a??w.gfx.defShader,p=Am(y);if(!p||p instanceof pn)return;let g=w.gfx.fixed||i?w.gfx.transform:w.game.cam.transform.mult(w.gfx.transform),E=[];for(let C of r){let m=im(g.multVec2(C.pos));E.push(m.x,m.y,C.uv.x,C.uv.y,C.color.r/255,C.color.g/255,C.color.b/255,C.opacity)}w.gfx.renderer.push(w.gfx.ggl.gl.TRIANGLES,E,t,p,d,u)}f(ir,"drawRaw");function tr(r){if(!r.pts)throw new Error('drawPolygon() requires property "pts".');let t=r.pts.length;if(!(t<3)){if($t(),tt(r.pos),Eo(r.scale),hi(r.angle),tt(r.offset),r.fill!==!1){let i=r.color??Te.WHITE,s=r.pts.map((u,d)=>({pos:new G(u.x,u.y),uv:r.uv?r.uv[d]:new G(0,0),color:r.colors&&r.colors[d]?r.colors[d].mult(i):i,opacity:r.opacity??1})),a;r.triangulate?a=Xc(r.pts).map(u=>u.map(d=>r.pts.indexOf(d))).flat():a=[...Array(t-2).keys()].map(u=>[0,u+1,u+2]).flat(),ir(s,r.indices??a,r.fixed,r.uv?r.tex:w.gfx.defTex,r.shader,r.uniform??void 0)}r.outline&&ka({pts:[...r.pts,r.pts[0]],radius:r.radius,width:r.outline.width,color:r.outline.color,join:r.outline.join,uniform:r.uniform,fixed:r.fixed,opacity:r.opacity??r.outline.opacity}),Gt()}}f(tr,"drawPolygon");function cd(r){if(r.radiusX===void 0||r.radiusY===void 0)throw new Error('drawEllipse() requires properties "radiusX" and "radiusY".');if(r.radiusX===0||r.radiusY===0)return;let t=r.start??0,i=r.end??360,s=gi(r.anchor??"center").scale(new G(-r.radiusX,-r.radiusY)),a=Qi(s,r.radiusX,r.radiusY,t,i,r.resolution);a.unshift(s);let u=Object.assign({},r,{pts:a,radius:0,...r.gradient?{colors:[r.gradient[0],...Array(a.length-1).fill(r.gradient[1])]}:{}});if(i-t>=360&&r.outline){r.fill!==!1&&tr(Object.assign({},u,{outline:null})),tr(Object.assign({},u,{pts:a.slice(1),fill:!1}));return}tr(u)}f(cd,"drawEllipse");function mi(r){if(typeof r.radius!="number")throw new Error('drawCircle() requires property "radius".');r.radius!==0&&cd(Object.assign({},r,{radiusX:r.radius,radiusY:r.radius,angle:0}))}f(mi,"drawCircle");function Ki(r){let{p1:t,p2:i}=r;if(!t||!i)throw new Error('drawLine() requires properties "p1" and "p2".');let s=r.width||1,a=i.sub(t).unit().normal().scale(s*.5),u=[t.sub(a),t.add(a),i.add(a),i.sub(a)].map(d=>({pos:new G(d.x,d.y),uv:new G(0),color:r.color??Te.WHITE,opacity:r.opacity??1}));ir(u,[0,1,3,1,2,3],r.fixed,w.gfx.defTex,r.shader,r.uniform??void 0)}f(Ki,"drawLine");function Pm(r){let t=r.pts,i=[],s=(r.width||1)*.5,a=t[0]===t[t.length-1]||t[0].eq(t[t.length-1]),u=r.pos||z(0,0),d;a?d=t[0].sub(t[t.length-2]):d=t[1].sub(t[0]);let y=d.len(),p=d.normal().scale(-s/y),g,E=t[0];if(!a)switch(r.cap){case"square":{let S=d.scale(-s/y);i.push(E.add(S).add(p)),i.push(E.add(S).sub(p));break}case"round":{let S=Math.max(s,10),D=Math.PI/S,x=p.scale(-1),A=Math.cos(D),N=Math.sin(D);for(let _=0;_<S;_++)i.push(E),i.push(E.sub(x)),x=z(x.x*A-x.y*N,x.x*N+x.y*A)}}for(let S=1;S<t.length;S++){if(E===t[S]||E.eq(t[S]))continue;g=E,E=t[S];let D=E.sub(g),x=D.len(),A=D.normal().scale(-s/x),N=d.cross(D);if(Math.abs(N)/(y*x)<.05){i.push(g.add(p)),i.push(g.sub(p)),d.dot(D)<0&&(i.push(g.sub(p)),i.push(g.add(p))),d=D,y=x,p=A;continue}let _=A.sub(p).cross(D)/N,K=p.add(d.scale(_));N>0?(i.push(g.add(K)),i.push(g.sub(p)),i.push(g.add(K)),i.push(g.sub(A))):(i.push(g.add(p)),i.push(g.sub(K)),i.push(g.add(A)),i.push(g.sub(K))),d=D,y=x,p=A}if(!a)switch(i.push(E.add(p)),i.push(E.sub(p)),r.cap){case"square":{let S=d.scale(s/y);i.push(E.add(S).add(p)),i.push(E.add(S).sub(p));break}case"round":{let S=Math.max(s,10),D=Math.PI/S,x=p.scale(1),A=Math.cos(D),N=Math.sin(D);for(let _=0;_<S;_++)x=z(x.x*A-x.y*N,x.x*N+x.y*A),i.push(E),i.push(E.sub(x))}}if(i.length<4)return;let C=i.map(S=>({pos:u.add(S),uv:z(),color:r.color||Te.WHITE,opacity:r.opacity??1})),m=[],M=0;for(let S=0;S<i.length-2;S+=2)m[M++]=S+1,m[M++]=S,m[M++]=S+2,m[M++]=S+2,m[M++]=S+3,m[M++]=S+1;a&&(m[M++]=i.length-1,m[M++]=i.length-2,m[M++]=0,m[M++]=0,m[M++]=1,m[M++]=i.length-1),ir(C,m,r.fixed,w.gfx.defTex,r.shader,r.uniform??void 0)}f(Pm,"_drawLinesBevel");function Rm(r){let t=r.pts,i=[],s=(r.width||1)*.5,a=t[0]===t[t.length-1]||t[0].eq(t[t.length-1]),u=r.pos||z(0,0),d;a?d=t[0].sub(t[t.length-2]):d=t[1].sub(t[0]);let y=d.len(),p=d.normal().scale(-s/y),g,E=t[0];if(!a)switch(r.cap){case"square":{let S=d.scale(-s/y);i.push(E.add(S).add(p)),i.push(E.add(S).sub(p));break}case"round":{let S=Math.max(s,10),D=Math.PI/S,x=p.scale(-1),A=Math.cos(D),N=Math.sin(D);for(let _=0;_<S;_++)i.push(E),i.push(E.sub(x)),x=z(x.x*A-x.y*N,x.x*N+x.y*A)}}for(let S=1;S<t.length;S++){if(E===t[S]||E.eq(t[S]))continue;g=E,E=t[S];let D=E.sub(g),x=D.len(),A=D.normal().scale(-s/x),N=d.cross(D);if(Math.abs(N)/(y*x)<.05){i.push(g.add(p)),i.push(g.sub(p)),d.dot(D)<0&&(i.push(g.sub(p)),i.push(g.add(p))),d=D,y=x,p=A;continue}let _=A.sub(p).cross(D)/N,K=p.add(d.scale(_));if(N>0){let W=g.add(K),P=Math.max(s,10),T=ct(p.angleBetween(A)/P),U=p,V=Math.cos(T),Y=Math.sin(T);for(let te=0;te<P;te++)i.push(W),i.push(g.sub(U)),U=z(U.x*V-U.y*Y,U.x*Y+U.y*V)}else{let W=g.sub(K),P=Math.max(s,10),T=ct(p.angleBetween(A)/P),U=p,V=Math.cos(T),Y=Math.sin(T);for(let te=0;te<P;te++)i.push(g.add(U)),i.push(W),U=z(U.x*V-U.y*Y,U.x*Y+U.y*V)}d=D,y=x,p=A}if(!a)switch(i.push(E.add(p)),i.push(E.sub(p)),r.cap){case"square":{let S=d.scale(s/y);i.push(E.add(S).add(p)),i.push(E.add(S).sub(p));break}case"round":{let S=Math.max(s,10),D=Math.PI/S,x=p.scale(1),A=Math.cos(D),N=Math.sin(D);for(let _=0;_<S;_++)x=z(x.x*A-x.y*N,x.x*N+x.y*A),i.push(E),i.push(E.sub(x))}}if(i.length<4)return;let C=i.map(S=>({pos:u.add(S),uv:z(),color:r.color||Te.WHITE,opacity:r.opacity??1})),m=[],M=0;for(let S=0;S<i.length-2;S+=2)m[M++]=S+1,m[M++]=S,m[M++]=S+2,m[M++]=S+2,m[M++]=S+3,m[M++]=S+1;a&&(m[M++]=i.length-1,m[M++]=i.length-2,m[M++]=0,m[M++]=0,m[M++]=1,m[M++]=i.length-1),ir(C,m,r.fixed,w.gfx.defTex,r.shader,r.uniform??void 0)}f(Rm,"_drawLinesRound");function Tm(r){let t=r.pts,i=[],s=(r.width||1)*.5,a=t[0]===t[t.length-1]||t[0].eq(t[t.length-1]),u=r.pos||z(0,0),d;a?d=t[0].sub(t[t.length-2]):d=t[1].sub(t[0]);let y=d.len(),p=d.normal().scale(-s/y),g,E=t[0];if(!a)switch(r.cap){case"square":{let S=d.scale(-s/y);i.push(E.add(S).add(p)),i.push(E.add(S).sub(p));break}case"round":{let S=Math.max(s,10),D=Math.PI/S,x=p.scale(-1),A=Math.cos(D),N=Math.sin(D);for(let _=0;_<S;_++)i.push(E),i.push(E.sub(x)),x=z(x.x*A-x.y*N,x.x*N+x.y*A)}}for(let S=1;S<t.length;S++){if(E===t[S]||E.eq(t[S]))continue;g=E,E=t[S];let D=E.sub(g),x=D.len(),A=D.normal().scale(-s/x),N=d.cross(D);if(Math.abs(N)/(y*x)<.05){i.push(g.add(p)),i.push(g.sub(p)),d.dot(D)<0&&(i.push(g.sub(p)),i.push(g.add(p))),d=D,y=x,p=A;continue}let _=A.sub(p).cross(D)/N,K=p.add(d.scale(_));i.push(g.add(K)),i.push(g.sub(K)),d=D,y=x,p=A}if(!a)switch(i.push(E.add(p)),i.push(E.sub(p)),r.cap){case"square":{let S=d.scale(s/y);i.push(E.add(S).add(p)),i.push(E.add(S).sub(p));break}case"round":{let S=Math.max(s,10),D=Math.PI/S,x=p.scale(1),A=Math.cos(D),N=Math.sin(D);for(let _=0;_<S;_++)x=z(x.x*A-x.y*N,x.x*N+x.y*A),i.push(E),i.push(E.sub(x))}}if(i.length<4)return;let C=i.map(S=>({pos:u.add(S),uv:z(),color:r.color||Te.WHITE,opacity:r.opacity??1})),m=[],M=0;for(let S=0;S<i.length-2;S+=2)m[M++]=S+1,m[M++]=S,m[M++]=S+2,m[M++]=S+2,m[M++]=S+3,m[M++]=S+1;a&&(m[M++]=i.length-1,m[M++]=i.length-2,m[M++]=0,m[M++]=0,m[M++]=1,m[M++]=i.length-1),ir(C,m,r.fixed,w.gfx.defTex,r.shader,r.uniform??void 0)}f(Tm,"_drawLinesMiter");function ka(r){let t=r.pts,i=r.width??1;if(!t)throw new Error('drawLines() requires property "pts".');if(!(t.length<2)){if(t.length>2)switch(r.join){case"bevel":return Pm(r);case"round":return Rm(r);case"miter":return Tm(r)}if(r.radius&&t.length>=3){Ki(Object.assign({},r,{p1:t[0],p2:t[1]}));for(let s=1;s<t.length-2;s++){let a=t[s],u=t[s+1];Ki(Object.assign({},r,{p1:a,p2:u}))}Ki(Object.assign({},r,{p1:t[t.length-2],p2:t[t.length-1]}))}else for(let s=0;s<t.length-1;s++)Ki(Object.assign({},r,{p1:t[s],p2:t[s+1]})),r.join!=="none"&&mi(Object.assign({},r,{pos:t[s],radius:i/2}))}}f(ka,"drawLines");function dd(r,t){let i=t.segments??16,s=[];for(let a=0;a<=i;a++)s.push(r(a/i));ka({pts:s,width:t.width||1,pos:t.pos,color:t.color,opacity:t.opacity})}f(dd,"drawCurve");function Dm(r){dd(t=>ya(r.pt1,r.pt2,r.pt3,r.pt4,t),r)}f(Dm,"drawBezier");var di,Tr=(di=class{constructor(t,i,s,a={}){q(this,"ctx");q(this,"src",null);q(this,"glTex");q(this,"width");q(this,"height");this.ctx=t;let u=t.gl,d=t.gl.createTexture();if(!d)throw new Error("Failed to create texture");this.glTex=d,t.onDestroy(()=>this.free()),this.width=i,this.height=s;let y={linear:u.LINEAR,nearest:u.NEAREST}[a.filter??t.opts.texFilter??"nearest"],p={repeat:u.REPEAT,clampToEdge:u.CLAMP_TO_EDGE}[a.wrap??"clampToEdge"];this.bind(),i&&s&&u.texImage2D(u.TEXTURE_2D,0,u.RGBA,i,s,0,u.RGBA,u.UNSIGNED_BYTE,null),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_MIN_FILTER,y),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_MAG_FILTER,y),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_WRAP_S,p),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_WRAP_T,p),u.pixelStorei(u.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),this.unbind()}static fromImage(t,i,s={}){let a=new di(t,i.width,i.height,s);return a.update(i),a.src=i,a}update(t,i=0,s=0){let a=this.ctx.gl;this.bind(),a.texSubImage2D(a.TEXTURE_2D,0,i,s,a.RGBA,a.UNSIGNED_BYTE,t),this.unbind()}bind(){this.ctx.pushTexture2D(this.glTex)}unbind(){this.ctx.popTexture2D()}free(){this.ctx.gl.deleteTexture(this.glTex)}},f(di,"Texture"),di),po,ia=(po=class{constructor(t,i,s,a={}){q(this,"ctx");q(this,"tex");q(this,"glFramebuffer");q(this,"glRenderbuffer");this.ctx=t;let u=t.gl;t.onDestroy(()=>this.free()),this.tex=new Tr(t,i,s,a);let d=u.createFramebuffer(),y=u.createRenderbuffer();if(!d||!y)throw new Error("Failed to create framebuffer");this.glFramebuffer=d,this.glRenderbuffer=y,this.bind(),u.renderbufferStorage(u.RENDERBUFFER,u.DEPTH_STENCIL,i,s),u.framebufferTexture2D(u.FRAMEBUFFER,u.COLOR_ATTACHMENT0,u.TEXTURE_2D,this.tex.glTex,0),u.framebufferRenderbuffer(u.FRAMEBUFFER,u.DEPTH_STENCIL_ATTACHMENT,u.RENDERBUFFER,this.glRenderbuffer),this.unbind()}get width(){return this.tex.width}get height(){return this.tex.height}toImageData(){let t=this.ctx.gl,i=new Uint8ClampedArray(this.width*this.height*4);this.bind(),t.readPixels(0,0,this.width,this.height,t.RGBA,t.UNSIGNED_BYTE,i),this.unbind();let s=this.width*4,a=new Uint8Array(s);for(let u=0;u<(this.height/2|0);u++){let d=u*s,y=(this.height-u-1)*s;a.set(i.subarray(d,d+s)),i.copyWithin(d,y,y+s),i.set(a,y)}return new ImageData(i,this.width,this.height)}toDataURL(){let t=document.createElement("canvas"),i=t.getContext("2d");if(t.width=this.width,t.height=this.height,!i)throw new Error("Failed to get 2d context");return i.putImageData(this.toImageData(),0,0),t.toDataURL()}clear(){let t=this.ctx.gl;t.clear(t.COLOR_BUFFER_BIT)}draw(t){this.bind(),t(),this.unbind()}bind(){this.ctx.pushFramebuffer(this.glFramebuffer),this.ctx.pushRenderbuffer(this.glRenderbuffer),this.ctx.pushViewport({x:0,y:0,w:this.width,h:this.height})}unbind(){this.ctx.popFramebuffer(),this.ctx.popRenderbuffer(),this.ctx.popViewport()}free(){let t=this.ctx.gl;t.deleteFramebuffer(this.glFramebuffer),t.deleteRenderbuffer(this.glRenderbuffer),this.tex.free()}},f(po,"FrameBuffer"),po),go,Tw=(go=class{constructor(t,i,s,a){q(this,"ctx");q(this,"glVBuf");q(this,"glIBuf");q(this,"vqueue",[]);q(this,"iqueue",[]);q(this,"stride");q(this,"maxVertices");q(this,"maxIndices");q(this,"vertexFormat");q(this,"numDraws",0);q(this,"curPrimitive",null);q(this,"curTex",null);q(this,"curShader",null);q(this,"curUniform",{});let u=t.gl;this.vertexFormat=i,this.ctx=t,this.stride=i.reduce((y,p)=>y+p.size,0),this.maxVertices=s,this.maxIndices=a;let d=u.createBuffer();if(!d)throw new Error("Failed to create vertex buffer");this.glVBuf=d,t.pushArrayBuffer(this.glVBuf),u.bufferData(u.ARRAY_BUFFER,s*4,u.DYNAMIC_DRAW),t.popArrayBuffer(),this.glIBuf=u.createBuffer(),t.pushElementArrayBuffer(this.glIBuf),u.bufferData(u.ELEMENT_ARRAY_BUFFER,a*4,u.DYNAMIC_DRAW),t.popElementArrayBuffer()}push(t,i,s,a,u=null,d={}){(t!==this.curPrimitive||u!==this.curTex||a!==this.curShader||!wa(this.curUniform,d)||this.vqueue.length+i.length*this.stride>this.maxVertices||this.iqueue.length+s.length>this.maxIndices)&&this.flush();let y=this.vqueue.length/this.stride;for(let p of i)this.vqueue.push(p);for(let p of s)this.iqueue.push(p+y);this.curPrimitive=t,this.curShader=a,this.curTex=u,this.curUniform=d}flush(){var i,s;if(!this.curPrimitive||!this.curShader||this.vqueue.length===0||this.iqueue.length===0)return;let t=this.ctx.gl;this.ctx.pushArrayBuffer(this.glVBuf),t.bufferSubData(t.ARRAY_BUFFER,0,new Float32Array(this.vqueue)),this.ctx.pushElementArrayBuffer(this.glIBuf),t.bufferSubData(t.ELEMENT_ARRAY_BUFFER,0,new Uint16Array(this.iqueue)),this.ctx.setVertexFormat(this.vertexFormat),this.curShader.bind(),this.curShader.send(this.curUniform),(i=this.curTex)==null||i.bind(),t.drawElements(this.curPrimitive,this.iqueue.length,t.UNSIGNED_SHORT,0),(s=this.curTex)==null||s.unbind(),this.curShader.unbind(),this.ctx.popArrayBuffer(),this.ctx.popElementArrayBuffer(),this.vqueue=[],this.iqueue=[],this.numDraws++}free(){let t=this.ctx.gl;t.deleteBuffer(this.glVBuf),t.deleteBuffer(this.glIBuf)}},f(go,"BatchRenderer"),go);function Rr(r){let t=[],i=f(u=>{t.push(u),r(u)},"push"),s=f(()=>{t.pop(),r(a()??null)},"pop"),a=f(()=>t[t.length-1],"cur");return[i,s,a]}f(Rr,"genStack");function Im(r,t={}){let i=[];function s(W){i.push(W)}f(s,"onDestroy");function a(){i.forEach(P=>P());let W=r.getExtension("WEBGL_lose_context");W&&W.loseContext()}f(a,"destroy");let u=null;function d(W){if(wa(W,u))return;u=W;let P=W.reduce((T,U)=>T+U.size,0);W.reduce((T,U,V)=>(r.vertexAttribPointer(V,U.size,r.FLOAT,!1,P*4,T),r.enableVertexAttribArray(V),T+U.size*4),0)}f(d,"setVertexFormat");let[y,p]=Rr(W=>r.bindTexture(r.TEXTURE_2D,W)),[g,E]=Rr(W=>r.bindBuffer(r.ARRAY_BUFFER,W)),[C,m]=Rr(W=>r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,W)),[M,S]=Rr(W=>r.bindFramebuffer(r.FRAMEBUFFER,W)),[D,x]=Rr(W=>r.bindRenderbuffer(r.RENDERBUFFER,W)),[A,N]=Rr(W=>{if(!W)return;let{x:P,y:T,w:U,h:V}=W;r.viewport(P,T,U,V)}),[_,K]=Rr(W=>r.useProgram(W));return A({x:0,y:0,w:r.drawingBufferWidth,h:r.drawingBufferHeight}),{gl:r,opts:t,onDestroy:s,destroy:a,pushTexture2D:y,popTexture2D:p,pushArrayBuffer:g,popArrayBuffer:E,pushElementArrayBuffer:C,popElementArrayBuffer:m,pushFramebuffer:M,popFramebuffer:S,pushRenderbuffer:D,popRenderbuffer:x,pushViewport:A,popViewport:N,pushProgram:_,popProgram:K,setVertexFormat:d}}f(Im,"initGfx");var yc={};function Pc(r,t){t.pos&&(r.pos=r.pos.add(t.pos)),t.scale&&(r.scale=r.scale.scale(z(t.scale))),t.angle&&(r.angle+=t.angle),t.color&&r.ch.length===1&&(r.color=r.color.mult(t.color)),t.opacity!=null&&(r.opacity*=t.opacity)}f(Pc,"applyCharTransform");function oa(r){let t={},i="",s=[],a=String(r),u=f(d=>{s.length>0&&(t[i.length]=s.slice()),i+=d},"emit");for(;a!=="";){if(a[0]==="\\"){if(a.length===1)throw new Error("Styled text error: \\ at end of string");u(a[1]),a=a.slice(2);continue}if(a[0]==="["){let d=/^\[(\/)?(\w+?)\]/.exec(a);if(!d){u(a[0]),a=a.slice(1);continue}let[y,p,g]=d;if(p!==void 0){let E=s.pop();if(E!==g)throw E!==void 0?new Error(`Styled text error: mismatched tags. Expected [/${E}], got [/${g}]`):new Error(`Styled text error: stray end tag [/${g}]`)}else s.push(g);a=a.slice(y.length);continue}u(a[0]),a=a.slice(1)}if(s.length>0)throw new Error(`Styled text error: unclosed tags ${s}`);return{charStyleMap:t,text:i}}f(oa,"compileStyledText");function br(r){var N,_,K;if(r.text===void 0)throw new Error('formatText() requires property "text".');let t=id(r.font);if(!r.text||r.text===""||t instanceof pn||!t)return{width:0,height:0,chars:[],opt:r,renderedText:""};let{charStyleMap:i,text:s}=oa(r.text+""),a=Hg(s);if(t instanceof Gl||typeof t=="string"){let W=t instanceof Gl?t.fontface.family:t,P=t instanceof Gl?{outline:t.outline,filter:t.filter}:{outline:null,filter:Ec},T=yc[W]??{font:{tex:new Tr(w.gfx.ggl,2048,2048,{filter:P.filter}),map:{},size:64},cursor:new G(0),outline:P.outline};yc[W]||(yc[W]=T),t=T.font;for(let U of a)if(!T.font.map[U]){let V=w.fontCacheC2d;if(!V)throw new Error("fontCacheC2d is not defined.");if(!w.fontCacheCanvas)throw new Error("fontCacheCanvas is not defined.");V.clearRect(0,0,w.fontCacheCanvas.width,w.fontCacheCanvas.height),V.font=`${t.size}px ${W}`,V.textBaseline="top",V.textAlign="left",V.fillStyle="#ffffff";let Y=V.measureText(U),te=Math.ceil(Y.width);if(!te)continue;let oe=Math.ceil(Math.abs(Y.actualBoundingBoxAscent))+Math.ceil(Math.abs(Y.actualBoundingBoxDescent));T.outline&&T.outline.width&&T.outline.color&&(V.lineJoin="round",V.lineWidth=T.outline.width*2,V.strokeStyle=T.outline.color.toHex(),V.strokeText(U,T.outline.width,T.outline.width),te+=T.outline.width*2,oe+=T.outline.width*3),V.fillText(U,((N=T.outline)==null?void 0:N.width)??0,((_=T.outline)==null?void 0:_.width)??0);let ge=V.getImageData(0,0,te,oe);if(T.cursor.x+te>2048&&(T.cursor.x=0,T.cursor.y+=oe,T.cursor.y>2048))throw new Error("Font atlas exceeds character limit");t.tex.update(ge,T.cursor.x,T.cursor.y),t.map[U]=new nt(T.cursor.x,T.cursor.y,te,oe),T.cursor.x+=te+1}}let u=r.size||t.size,d=z(r.scale??1).scale(u/t.size),y=r.lineSpacing??0,p=r.letterSpacing??0,g=0,E=0,C=0,m=[],M=[],S=0,D=null,x=0;for(;S<a.length;){let W=a[S];if(W===`
`)C+=u+y,m.push({width:g-p,chars:M}),D=null,x=0,g=0,M=[];else{let P=t.map[W];if(P){let T=P.w*d.x;r.width&&g+T>r.width&&(C+=u+y,D!=null&&(S-=M.length-D,W=a[S],P=t.map[W],T=P.w*d.x,M=M.slice(0,D-1),g=x),D=null,x=0,m.push({width:g-p,chars:M}),g=0,M=[]),M.push({tex:t.tex,width:P.w,height:P.h,quad:new nt(P.x/t.tex.width,P.y/t.tex.height,P.w/t.tex.width,P.h/t.tex.height),ch:W,pos:new G(g,C),opacity:r.opacity??1,color:r.color??Te.WHITE,scale:z(d),angle:0}),W===" "&&(D=M.length,x=g),g+=T,E=Math.max(E,g),g+=p}}S++}m.push({width:g-p,chars:M}),C+=u,r.width&&(E=r.width);let A=[];for(let W=0;W<m.length;W++){let P=(E-m[W].width)*em(r.align??"left");for(let T of m[W].chars){let U=t.map[T.ch],V=A.length+W;if(T.pos=T.pos.add(P,0).add(U.w*d.x*.5,U.h*d.y*.5),r.transform){let Y=typeof r.transform=="function"?r.transform(V,T.ch):r.transform;Y&&Pc(T,Y)}if(i[V]){let Y=i[V];for(let te of Y){let oe=(K=r.styles)==null?void 0:K[te],ge=typeof oe=="function"?oe(V,T.ch):oe;ge&&Pc(T,ge)}}A.push(T)}}return{width:E,height:C,chars:A,opt:r,renderedText:s}}f(br,"formatText");function So(r){if(r.width===void 0||r.height===void 0)throw new Error('drawUVQuad() requires property "width" and "height".');if(r.width<=0||r.height<=0)return;let t=r.width,i=r.height,s=gi(r.anchor||xa).scale(new G(t,i).scale(-.5)),a=r.quad||new nt(0,0,1,1),u=r.color||qe(255,255,255),d=r.opacity??1,y=r.tex?.1/r.tex.width:0,p=r.tex?.1/r.tex.height:0,g=a.x+y,E=a.y+p,C=a.w-y*2,m=a.h-p*2;$t(),tt(r.pos),hi(r.angle),Eo(r.scale),tt(s),ir([{pos:new G(-t/2,i/2),uv:new G(r.flipX?g+C:g,r.flipY?E:E+m),color:u,opacity:d},{pos:new G(-t/2,-i/2),uv:new G(r.flipX?g+C:g,r.flipY?E+m:E),color:u,opacity:d},{pos:new G(t/2,-i/2),uv:new G(r.flipX?g:g+C,r.flipY?E+m:E),color:u,opacity:d},{pos:new G(t/2,i/2),uv:new G(r.flipX?g:g+C,r.flipY?E:E+m),color:u,opacity:d}],[0,1,3,1,2,3],r.fixed,r.tex,r.shader,r.uniform??void 0),Gt()}f(So,"drawUVQuad");function jr(r){$t(),tt(r.opt.pos),hi(r.opt.angle),tt(gi(r.opt.anchor??"topleft").add(1,1).scale(r.width,r.height).scale(-.5)),r.chars.forEach(t=>{So({tex:t.tex,width:t.width,height:t.height,pos:t.pos,scale:t.scale,angle:t.angle,color:t.color,opacity:t.opacity,quad:t.quad,anchor:"center",uniform:r.opt.uniform,shader:r.opt.shader,fixed:r.opt.fixed})}),Gt()}f(jr,"drawFormattedText");function tn(r){if(r.width===void 0||r.height===void 0)throw new Error('drawRect() requires property "width" and "height".');if(r.width<=0||r.height<=0)return;let t=r.width,i=r.height,s=gi(r.anchor||xa).add(1,1).scale(new G(t,i).scale(-.5)),a=[new G(0,0),new G(t,0),new G(t,i),new G(0,i)];if(r.radius){let u=Math.min(t,i)/2,d=Array.isArray(r.radius)?r.radius.map(y=>Math.min(u,y)):new Array(4).fill(Math.min(u,r.radius));a=[new G(d[0],0),...d[1]?Qi(new G(t-d[1],d[1]),d[1],d[1],270,360):[z(t,0)],...d[2]?Qi(new G(t-d[2],i-d[2]),d[2],d[2],0,90):[z(t,i)],...d[3]?Qi(new G(d[3],i-d[3]),d[3],d[3],90,180):[z(0,i)],...d[0]?Qi(new G(d[0],d[0]),d[0],d[0],180,270):[]]}tr(Object.assign({},r,{offset:s,pts:a,...r.gradient?{colors:r.horizontal?[r.gradient[0],r.gradient[1],r.gradient[1],r.gradient[0]]:[r.gradient[0],r.gradient[0],r.gradient[1],r.gradient[1]]}:{}}))}f(tn,"drawRect");function Jn(r){en();let t=w.gfx.width,i=w.gfx.height;w.gfx.width=w.gfx.viewport.width,w.gfx.height=w.gfx.viewport.height,r(),en(),w.gfx.width=t,w.gfx.height=i}f(Jn,"drawUnscaled");function Rc(r,t){Jn(()=>{let i=z(8);$t(),tt(r);let s=br({text:t,font:$l,size:16,pos:i,color:qe(255,255,255),fixed:!0}),a=s.width+i.x*2,u=s.height+i.x*2;r.x+a>=Et()&&tt(z(-a,0)),r.y+u>=Pt()&&tt(z(0,-u)),tn({width:a,height:u,color:qe(0,0,0),radius:4,opacity:.8,fixed:!0}),jr(s),Gt()})}f(Rc,"drawInspectText");function hd(r){if(!r.p1||!r.p2||!r.p3)throw new Error('drawTriangle() requires properties "p1", "p2" and "p3".');return tr(Object.assign({},r,{pts:[r.p1,r.p2,r.p3]}))}f(hd,"drawTriangle");function Fm(){if(w.debug.inspect){let r=null;for(let t of w.game.root.get("*",{recursive:!0}))if(t.c("area")&&t.isHovering()){r=t;break}if(w.game.root.drawInspect(),r){let t=[],i=r.inspect();for(let s in i)i[s]?t.push(`${i[s]}`):t.push(`${s}`);Rc(am(ed()),t.join(`
`))}Rc(z(8),`FPS: ${w.debug.fps()}`)}w.debug.paused&&Jn(()=>{$t(),tt(Et(),0),tt(-8,8);let r=32;tn({width:r,height:r,anchor:"topright",color:qe(0,0,0),opacity:.8,radius:4,fixed:!0});for(let t=1;t<=2;t++)tn({width:4,height:r*.6,anchor:"center",pos:z(-r/3*t,r*.5),color:qe(255,255,255),radius:2,fixed:!0});Gt()}),w.debug.timeScale!==1&&Jn(()=>{$t(),tt(Et(),Pt()),tt(-8,-8);let r=8,t=br({text:w.debug.timeScale.toFixed(1),font:$l,size:16,color:qe(255,255,255),pos:z(-r),anchor:"botright",fixed:!0});tn({width:t.width+r*2+r*4,height:t.height+r*2,anchor:"botright",color:qe(0,0,0),opacity:.8,radius:4,fixed:!0});for(let i=0;i<2;i++){let s=w.debug.timeScale<1;hd({p1:z(-t.width-r*(s?2:3.5),-r),p2:z(-t.width-r*(s?2:3.5),-r-t.height),p3:z(-t.width-r*(s?3.5:2),-r-t.height/2),pos:z(-i*r*1+(s?-r*.5:0),0),color:qe(255,255,255),fixed:!0})}jr(t),Gt()}),w.debug.curRecording&&Jn(()=>{$t(),tt(0,Pt()),tt(24,-24),mi({radius:12,color:qe(255,0,0),opacity:qc(0,1,w.app.time()*4),fixed:!0}),Gt()}),w.debug.showLog&&w.game.logs.length>0&&Jn(()=>{$t(),tt(0,Pt()),tt(8,-8);let r=8,t=[];for(let s of w.game.logs){let a="",u=s.msg instanceof Error?"error":"info";a+=`[time]${s.time.toFixed(2)}[/time]`,a+=" ",a+=`[${u}]${sa(s.msg)}[/${u}]`,t.push(a)}w.game.logs=w.game.logs.filter(s=>w.app.time()-s.time<(w.globalOpt.logTime||4));let i=br({text:t.join(`
`),font:$l,pos:z(r,-r),anchor:"botleft",size:16,width:Et()*.6,lineSpacing:r/2,fixed:!0,styles:{time:{color:qe(127,127,127)},info:{color:qe(255,255,255)},error:{color:qe(255,0,127)}}});tn({width:i.width+r*2,height:i.height+r*2,anchor:"botleft",color:qe(0,0,0),radius:4,opacity:.8,fixed:!0}),jr(i),Gt()})}f(Fm,"drawDebug");function sa(r,t=!1,i=new Set){if(i.has(r))return"<recursive>";var s="",a;return t&&typeof r=="string"&&(r=JSON.stringify(r)),Array.isArray(r)&&(s=["[",r.map(u=>sa(u,!0,i.union(new Set([r])))).join(", "),"]"].join(""),r=s),r===null?"null":(typeof r=="object"&&r.toString===Object.prototype.toString&&(r.constructor!==Object&&(s+=r.constructor.name+" "),s+=["{",(a=Object.getOwnPropertyNames(r).map(u=>`${/^\w+$/.test(u)?u:JSON.stringify(u)}: ${sa(r[u],!0,i.union(new Set([r])))}`).join(", "))?` ${a} `:"","}"].join(""),r=s),String(r).replaceAll(new RegExp("(?<!\\\\)\\[","g"),"\\["))}f(sa,"prettyDebug");function Bm(){let r=w.game.cam,t=G.fromAngle(yt(0,360)).scale(r.shake);r.shake=Wt(r.shake,0,5*vt()),r.transform=new Un().translate(As()).scale(r.scale).rotate(r.angle).translate((r.pos??As()).scale(-1).add(t)),w.game.root.draw(),en()}f(Bm,"drawFrame");function Nm(){let r=qr();w.game.events.numListeners("loading")>0?w.game.events.trigger("loading",r):Jn(()=>{let t=Et()/2,i=24,s=z(Et()/2,Pt()/2).sub(z(t/2,i/2));tn({pos:z(0),width:Et(),height:Pt(),color:qe(0,0,0)}),tn({pos:s,width:t,height:i,fill:!1,outline:{width:4}}),tn({pos:s,width:t*r,height:i})})}f(Nm,"drawLoadScreen");function fd(r,t,i){let s=w.gfx.ggl.gl;en(),s.clear(s.STENCIL_BUFFER_BIT),s.enable(s.STENCIL_TEST),s.stencilFunc(s.NEVER,1,255),s.stencilOp(s.REPLACE,s.REPLACE,s.REPLACE),t(),en(),s.stencilFunc(i,1,255),s.stencilOp(s.KEEP,s.KEEP,s.KEEP),r(),en(),s.disable(s.STENCIL_TEST)}f(fd,"drawStenciled");function Lm(r,t){let i=w.gfx.ggl.gl;fd(r,t,i.EQUAL)}f(Lm,"drawMasked");function Ss(r){var u,d;if(!r.tex)throw new Error('drawTexture() requires property "tex".');let t=r.quad??new nt(0,0,1,1),i=r.tex.width*t.w,s=r.tex.height*t.h,a=new G(1);if(r.tiled){let y=gi(r.anchor||xa);(((u=r.pos)==null?void 0:u.x)||0)-(y.x+1)*.5*(r.width||i),(((d=r.pos)==null?void 0:d.y)||0)-(y.y+1)*.5*(r.height||s);let p=(r.width||i)/i,g=(r.height||s)/s,E=Math.floor(p),C=Math.floor(g),m=p-E,M=g-C,S=(E+m?1:0)*(C+M?1:0),D=new Array(S*6),x=new Array(S*4),A=0,N=f((_,K,W,P,T)=>{D[A*6+0]=A*4+0,D[A*6+1]=A*4+1,D[A*6+2]=A*4+3,D[A*6+3]=A*4+1,D[A*6+4]=A*4+2,D[A*6+5]=A*4+3,x[A*4+0]={pos:new G(_-y.x,K-y.y),uv:new G(T.x,T.y),color:r.color||Te.WHITE,opacity:r.opacity||1},x[A*4+1]={pos:new G(_+W-y.x,K-y.y),uv:new G(T.x+T.w,T.y),color:r.color||Te.WHITE,opacity:r.opacity||1},x[A*4+2]={pos:new G(_+W-y.x,K+P-y.y),uv:new G(T.x+T.w,T.y+T.h),color:r.color||Te.WHITE,opacity:r.opacity||1},x[A*4+3]={pos:new G(_-y.x,K+P-y.y),uv:new G(T.x,T.y+T.h),color:r.color||Te.WHITE,opacity:r.opacity||1},A++},"addQuad");for(let _=0;_<C;_++){for(let K=0;K<E;K++)N(K*i,_*s,i,s,t);m&&N(E*i,_*s,i*m,s,new nt(t.x,t.y,t.w*m,t.h))}if(M){for(let _=0;_<E;_++)N(_*i,C*s,i,s*M,new nt(t.x,t.y,t.w,t.h*M));m&&N(E*i,C*s,i*m,s*M,new nt(t.x,t.y,t.w*m,t.h*M))}ir(x,D,r.fixed,r.tex,r.shader,r.uniform??void 0)}else r.width&&r.height?(a.x=r.width/i,a.y=r.height/s):r.width?(a.x=r.width/i,a.y=a.x):r.height&&(a.y=r.height/s,a.x=a.y),So(Object.assign({},r,{scale:a.scale(r.scale||new G(1)),tex:r.tex,quad:t,width:i,height:s}))}f(Ss,"drawTexture");function qm(r){if(!r.sprite)throw new Error('drawSprite() requires property "sprite"');let t=gs(r.sprite);if(!t||!t.data)return;let i=t.data.frames[r.frame??0];if(!i)throw new Error(`Frame not found: ${r.frame??0}`);Ss(Object.assign({},r,{tex:t.data.tex,quad:i.scale(r.quad??new nt(0,0,1,1))}))}f(qm,"drawSprite");function Om(r,t){let i=w.gfx.ggl.gl;fd(r,t,i.NOTEQUAL)}f(Om,"drawSubtracted");function Tc(r){jr(br(r))}f(Tc,"drawText");var Dw=f((r,t)=>{let i=Sa(t,Sc,kc),s=r.pixelDensity??1,a=r.scale??1,{gl:u}=t,d=Tr.fromImage(t,new ImageData(new Uint8ClampedArray([255,255,255,255]),1,1)),y=r.width&&r.height?new ia(t,r.width*s*a,r.height*s*a):new ia(t,u.drawingBufferWidth,u.drawingBufferHeight),p=null,g=1;r.background&&(typeof r.background=="string"?p=qe(r.background):(p=qe(...r.background),g=r.background[3]??1),u.clearColor(p.r/255,p.g/255,p.b/255,g??1)),u.enable(u.BLEND),u.blendFuncSeparate(u.ONE,u.ONE_MINUS_SRC_ALPHA,u.ONE,u.ONE_MINUS_SRC_ALPHA);let E=new Tw(t,Jc,Kv,Yv),C=Tr.fromImage(t,new ImageData(new Uint8ClampedArray([128,128,128,255,190,190,190,255,190,190,190,255,128,128,128,255]),2,2),{wrap:"repeat",filter:"nearest"});return{lastDrawCalls:0,ggl:t,defShader:i,defTex:d,frameBuffer:y,postShader:null,postShaderUniform:null,renderer:E,transform:new Un,transformStack:[],bgTex:C,bgColor:p,bgAlpha:g,width:r.width??u.drawingBufferWidth/s/a,height:r.height??u.drawingBufferHeight/s/a,viewport:{x:0,y:0,width:u.drawingBufferWidth,height:u.drawingBufferHeight},fixed:!1}},"initAppGfx");function pd(){let r=w.pixelDensity,t=w.gfx.ggl.gl.drawingBufferWidth/r,i=w.gfx.ggl.gl.drawingBufferHeight/r;if(w.globalOpt.letterbox){if(!w.globalOpt.width||!w.globalOpt.height)throw new Error("Letterboxing requires width and height defined.");let s=t/i,a=w.globalOpt.width/w.globalOpt.height;if(s>a){let u=i*a,d=(t-u)/2;w.gfx.viewport={x:d,y:0,width:u,height:i}}else{let u=t/a,d=(i-u)/2;w.gfx.viewport={x:0,y:d,width:t,height:u}}return}if(w.globalOpt.stretch&&(!w.globalOpt.width||!w.globalOpt.height))throw new Error("Stretching requires width and height defined.");w.gfx.viewport={x:0,y:0,width:t,height:i}}f(pd,"updateViewport");function Dr(r){return r.fixed?!0:r.parent?Dr(r.parent):!1}f(Dr,"isFixed");function Ur(r){return{color:r.color,opacity:r.opacity,anchor:r.anchor,outline:r.outline,shader:r.shader,uniform:r.uniform}}f(Ur,"getRenderProps");function bm(r,t={}){return{id:"circle",radius:r,draw(){mi(Object.assign(Ur(this),{radius:this.radius,fill:t.fill}))},renderArea(){return new Xe(new G(this.anchor?0:-this.radius),this.radius*2,this.radius*2)},inspect(){return`radius: ${Math.ceil(this.radius)}`}}}f(bm,"circle");function gd(...r){return{id:"color",color:qe(...r),inspect(){return`color: ${this.color.toString()}`}}}f(gd,"color");function jm(r){return{add(){this.canvas=r}}}f(jm,"drawon");function Um(r=1){let t,i=0,s=!1;return{require:["opacity"],add(){t=this.opacity,this.opacity=0},update(){s||(i+=vt(),this.opacity=Rn(i,0,r,0,t),i>=r&&(this.opacity=t,s=!0))}}}f(Um,"fadeIn");function zm(r="intersect"){return{id:"mask",mask:r}}f(zm,"mask");function md(r){return{id:"opacity",opacity:r??1,fadeIn(t=1,i=w.k.easings.linear){return w.game.root.tween(0,this.opacity,t,s=>this.opacity=s,i)},fadeOut(t=1,i=w.k.easings.linear){return w.game.root.tween(this.opacity,0,t,s=>this.opacity=s,i)},inspect(){return`opacity: ${ea(this.opacity,1)}`}}}f(md,"opacity");function _m(r=1,t=qe(0,0,0),i=1,s="miter",a=10,u="butt"){return{id:"outline",outline:{width:r,color:t,opacity:i,join:s,miterLimit:a,cap:u},inspect(){return`outline: ${this.outline.width}px, ${this.outline.color}`}}}f(_m,"outline");var mo,Iw=(mo=class{constructor(){q(this,"pos",z(0));q(this,"vel",z(0));q(this,"acc",z(0));q(this,"angle",0);q(this,"angularVelocity",0);q(this,"damping",0);q(this,"t");q(this,"lt",null);q(this,"gc");this.t=0,this.gc=!0}get progress(){return this.lt?this.t/this.lt:this.t}},f(mo,"Particle"),mo);function Vm(r,t){let i=t.lifetime,s=[],a=r.colors||[Te.WHITE],u=r.opacities||[1],d=r.quads||[new nt(0,0,1,1)],y=r.scales||[1],p=r.lifeTime,g=t.direction,E=t.spread,C=r.speed||[0,0],m=r.angle||[0,0],M=r.angularVelocity||[0,0],S=r.acceleration||[z(0),z(0)],D=r.damping||[0,0],x=[],A=new Array(r.max),N=0,_=0;for(let P=0;P<r.max;P++){x[P*6+0]=P*4+0,x[P*6+1]=P*4+1,x[P*6+2]=P*4+3,x[P*6+3]=P*4+1,x[P*6+4]=P*4+2,x[P*6+5]=P*4+3;for(let T=0;T<4;T++)A[P*4+T]={pos:new G(0,0),uv:new G(0,0),color:qe(255,255,255),opacity:1};s[P]=new Iw}let K=new Ht;function W(P=0){for(;P<r.max;){if(s[P].gc)return P;P++}return null}return f(W,"nextFree"),{id:"particles",emit(P){let T=0;for(let U=0;U<P;U++){if(T=W(T),T==null)return;let V=yt(g-E,g+E),Y=G.fromAngle(V).scale(yt(C[0],C[1])),te=yt(m[0],m[1]),oe=yt(M[0],M[1]),ge=z(yt(S[0].x,S[1].x),yt(S[0].y,S[1].y)),ve=yt(D[0],D[1]),Se=p?yt(p[0],p[1]):null,fe=t.shape?t.shape.random():z(),ue=s[T];ue.lt=Se,ue.pos=fe,ue.vel=Y,ue.acc=ge,ue.angle=te,ue.angularVelocity=oe,ue.damping=ve,ue.angularVelocity=oe,ue.gc=!1}N+=P},update(){if(i!==void 0&&i<=0)return;let P=vt();for(let T of s)if(!T.gc){if(T.t+=P,T.lt&&T.t>=T.lt){T.gc=!0,N--;continue}T.vel=T.vel.add(T.acc.scale(P)).scale(1-T.damping*P),T.pos=T.pos.add(T.vel.scale(P)),T.angle+=T.angularVelocity*P}for(i!==void 0&&(i-=P,i<=0&&K.trigger()),_+=P;N<r.max&&t.rate&&_>t.rate;)this.emit(1),N++,_-=t.rate},draw(){if(!(i!==void 0&&i<=0)){for(let P=0;P<s.length;P++){let T=s[P];if(T.gc)continue;let U=T.progress,V=Math.floor(T.progress*a.length),Y=V<a.length-1?Wt(a[V],a[V+1],Rn(U,V/a.length,(V+1)/a.length,0,1)):a[V],te=Math.floor(T.progress*u.length),oe=te<u.length-1?Wt(u[te],u[te+1],Rn(U,te/u.length,(te+1)/u.length,0,1)):u[te],ge=Math.floor(T.progress*d.length),ve=d[ge],Se=Math.floor(T.progress*y.length),fe=y[Se],ue=Math.cos(T.angle*Math.PI/180),Z=Math.sin(T.angle*Math.PI/180),re=(r.texture?r.texture.width:10)*ve.w/2,$=(r.texture?r.texture.height:10)*ve.h/2,B=P*4,b=A[B];b.pos.x=T.pos.x+-re*fe*ue- -$*fe*Z,b.pos.y=T.pos.y+-re*fe*Z+-$*fe*ue,b.uv.x=ve.x,b.uv.y=ve.y,b.color.r=Y.r,b.color.g=Y.g,b.color.b=Y.b,b.opacity=oe,b=A[B+1],b.pos.x=T.pos.x+re*fe*ue- -$*fe*Z,b.pos.y=T.pos.y+re*fe*Z+-$*fe*ue,b.uv.x=ve.x+ve.w,b.uv.y=ve.y,b.color.r=Y.r,b.color.g=Y.g,b.color.b=Y.b,b.opacity=oe,b=A[B+2],b.pos.x=T.pos.x+re*fe*ue-$*fe*Z,b.pos.y=T.pos.y+re*fe*Z+$*fe*ue,b.uv.x=ve.x+ve.w,b.uv.y=ve.y+ve.h,b.color.r=Y.r,b.color.g=Y.g,b.color.b=Y.b,b.opacity=oe,b=A[B+3],b.pos.x=T.pos.x+-re*fe*ue-$*fe*Z,b.pos.y=T.pos.y+-re*fe*Z+$*fe*ue,b.uv.x=ve.x,b.uv.y=ve.y+ve.h,b.color.r=Y.r,b.color.g=Y.g,b.color.b=Y.b,b.opacity=oe}ir(A,x,this.fixed,r.texture,this.shader,this.uniform)}},onEnd(P){return K.add(P)},inspect(){return`count: ${N}/${r.max}`}}}f(Vm,"particles");function Hm(r,t={}){if(r.length<3)throw new Error(`Polygon's need more than two points, ${r.length} points provided`);return{id:"polygon",pts:r,colors:t.colors,uv:t.uv,tex:t.tex,radius:t.radius,draw(){tr(Object.assign(Ur(this),{pts:this.pts,colors:this.colors,uv:this.uv,tex:this.tex,radius:this.radius,fill:t.fill,triangulate:t.triangulate}))},renderArea(){return new Qt(this.pts)},inspect(){return`polygon: ${this.pts.map(i=>`[${i.x},${i.y}]`).join(",")}`}}}f(Hm,"polygon");function yd(r,t,i){let s;return w.game.root.get("area").forEach(a=>{if(i&&i.some(d=>a.is(d)))return;let u=a.worldArea().raycast(r,t);u&&(s?u.fraction<s.fraction&&(s=u,s.object=a):(s=u,s.object=a))}),s}f(yd,"raycast");function vd(r,t,i={}){return{id:"rect",width:r,height:t,radius:i.radius||0,draw(){tn(Object.assign(Ur(this),{width:this.width,height:this.height,radius:this.radius,fill:i.fill}))},renderArea(){return new Xe(z(0),this.width,this.height)},inspect(){return`rect: (${Math.ceil(this.width)}w, ${Math.ceil(this.height)}h)`}}}f(vd,"rect");function Gm(r,t){return{id:"shader",shader:r,...typeof t=="function"?{uniform:t(),update(){this.uniform=t()}}:{uniform:t},inspect(){return`shader: ${r}`}}}f(Gm,"shader");function wd(...r){w.game.cam.pos=z(...r)}f(wd,"setCamPos");function xd(){return w.game.cam.pos?w.game.cam.pos.clone():As()}f(xd,"getCamPos");function Ad(...r){w.game.cam.scale=z(...r)}f(Ad,"setCamScale");function Ed(){return w.game.cam.scale.clone()}f(Ed,"getCamScale");function Sd(r){w.game.cam.angle=r}f(Sd,"setCamRot");function kd(){return w.game.cam.angle}f(kd,"getCamRot");function Wm(){return w.game.cam.transform.clone()}f(Wm,"getCamTransform");function Cd(r=qe(255,255,255),t=1){let i=w.game.root.add([vd(Et(),Pt()),gd(r),md(1),Od()]),s=i.fadeOut(t);return s.onEnd(()=>Fd(i)),s}f(Cd,"flash");function Qm(){return w.game.cam.transform.clone()}f(Qm,"camTransform");function Km(r=12){w.game.cam.shake+=r}f(Km,"shake");function la(r){return w.game.cam.transform.multVec2(r)}f(la,"toScreen");function Md(r){return w.game.cam.transform.invert().multVec2(r)}f(Md,"toWorld");function Ym(...r){return pi("camPos","setCamPos / getCamPos"),r.length>0&&wd(...r),xd()}f(Ym,"camPos");function Xm(...r){return pi("camScale","setCamScale / getCamScale"),r.length>0&&Ad(...r),Ed()}f(Xm,"camScale");function Zm(r){return pi("camRot","setCamRot / getCamRot"),r!==void 0&&Sd(r),kd()}f(Zm,"camRot");function Jm(r=qe(255,255,255),t=1){return pi("camFlash","flash"),Cd(r,t)}f(Jm,"camFlash");function $m(r,t){if(!t.tileWidth||!t.tileHeight)throw new Error("Must provide tileWidth and tileHeight.");let i=w.game.root.add([ks(t.pos??z(0))]),s=r.length,a=0,u=null,d=null,y=null,p=null,g=f(P=>P.x+P.y*a,"tile2Hash"),E=f(P=>z(Math.floor(P%a),Math.floor(P/a)),"hash2Tile"),C=f(()=>{u=[];for(let P of i.children)m(P)},"createSpatialMap"),m=f(P=>{let T=g(P.tilePos);u[T]?u[T].push(P):u[T]=[P]},"insertIntoSpatialMap"),M=f(P=>{let T=g(P.tilePos);if(u[T]){let U=u[T].indexOf(P);U>=0&&u[T].splice(U,1)}},"removeFromSpatialMap"),S=f(()=>{let P=!1;for(let T of i.children){let U=i.pos2Tile(T.pos);(T.tilePos.x!=U.x||T.tilePos.y!=U.y)&&(P=!0,M(T),T.tilePos.x=U.x,T.tilePos.y=U.y,m(T))}P&&i.trigger("spatialMapChanged")},"updateSpatialMap"),D=f(()=>{let P=i.getSpatialMap(),T=i.numRows()*i.numColumns();d?d.length=T:d=new Array(T),d.fill(1,0,T);for(let U=0;U<P.length;U++){let V=P[U];if(V){let Y=0;for(let te of V)if(te.isObstacle){Y=1/0;break}else Y+=te.cost;d[U]=Y||1}}},"createCostMap"),x=f(()=>{let P=i.getSpatialMap(),T=i.numRows()*i.numColumns();y?y.length=T:y=new Array(T),y.fill(15,0,T);for(let U=0;U<P.length;U++){let V=P[U];if(V){let Y=V.length,te=15;for(let oe=0;oe<Y;oe++)te|=V[oe].edgeMask;y[U]=te}}},"createEdgeMap"),A=f(()=>{let P=i.numRows()*i.numColumns(),T=f((V,Y)=>{let te=[];for(te.push(V);te.length>0;){let oe=te.pop();K(oe).forEach(ge=>{p[ge]<0&&(p[ge]=Y,te.push(ge))})}},"traverse");p?p.length=P:p=new Array(P),p.fill(-1,0,P);let U=0;for(let V=0;V<d.length;V++){if(p[V]>=0){U++;continue}T(V,U),U++}},"createConnectivityMap"),N=f((P,T)=>d[T],"getCost"),_=f((P,T)=>{let U=E(P),V=E(T);return U.dist(V)},"getHeuristic"),K=f((P,T)=>{let U=[],V=Math.floor(P%a),Y=V>0&&y[P]&1&&d[P-1]!==1/0,te=P>=a&&y[P]&2&&d[P-a]!==1/0,oe=V<a-1&&y[P]&4&&d[P+1]!==1/0,ge=P<a*s-a-1&&y[P]&8&&d[P+a]!==1/0;return T?(Y&&(te&&U.push(P-a-1),U.push(P-1),ge&&U.push(P+a-1)),te&&U.push(P-a),oe&&(te&&U.push(P-a+1),U.push(P+1),ge&&U.push(P+a+1)),ge&&U.push(P+a)):(Y&&U.push(P-1),te&&U.push(P-a),oe&&U.push(P+1),ge&&U.push(P+a)),U},"getNeighbours"),W={id:"level",tileWidth(){return t.tileWidth},tileHeight(){return t.tileHeight},spawn(P,...T){let U=z(...T),V=(()=>{if(typeof P=="string"){if(t.tiles[P]){if(typeof t.tiles[P]!="function")throw new Error("Level symbol def must be a function returning a component list");return t.tiles[P](U)}else if(t.wildcardTile)return t.wildcardTile(P,U)}else{if(Array.isArray(P))return P;throw new Error("Expected a symbol or a component list")}})();if(!V)return null;let Y=!1,te=!1;for(let ge of V)ge.id==="tile"&&(te=!0),ge.id==="pos"&&(Y=!0);Y||V.push(ks(this.tile2Pos(U))),te||V.push(Bd());let oe=i.add(V);return Y&&(oe.tilePosOffset=oe.pos.clone()),oe.tilePos=U,oe.transform=Yi(oe),u&&(m(oe),this.trigger("spatialMapChanged"),this.trigger("navigationMapInvalid")),oe},numColumns(){return a},numRows(){return s},levelWidth(){return a*this.tileWidth()},levelHeight(){return s*this.tileHeight()},tile2Pos(...P){return z(...P).scale(this.tileWidth(),this.tileHeight())},pos2Tile(...P){let T=z(...P);return z(Math.floor(T.x/this.tileWidth()),Math.floor(T.y/this.tileHeight()))},getSpatialMap(){return u||C(),u},removeFromSpatialMap:M,insertIntoSpatialMap:m,onSpatialMapChanged(P){return this.on("spatialMapChanged",P)},onNavigationMapInvalid(P){return this.on("navigationMapInvalid",P)},getAt(P){u||C();let T=g(P);return u[T]||[]},raycast(P,T){let U=this.toWorld(P),V=this.toWorld(P.add(T)).sub(U),Y=1/this.tileWidth(),te=P.scale(Y),oe=cg(te,T,ge=>{let ve=this.getAt(ge);if(ve.some(fe=>fe.isObstacle))return!0;let Se=null;for(let fe of ve)if(fe.has("area")){let ue=fe.worldArea().raycast(U,V);ue&&(Se?ue.fraction<Se.fraction&&(Se=ue,Se.object=fe):(Se=ue,Se.object=fe))}return Se&&(Se.point=this.fromWorld(Se.point).scale(Y)),Se||!1},64);return oe&&(oe.point=oe.point.scale(this.tileWidth())),oe},update(){u&&S()},invalidateNavigationMap(){d=null,y=null,p=null},onNavigationMapChanged(P){return this.on("navigationMapChanged",P)},getTilePath(P,T,U={}){var ue;if(d||D(),y||x(),p||A(),P.x<0||P.x>=a||P.y<0||P.y>=s||T.x<0||T.x>=a||T.y<0||T.y>=s)return null;let V=g(P),Y=g(T);if(d[Y]===1/0)return null;if(V===Y)return[];if(p[V]!=-1&&p[V]!==p[Y])return null;let te=new Ng((Z,re)=>Z.cost<re.cost);te.insert({cost:0,node:V});let oe=new Map;oe.set(V,V);let ge=new Map;for(ge.set(V,0);te.length!==0;){let Z=(ue=te.remove())==null?void 0:ue.node;if(Z===Y)break;let re=K(Z,U.allowDiagonals);for(let $ of re){let B=(ge.get(Z)||0)+N(Z,$)+_($,Y);(!ge.has($)||B<ge.get($))&&(ge.set($,B),te.insert({cost:B,node:$}),oe.set($,Z))}}let ve=[],Se=Y,fe=E(Se);for(ve.push(fe);Se!==V;){let Z=oe.get(Se);if(Z===void 0)throw new Error("Bug in pathfinding algorithm");Se=Z;let re=E(Se);ve.push(re)}return ve.reverse()},getPath(P,T,U={}){let V=this.tileWidth(),Y=this.tileHeight(),te=this.getTilePath(this.pos2Tile(P),this.pos2Tile(T),U);return te?[P,...te.slice(1,-1).map(oe=>oe.scale(V,Y).add(V/2,Y/2)),T]:null}};return i.use(W),i.onNavigationMapInvalid(()=>{i.invalidateNavigationMap(),i.trigger("navigationMapChanged")}),r.forEach((P,T)=>{let U=P.split("");a=Math.max(U.length,a),U.forEach((V,Y)=>{i.spawn(V,z(Y,T))})}),i}f($m,"addLevel");function Kt(r,t,i){return w.game.objEvents.registers[r]||(w.game.objEvents.registers[r]=new _g),w.game.objEvents.on(r,(s,...a)=>{s.is(t)&&i(s,...a)})}f(Kt,"on");var Fw=Qe(r=>{let t=w.game.root.add([{fixedUpdate:r}]);return{get paused(){return t.paused},set paused(i){t.paused=i},cancel:f(()=>t.destroy(),"cancel")}},(r,t)=>Kt("fixedUpdate",r,t)),Bw=Qe(r=>{let t=w.game.root.add([{update:r}]);return{get paused(){return t.paused},set paused(i){t.paused=i},cancel:f(()=>t.destroy(),"cancel")}},(r,t)=>Kt("update",r,t)),Nw=Qe(r=>{let t=w.game.root.add([{draw:r}]);return{get paused(){return t.hidden},set paused(i){t.hidden=i},cancel:f(()=>t.destroy(),"cancel")}},(r,t)=>Kt("draw",r,t)),e0=Qe(r=>w.game.events.on("add",r),(r,t)=>Kt("add",r,t)),Lw=Qe(r=>w.game.events.on("destroy",r),(r,t)=>Kt("destroy",r,t)),qw=Qe(r=>w.game.events.on("use",r),(r,t)=>Kt("use",r,t)),Ow=Qe(r=>w.game.events.on("unuse",r),(r,t)=>Kt("unuse",r,t)),t0=Qe(r=>w.game.events.on("tag",r),(r,t)=>Kt("tag",r,t)),bw=Qe(r=>w.game.events.on("untag",r),(r,t)=>Kt("untag",r,t));function n0(r,t,i){return Kt("collide",r,(s,a,u)=>a.is(t)&&i(s,a,u))}f(n0,"onCollide");function r0(r,t,i){return Kt("collideUpdate",r,(s,a,u)=>a.is(t)&&i(s,a,u))}f(r0,"onCollideUpdate");function i0(r,t,i){return Kt("collideEnd",r,(s,a,u)=>a.is(t)&&i(s,a,u))}f(i0,"onCollideEnd");function Is(r,t){w.game.root.get(r,{recursive:!0}).forEach(t),e0(r,t),t0((i,s)=>{s===r&&t(i)})}f(Is,"forAllCurrentAndFuture");var jw=Qe(r=>w.app.onMousePress(r),(r,t)=>{let i=[];return Is(r,s=>{if(!s.area)throw new Error("onClick() requires the object to have area() component");i.push(s.onClick(()=>t(s)))}),fi.join(i)});function o0(r,t){let i=[];return Is(r,s=>{if(!s.area)throw new Error("onHover() requires the object to have area() component");i.push(s.onHover(()=>t(s)))}),fi.join(i)}f(o0,"onHover");function s0(r,t){let i=[];return Is(r,s=>{if(!s.area)throw new Error("onHoverUpdate() requires the object to have area() component");i.push(s.onHoverUpdate(()=>t(s)))}),fi.join(i)}f(s0,"onHoverUpdate");function l0(r,t){let i=[];return Is(r,s=>{if(!s.area)throw new Error("onHoverEnd() requires the object to have area() component");i.push(s.onHoverEnd(()=>t(s)))}),fi.join(i)}f(l0,"onHoverEnd");function a0(r){w.game.events.on("loading",r)}f(a0,"onLoading");function u0(r){w.app.onResize(r)}f(u0,"onResize");function c0(r){w.game.events.on("error",r)}f(c0,"onError");function Ca(r){w.assets.loaded?r():w.game.events.on("load",r)}f(Ca,"onLoad");function d0(r){if(w.assets.loaded)td().forEach(t=>r(...t));else return w.game.events.on("loadError",r)}f(d0,"onLoadError");function Ma(r=[]){let t=new Map,i=[],s={},a=new ws,u=[],d=new Set("*"),y=w.globalOpt.tagsAsComponents,p=null,g=!1,E={id:ow(),hidden:!1,transform:new Un,children:[],parent:null,set paused(m){if(m!==g){g=m;for(let M of u)M.paused=m}},get paused(){return g},get tags(){return Array.from(d)},add(m){let M=Array.isArray(m)?Ma(m):m;if(M.parent)throw new Error("Cannot add a game obj that already has a parent.");return M.parent=this,M.transform=Yi(M),this.children.push(M),M.trigger("add",M),w.game.events.trigger("add",M),M},readd(m){let M=this.children.indexOf(m);return M!==-1&&(this.children.splice(M,1),this.children.push(m)),m},remove(m){let M=this.children.indexOf(m);if(M!==-1){m.parent=null,this.children.splice(M,1);let S=f(D=>{D.trigger("destroy"),w.game.events.trigger("destroy",D),D.children.forEach(x=>S(x))},"trigger");S(m)}},removeAll(m){if(m)this.get(m).forEach(M=>this.remove(M));else for(let M of[...this.children])this.remove(M)},fixedUpdate(){this.paused||(this.children.forEach(m=>m.fixedUpdate()),this.trigger("fixedUpdate"))},update(){this.paused||(this.children.forEach(m=>m.update()),this.trigger("update"))},draw(){if(this.hidden)return;this.canvas&&(en(),this.canvas.bind());let m=w.gfx.fixed;this.fixed&&(w.gfx.fixed=!0),$t(),tt(this.pos),Eo(this.scale),hi(this.angle);let M=this.children.sort((S,D)=>{let x=S.layerIndex??w.game.defaultLayerIndex,A=D.layerIndex??w.game.defaultLayerIndex;return x-A||(S.z??0)-(D.z??0)});if(this.mask){let S={intersect:w.k.drawMasked,subtract:w.k.drawSubtracted}[this.mask];if(!S)throw new Error(`Invalid mask func: "${this.mask}"`);S(()=>{M.forEach(D=>D.draw())},()=>{this.trigger("draw")})}else this.trigger("draw"),M.forEach(S=>S.draw());Gt(),w.gfx.fixed=m,this.canvas&&(en(),this.canvas.unbind())},drawInspect(){this.hidden||($t(),tt(this.pos),Eo(this.scale),hi(this.angle),this.children.forEach(m=>m.drawInspect()),this.trigger("drawInspect"),Gt())},use(m){var D;if(typeof m=="string")return d.add(m);let M=[];m.id?(this.unuse(m.id),s[m.id]=[],M=s[m.id],t.set(m.id,m)):i.push(m),y&&d.add(m.id);for(let x in m){if(Jv.has(x))continue;let A=Object.getOwnPropertyDescriptor(m,x);if(A)if(typeof A.value=="function"&&(m[x]=m[x].bind(this)),A.set&&Object.defineProperty(m,x,{set:A.set.bind(this)}),A.get&&Object.defineProperty(m,x,{get:A.get.bind(this)}),$v.has(x)){let N=x==="add"?()=>{var _;p=f(K=>M.push(K),"onCurCompCleanup"),(_=m[x])==null||_.call(m),p=null}:m[x];M.push(this.on(x,N).cancel)}else if(this[x]===void 0)Object.defineProperty(this,x,{get:f(()=>m[x],"get"),set:f(N=>m[x]=N,"set"),configurable:!0,enumerable:!0}),M.push(()=>delete this[x]);else{let N=(D=t.values().find(_=>_[x]!==void 0))==null?void 0:D.id;throw new Error(`Duplicate component property: "${x}" while adding component "${m.id}"`+(N?` (originally added by "${N}")`:""))}}let S=f(()=>{if(m.require){for(let x of m.require)if(!this.c(x))throw new Error(`Component "${m.id}" requires component "${x}"`)}},"checkDeps");m.destroy&&M.push(m.destroy.bind(this)),this.exists()?(S(),m.add&&(p=f(x=>M.push(x),"onCurCompCleanup"),m.add.call(this),p=null),m.id&&(this.trigger("use",m.id),w.game.events.trigger("use",this,m.id))):m.require&&M.push(this.on("add",S).cancel)},unuse(m){if(t.has(m)){for(let M of t.values())if(M.require&&M.require.includes(m))throw new Error(`Can't unuse. Component "${M.id}" requires component "${m}"`);t.delete(m),this.trigger("unuse",m),w.game.events.trigger("unuse",this,m)}else y&&d.has(m)&&d.delete(m);s[m]&&(s[m].forEach(M=>M()),delete s[m])},c(m){return t.get(m)??null},get(m,M={}){let S=f((x,A)=>M.only==="comps"?x.has(A):M.only==="tags"?x.is(A):x.is(A)||x.has(A),"checkTagsOrComps"),D=M.recursive?this.children.flatMap(f(function x(A){return[A,...A.children.flatMap(x)]},"recurse")):this.children;if(D=D.filter(x=>m?S(x,m):!0),M.liveUpdate){let x=f(N=>M.recursive?this.isAncestorOf(N):N.parent===this,"isChild"),A=[];A.push(w.k.onAdd(N=>{x(N)&&S(N,m)&&D.push(N)})),A.push(w.k.onDestroy(N=>{if(x(N)&&S(N,m)){let _=D.findIndex(K=>K.id===N.id);_!==-1&&D.splice(_,1)}})),this.onDestroy(()=>{for(let N of A)N.cancel()})}return D},query(m){let M=m.hierarchy||"children",S=m.include,D=m.exclude,x=[];switch(M){case"children":x=this.children;break;case"siblings":x=this.parent?this.parent.children.filter(N=>N!==this):[];break;case"ancestors":let A=this.parent;for(;A;)x.push(A),A=A.parent;break;case"descendants":x=this.children.flatMap(f(function N(_){return[_,..._.children.flatMap(N)]},"recurse"));break}if(S&&((m.includeOp||"and")==="and"||!Array.isArray(m.include)?x=x.filter(A=>A.is(S)):x=x.filter(A=>m.include.some(N=>A.is(N)))),D&&((m.includeOp||"and")==="and"||!Array.isArray(m.include)?x=x.filter(A=>!A.is(D)):x=x.filter(A=>!m.exclude.some(N=>A.is(N)))),m.visible===!0&&(x=x.filter(A=>A.visible)),m.distance){if(!this.pos)throw Error("Can't do a distance query from an object without pos");let A=m.distanceOp||"near",N=m.distance*m.distance;A==="near"?x=x.filter(_=>_.pos&&this.pos.sdist(_.pos)<=N):x=x.filter(_=>_.pos&&this.pos.sdist(_.pos)>N)}return m.name&&(x=x.filter(A=>A.name===m.name)),x},isAncestorOf(m){return m.parent?m.parent===this||this.isAncestorOf(m.parent):!1},exists(){return w.game.root.isAncestorOf(this)},is(m,M="and"){return Array.isArray(m)?M==="and"?m.every(S=>d.has(S)):m.some(S=>d.has(S)):d.has(m)},tag(m){if(Array.isArray(m))for(let M of m)d.add(M),this.trigger("tag",M),w.game.events.trigger("tag",this,M);else d.add(m),this.trigger("tag",m),w.game.events.trigger("tag",this,m)},untag(m){if(Array.isArray(m))for(let M of m)d.delete(M),this.trigger("untag",M),w.game.events.trigger("untag",this,M);else d.delete(m),this.trigger("untag",m),w.game.events.trigger("untag",this,m)},has(m,M="and"){return Array.isArray(m)?M==="and"?m.every(S=>t.has(S)):m.some(S=>t.has(S)):t.has(m)},on(m,M){let S=a.on(m,M.bind(this));return p&&p(()=>S.cancel()),S},trigger(m,...M){a.trigger(m,...M),w.game.objEvents.trigger(m,this,...M)},destroy(){this.parent&&this.parent.remove(this)},inspect(){var M;let m={};for(let[S,D]of t)m[S]=((M=D.inspect)==null?void 0:M.call(D))??null;for(let[S,D]of i.entries()){if(D.inspect){m[S]=D.inspect();continue}for(let[x,A]of Object.entries(D))typeof A!="function"&&(m[x]=`${x}: ${A}`)}return m},onAdd(m){return this.on("add",m)},onFixedUpdate(m){return this.on("fixedUpdate",m)},onUpdate(m){return this.on("update",m)},onDraw(m){return this.on("draw",m)},onDestroy(m){return this.on("destroy",m)},onUse(m){return this.on("use",m)},onUnuse(m){return this.on("unuse",m)},clearEvents(){a.clear()}},C=["onKeyPress","onKeyPressRepeat","onKeyDown","onKeyRelease","onMousePress","onMouseDown","onMouseRelease","onMouseMove","onCharInput","onMouseMove","onTouchStart","onTouchMove","onTouchEnd","onScroll","onGamepadButtonPress","onGamepadButtonDown","onGamepadButtonRelease","onGamepadStick","onButtonPress","onButtonDown","onButtonRelease"];for(let m of C)E[m]=(...M)=>{var D,x;let S=(x=(D=w.app)[m])==null?void 0:x.call(D,...M);return u.push(S),E.onDestroy(()=>S.cancel()),E.on("sceneEnter",()=>{var N,_;u.splice(u.indexOf(S),1);let A=(_=(N=w.app)[m])==null?void 0:_.call(N,...M);fi.replace(S,A),u.push(S)}),S};for(let m of r)E.use(m);return E}f(Ma,"make");var Uw=f(()=>({events:new ws,objEvents:new ws,root:Ma([]),gravity:null,scenes:{},currentScene:null,layers:null,defaultLayerIndex:0,logs:[],cam:{pos:null,scale:new G(1),angle:0,shake:0,transform:new Un}}),"initGame");function h0(r){w.game.gravity=r?(w.game.gravity||z(0,1)).unit().scale(r):null}f(h0,"setGravity");function f0(){return w.game.gravity?w.game.gravity.len():0}f(f0,"getGravity");function p0(r){w.game.gravity=r.unit().scale(w.game.gravity?w.game.gravity.len():1)}f(p0,"setGravityDirection");function Zi(){return w.game.gravity?w.game.gravity.unit():z(0,1)}f(Zi,"getGravityDirection");var zw=Ov("//uUBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAASW5mbwAAAA8AAAATAAAeAAANDQ0NDRoaGhoaKCgoKCg1NTU1NTVDQ0NDQ1BQUFBQXl5eXl5ra2tra2t5eXl5eYaGhoaGlJSUlJShoaGhoaGvr6+vr7y8vLy8ysrKysrX19fX19fl5eXl5fLy8vLy//////8AAAA5TEFNRTMuMTAwAaoAAAAAAAAAABSAJAOPhgAAgAAAHgBaqIlmAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//uUBAAP8h1kPIABR4BEDGeQAEbkSb2RAACBFMEyMiAAASJw4xjgwAGyRvfIoZT2QKGV5YNw/tKID9+X93qXtBQUFBQ/e+EFKTQUT/dy3f5dK/3d04rkXHpufCClDAaH7jDMgFAQEGfPt+jI352U9vU4GLRpzkUDeeeTQggQe2ggF3d7/3j697DnhCH5iGf38//iNj9oy2Jk71oj+CBAABGNB4RJNMwgCABCB//8//l////1z6XEGd73az07sOkwZD9VYgjzjmQ6j4EMfZM86OJ7GUWwvFw3ZPcdVEtczf9RNf6xMyxLjZZgjMQ7KDkLSU8g2E12UDUWrf//////9LdtFdeeqKwSitW9SJL59VM5pyUGiBNiK0jIGO0j7p3pUpWpaeqi1nTvqP3b43mGmM6HeXFjIlRwiFiIDQRRAGgkDQhxMMv//+f1//6XM/PfMvysJa3993MjDjhaRkrV3cRPXjGptDDGTHtFKUeMHU0K5STvVfMtVX/UXHctt1Z1//uUBB0AgnZkQAAgRTBMzIgAACiqCdB9E1QRgAFuIuGmhjABPZRJRCHi4etY2gcEYRwFw5KFBMMRV/////z6kX2ppnJszEzKbkZKEumm+pBRUDBg9IsgXGXrazn1QhmGjBrLVjT5Xvir0HT7d//HSZh18IZdji2N5JZgbA3DwQAahogSDqUhQuNtpJmBTwAGMY2QP3c/dy4EKsAABoXEJEFmlf/c4TgYtwcAbwfD4gOOoS1QIH7jDnNzYVe1x4mNFyD2jMVaaykjV29ePMARwXcUOgAFr+UjhVz4jhwMDFxPKgYs3cDFpohVgAAYAIO7u8eAAjRNA7hBFAwN3ACDvu7nETkLMrnyIj8v/9fNwhF9vKRfm82P5zPPmLV/WKs9G3d16n/v3rubEN0zgs7RdWrHne9brdv5bI4EwEAM6lj7aVdTKtXQHgLdzCKQ2kcihe4FyMcD1r3nR4TWxuax5EOZJEs3DEQnjyqyB8cSfrI6GEcoJxiHBDEfrTOFYrO1//uUBCgAA406ym5hgAB1R1ktzDwACxDBZzj0gAFhGrA3HoACypAXH9HY4umZan4ZlZKldajczMzMzOTnzMvnb77f/1IuSzHIbnJLJdapWmwUAQBXqWPtqV1OyqVqXhB9abR90OyKEsM51pIJK/nXplbDPtKz2dH+oVWeZSm8z7nvAZ19bneqhk3qeBhrhZiLbCc8sRnXb520RnPFd61/AgSR4f8CVlfWpD/////+N6/jv8v4f/6Ln///06c8YYcQIaGmAJ9VhMHEZYc9Kn0TOOYKv2cibDoZieAaGy4Cd6AfGkxQQr+agomAw+dC7AkjOxklIZEpUgmHxXP7/znl/4qT9Z/8+T2a0WF9/lvpv39if/KZnV6Gp1vQRmN1rYDAADfLGQxVR2d49LQLXdImm5n40smwjQ4aIYKMeKCOEw0OBV5cHA8cFV8mB5LyIIeksHspy79/iTv9SH+v66f2Wn/i+Lt//x9y//5MohgAAXiTCVBil4RUZ7XUvPRCD9Uc//uUBAoAAro3Wzc9AABXRutm56AACrUhc6eYT0FWpC508wnoO35hs9j6x7PQOB0PF0JWIkYwigNPoXUBA0cKA6JwDB7lRKDm/93r/mb6iEqL5lv3Vq//6YgYd1AgECi4xACCYbHyukYAAF4kwlQYpeEVGe11Lz0Qg/VHDt+YbPY+sez0DgdDxdCViJGMIoDT6F1AQNHCgOicAwe5USg5v/d6/5m+ohKi+Zb91av/+mIGHdQIBAouMQAgmGx8rptmoLKSACTuBBUPFsH6RlCz+UhoKeVfJy/eqOspBG4PScFOnOxYJJcf/nVzmyfR42Zwxy//hfSUrPq1SzFnO7q/SzNUzst+GQpnZ/kLwzVZ9xJ2lVa02zUFlJABJ3AgqHi2D9IyhZ/KQ0FPKvk5fvVHWUgjcHpOCnTnYsEkuP/zq5zZPo8bM4Y5f/wvpKVn1apZiznd1fpZmqZ2W/DIUzs/yF4Zqs+4k7SqtaYkWgEGMgppYQlMVdKcos2bWFZbFIJp//uUBAsAAr0wWe1hAABXpgs9rCAACwS5azj0gAFgly1nHpAAVgWmZa3LaUWCcGh5HgOEYkViyQUjrX+G5FUr5Dla1ZhtXDf7ckpazXwzeusqq+zXwUePSw8NYzlZKWfbyzod4dCRItAIMZBTSwhKYq6U5RZs2sKy2KQTSrAtMy1uW0osE4NDyPAcIxIrFkgpHWv8NyKpXyHK1qzDauG/25JS1mvhm9dZVV9mvgo8elh4axnKyUs+3lnQ7w6EkIEIIZFKlBSAGwRMrEIEuM658s5gvyVtFDrQtgTY2YSPlAJcgwlXLmokM8sUQJYJOm3eaW04jWVsoghX+ZBt3SHFZOypVez//VONpL+du6U+4WLXBC79cuhAhBDIpUoKQA2CJlYhAlxnXPlnMF+StoodaFsCbGzCR8oBLkGEq5c1EhnliiBLBJ027zS2nEaytlEEK/zINu6Q4rJ2VKr2f/6pxtJfzt3Sn3Cxa4IXfrl6IGEh4icUSUDRZk/k88VFEmCy//uUBAkAAociWgZh4ABQ5EtAzDwAC6zBXBmXgAF1mCuDMvAART7WmhWQ9QwYJexoKJ+z1bcQqfEFmtDtXH8lUg2omFi2b/4+UhW/j+bHgwAM8SqMAQFxYj9wqAwhlftf//sSQMJDxE4okoGizJ/J54qKJMFkin2tNCsh6hgwS9jQUT9nq24hU+ILNaHauP5KpBtRMLFs3/x8pCt/H82PBgAZ4lUYAgLixH7hUBhDK/a///YmHznKbibgJd0lEi0TfuHXCfhZ0faHA6GL3GuUpLTgTwnd/upcFAbo+BGMfzKxWE9PNg+sbrEwwRLn6uFElWTc/zN8Yvf5V3xV29///8OO/f7j3cT0mgMTPP9uPEwIQ+c5TcTcBLukokWib9w64T8LOj7Q4HQxe41ylJacCeE7v91LgoDdHwIxj+ZWKwnp5sH1jdYmGCJc/Vwokqybn+ZvjF7/Ku+Ku3v///hx37/ce7iek0BiZ5/tx4mBCmI5QXQAgigG+j0P8fdg2Xjs//uUBAiAAqwlWwY94ABVhKtgx7wACoilZ7z0AAFUlOz3noAAii2PkO1AMBYBIssJqQ5PtEdSQ2WE3xIF22b19axY89F5QQmWCwxJrf51h5mt74jRvBahCxQkS0MgJxY15ITjX3sb+vlGI5QXQAgigG+j0P8fdg2Xjsii2PkO1AMBYBIssJqQ5PtEdSQ2WE3xIF22b19axY89F5QQmWCwxJrf51h5mt74jRvBahCxQkS0MgJxY15ITjX3sb+vlEBsAgCSkHfwmFY/MMKQyg4tjhHeuR2mpSZWstSwEQAw00wZaogwgZL3PPVWw9vuB51zUXf3Df/ytV917DjxQEGA+0mbu4YYg4TnkRcMGQsxH/Ioc1AbAIAkpB38JhWPzDCkMoOLY4R3rkdpqUmVrLUsBEAMNNMGWqIMIGS9zz1VsPb7gedc1F39w3/8rVfdew48UQIFwus29HKDIAW8tcsSGAOKXK/jHmF1AkIAAC8ZUaEFwTHUylbannoarv7HwxH8//uUBAwEAtAx18sMQuBVJisaYSJeCmhnX6eZLQFZJy208wmidE7zXIRk0ZLYCqc1eg1sKc3HZuweFNeSCHHGg+JyhTcd8RE3/+rJXIdH6UpI2qUdVtHGRCOewEOXGUfKG2/v+RIoA0MAAAByh2gABL0EpLTwNTz0qzjM2ER8SF2lsSRLESGiqG5JXMCauo+aTB1GQKTyJd6SDnG6Iv8rkaoYeRihQbVGzJSSQ4sOghQh7vhkf+T0agMeCYAcAABBO40gsg/gOpfIiHoQgldEIGLVK9EaTFmFH9jkkvLA41VT/4q0XDJLUopJkJmWHAqZyRAPJOvBUS+NYSLC4FFjoJkUfGP/La3XNJCMJPep5CkIaRQCSTuM4ikUepPHAnZLEErtHuqs1EWDizBAvsdVeWBxqqn9aiS9FK24Z0KUhvVkY7ZbylKV/SrKiK0yrKqFkPe3/sZ//8xt6t2dajIDpFMRf6tSU9FIlJJKChTJIgq2hhZlrTlNcpaB/Xv5rDOU//uUBA2AAoQl1lVgwARQxLrKrBgAjCyVTrmngAGFkqnXNPAAg4ANdH9PKxIijn/xmvyjW2ZISnLe5yUtyv2ufSTfVJUGyoFiU6s6Crgyd2PEyn5Ul/85kUElPRSJSSSgoUySIKtoYWZa05TXKWgf17+awzlIOADXR/TxLEiKOf/GZ/KNbZkhKct7nJS3K/a59JN9UlQbKgWJTqzoKuDJ3Y8TKflSX/zmRQSCs10kCQCFAcBJCZCbl2c0bF5RBELfoQBmp3G2m3m3lgZoN0/BmhutukeGPbe/GtGj9jtiXNZdfDjIwYiYvnePS27ebO75y/Edksl4SONB/PlBrg6dNh8h+pW2//lktFhYcFZrpIEgEKA4CSEyE3Ls5o2LyiCIW/QgDNTuNtNvNvLAzQbp+DNDdbdI8Me29+NaNH7HbEuay6+HGRgxExfO8elt282d3zl+I7JZLwkcaD+fKDXB06bD5D9Stt//LJaLCw4AhAEAACKEywIJz0PRwTBn6tS2//uUBAmAAmUjVNdhAABMpGqa7CAACWiNUay8pYEtEao1l5SwsvqET9LUv/TIpAROYdsSHIoHxzccjRUPRZmVQnHLH7FYdB9rF8Q11yOCAKeHZHyIhMO///lWz0JPcAQgCAABFCZYEE56Ho4Jgz9WpbWX1CJ+lqX/pkUgInMO2JDkUD45uORoqHoszKoTjlj9isOg+1i+Ia65HBAFPDsj5EQmHf//yrZ6EnuACgcjEAKT2Dfl0wUuCCDwOHgDLjMYs6OLViO840e/fHfBZmadNu+NYYNVT84fPkYRCJ/K5V3vsq0Gh0H0YgBP+moubbodw+IHr/kgAoHIxACk9g35dMFLggg8Dh4Ay4zGLOji1YjvONHv3x3wWZmnTbvjWGDVU/OHz5GEQifyuVd77KtBodB9GIAT/pqLm26HcPiB6/5KAE6OeESRRgDMViF4jCI2bT5fbThs6iKGQfPTVaYtXdjMROEbiIqKlZk1KJAzpcWEnNs6FapfKXq1jerLEhaS//uUBB+BAmUqVWsMKrhMpUqtYYVXCTSlTzWSgAE0lKp2sFAAqcgRPyRHxKsBPAQVtIgCdHPCJIowBmKxC8RhEbNp8vtpw2dRFDIPnpqtMWruxmInCNxEVFSsyalEgZ0uLCTm2dCtUvlL1axvVliQtJVOQIn5Ij4lWAngIK2kQCHQhVnhkMD1BlLGveBt13z8bjbsI+MtfqdjdaAQiJFeBGV0AQFB2Qr8QDBc8iiATM25R8+fqp/Izn9CHGC7CEg5BTqd6jM4IBoADCiIYSTWAeAwKIoGBRr+EfZ3bjcbhhdDLX6nY3WgEIiRXgRloICoOyFfiA4+RRAJmbco+fP1U/kZz+hDjBdhCQcgp1O9QZnAQAbiCQAm485bonLdZ5NLqAAAEaPfiGAJsDpfUrAhC8wIZFkkEsiX6UBGvscp3FQfN5VNjWCnQ6AGqvk/UqZBbG3rpCt0gR7qtiNBxOfSeTupa6fMjXaMuYTclIn9ZIVayP2pYMiVUajtVYufukCu//uUBDWABAw9Uu5p4AKDx9qdzLwAiiyjShmngAFFlGlDNPAAm9bW7Vct6q61jNa/e6f/0cL33T31CoACacjUkabckdbjkoAAQ2Pe5fJoCshU+EXmCMRGkCbpN6UCNfKFHfcVB8kSOgSgDsuTAAtXyfqVMgtjb10hW6QI91XCQyZP85jl1K90+ZGuz5Ewl0gGT+skKsGAr0weA/JVRqO1Vi5+6QK6b1tbtFct6q61jNa+26fG/RwvfdPeIpm6BswQctcoCeIAYEYf1mWXRGbxQSwlUiCoY91ytUSo4mqDAgHrhQ3Y/4l2ptfeDG/xHfQXlda18S59aW+rZz8/Gtf7vXU0aFeJUKxkREA+tA5tnJGCDlrlATxADAjD+syy6IzeKCWEqkQVDHuuVqiVHE1QYEA9cKG7H/Eu1Nr7wY3+I76C8rrWviXPrS31bOfn41r/d66mjQrxKhWMiIgH1oHNs5Iw4nNwugqcGVUIoOnFryq5YBVMFyLPEAM4rxNXgSVW//uUBA+AAtkszwZtgABapZngzbAACxyZTzmkgAljkynnNJABzA8PYTFvx2VIR78NqPytscLolrRXGbLUv3rfHNp37BGU77n4xv9NNmu7larWfrk294JgJMNJQ9k6Z//3mHE5uF0FTgyqhFB04teVXLAKpguRZ4gBnFeJq8CSq2YHh7CYt+OypCPfhtR+VtjhdEtaK4zZal+9b45tO/YIynfc/GN/pps13crVaz9cm3vBMBJhpKLJ0z//vAA/m9Y8//8wALImAAl3wUQQSnfKuPXkDS5Ql5I8JfOufQG0twDlAxToCFKYarEoVqWFNJ6nNVd9fnX5/O72D/GEfeJf1TBIwjlyh7XHDg+dW/e///9oGG0YAH83rHn//mABZEwAEu+CiCCU75Vx68gaXKEvJHhL51z6A2luAcoGKdAQpTDVYlCtSwppPU5qrvr86/P53ewf4wj7xL+qYJGEcuUPa44cHzq373///tAw2joy5iMKijE5A82dFg4+liKoGBQF//uUBAmAAqobToZt4ABVI2nQzbwAClBrX7j0gBFKDWv3HpACuAcKpXhYKYZtV8OtethxIYxrF3onBiRVg0Z5VNJHjodV8sWdI031RiPzue4vQ9IA5zgUawg6s0J1ixM4H0rkVfR6DLmIwqKMTkDzZ0WDj6WIqgYFAW4BwqleFgphm1Xw6162HEhjGsXeicGJFWDRnlU2I8dDqvlizpGm+qMR+dz3F6HpAHOcCjWEHVmhOsWJnA+lcir6PQCI3I43G43HIxGIwIABFJObxBmwXEYYlhzHKcYl4ccyEKlyI6ONNnSpVx1pORjqKXEvGgpRqN/VI1tIQnEAogesbyZtJhhEj7rQutav+WB4ClRCCI3I43G43HIxGIwIABFJObxBmwXEYYlhzHKcYl4ccyEKlyI6ONNnSpVx1pORjqKXEvGgpRqN/VI1tIQnEAogesbyZtJhhEj7rQutav+WB4ClRDWAElxIBP/fgA5BRsQaBJEcORBgUrqXzDOmyQ7B8Js0//uUBA+AAnIbz+9swABNA3nq7ZgACYxbKSxpgQEzi6UljTAh0ph0igLRRPKosl/+21oMFkUfTMlPbu5vLWMhsIpBoJlEBWacSYwqxs0adkSycpqwAugFfb4AMMU0BUCAJUc6VBAkwaXzDlPhDsnkNmmlMVAKAOiieBJHkv/22tBkzUfXZJ+37zy1jILgmkGjpRAVmnCVjCrGzRozkSydWoAAhAKsACEHAmDZAyOJvjXlQsCbLAhfALBGnDuUyMsKxSWoyN41Ma1yzl81ldaycS4FmOc/HeG0F0EouNMvOJY8wRknQ2MHFgo50O9wABCAVYAEIOBMGyBkcTfGvKhYE2WBC+AWCNOHcpkZYViktRkbxqY1rlnL5rK61k4lwLMc5+Od4vceyz2aZfD2t6Yf1T8VpbBUmvyf/6WSCIaFJmBQHBBPnChjBCJpALOEZzWEOoXAjEVcJwU6QNMnCQemw5lYr1wP4Yrd7Kh813KsJITdZtDZdO/Nb/EeIEOq6mn9//uUBCMMglwayou4eTBKg1lRdw8mCRxbKCzswxEuGGWdow2oj0ziXaKZIIhoUmYFAcEE+cKGMEImkAs4RnNYQ6hcCMRVwnBTpA0ycJB6bDmVivXA/hit3sqHzXcqwkhN1m0Nl0781v8R4gQ3qup/2PTcl2geDKLS0Dlz62OeezARhAXGxQHQWEYYrFAT3TZw4FCwS4JDTF8AkaliQVaJoBk2ZlkiTQ2GgZmiQ1TzBSo+AA7JnYoKkVD1ZLuX4AtuEAwAFeAsHNMiPlXBIxSunQZU2GQTJoCe6bOHAoWCXBIaYvkUWljkvhpGS5mWFUrqaky+ZUivDyLT+PkTH9Nf5Jc8MPCT5LS5agFKBGvwAEGuOYUBgViPhKwULrvceUN2EYE5cfjEPVa76oYHc8iajBh079LyeBx+8xsatjP5+f/v9moz085O0y92c1/TLeIQBc5iarAMAtQBhIDsHMLAswKiDlZBMLgFd7jyhuwXBjO4/GIeq131ERQsohipJqEF//uUBDuAAl4rSc1swABNpWkWriAAT6S1N7msABH4Fqa3NYACK3Y2lxKnyqWlj4I9evjntWStpWltoH3a1c9wPfBQe51tv4QIRW5JWpHY2wmAQCAA3Ez8JQ0wQP/M2RNaIDhCYutAAONBBkAlvb4j4+qi40CU4Bh3bhxXygTVd/7vSq0iY6iSWWXrsXQ29eVJCqUsoXWy7X/vdWvP1JZg/tBEovFId////7rne699onXkM9DUl/+GAZBQDf8JEQCKo//+ogQCRyuRRuRthMAgEABkJp6CMpiBP+aMybcYnwznWkEqoAuaC5GfvF8HZFWg/FXSa8blglIwmKgd/7XpVaYZFGTZZe5DuQPushJSpXIpuwbX/vdWvL6kswcmPQFF4Ef3////LXO917pQHTyGedqP//DAMgoD3/CREAiqP/2eqv////////3dk90KlpVV3eUWVjHLZSMUp5hxnpOcO1WpXVXu4ijKYTSd3IJ7Kzt6Wp7FWiGQUEGFRgdCgpRM//uUBB8P8lRjwIcAoABJLFgQ4BQASJmNAgAFHEkIsiAAAaegRMowxhYVZBMOCoAh7/////////79CTkvIITTqZkZjVGEMPHvEBE7IZXMpGVFYqsKyOYw5jjmOZkFDdkZLkW+9NjEIZxbiYixXO5QkcoRVQoYBgYPlK+XmRGbwXaEFZGvWIpZLWEizxltQ9uELQV7E73d3HESrONG7w3dTdpF6Skf/zNT3I6rIKxJy1oKCtGGjj5FDxcKB+HpYd/3//i3rZFOT0N05+QpgWZYZ3pi5biJNCj4fRQQwYK8p48BQUTWPDTbNjkPn8+1VXKvJ7dJ5Gb2mESWLjnHOYNH07r6//////////icK81KXqTXuvQEteLGdY0DKwrjQVTIMKbgE0b41Egi1KxtuNwUpf9X+bNqTUlXbDClWgIlS4wMVc1F0QZc3/N/yto/7eUShjGUstRgIUZXKUrFYwU5SgKOxgYE+krfVkf6St/VpnMaYwpwoCjoZwoCZwqFC4LH//uUBD+P4jNjPwAjN8I7THfwAEnqR8mAugCAcQkHsheEERr40LUwj//hIzL//9k/9rJZ9lks+yyVDL/////81YHZUMj//yZZLHIy7/5qwMHHIyZZL/sslQyNWt/I1DBQYRxPYaxS/////5kn///6on0VEVP/6on/7OVFVO5QwUGEOzyhgaoqKhQwMGCUjt////8qaLdr/qTiyzLxaJxpRTt6RBhIhDZMQU1FMy4xMDCqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq"),_w=f(()=>(()=>{let r=new(window.AudioContext||window.webkitAudioContext),t=r.createGain();t.connect(r.destination);let i=new Es(tm(r));return r.decodeAudioData(zw.buffer.slice(0)).then(s=>{i.buf=s}).catch(s=>{console.error("Failed to load burp: ",s)}),{ctx:r,masterNode:t,burpSnd:i}})(),"initAudio");function g0(r,t={}){let i=new Ht,s=new Audio(r);s.crossOrigin="anonymous",s.loop=!!t.loop,w.audio.ctx.createMediaElementSource(s).connect(w.audio.masterNode);function a(){w.debug.paused||w.app.isHidden()&&!w.globalOpt.backgroundAudio||w.audio.ctx.resume()}f(a,"resumeAudioCtx");function u(){a(),s.play()}return f(u,"play"),t.paused||u(),s.onended=()=>i.trigger(),{play(){u()},seek(d){s.currentTime=d},stop(){s.pause(),this.seek(0)},set loop(d){s.loop=d},get loop(){return s.loop},set paused(d){d?s.pause():u()},get paused(){return s.paused},time(){return s.currentTime},duration(){return s.duration},set volume(d){s.volume=Dn(d,0,1)},get volume(){return s.volume},set speed(d){s.playbackRate=Math.max(d,0)},get speed(){return s.playbackRate},set detune(d){},get detune(){return 0},onEnd(d){return i.add(d)},then(d){return this.onEnd(d)}}}f(g0,"playMusic");function m0(r,t={}){if(typeof r=="string"&&w.assets.music[r])return g0(w.assets.music[r],t);let i=w.audio.ctx,s=t.paused??!1,a=i.createBufferSource(),u=new Ht,d=i.createGain(),y=i.createStereoPanner(),p=t.seek??0,g=0,E=0,C=!1;a.loop=!!t.loop,a.detune.value=t.detune??0,a.playbackRate.value=t.speed??1,a.connect(y),a.onended=()=>{var x;S()>=(((x=a.buffer)==null?void 0:x.duration)??Number.POSITIVE_INFINITY)&&u.trigger()},y.pan.value=t.pan??0,y.connect(d),d.connect(w.audio.masterNode),d.gain.value=t.volume??1;let m=f(x=>{a.buffer=x.buf,s||(g=i.currentTime,a.start(0,p),C=!0)},"start"),M=km(r);M instanceof pn&&M.onLoad(m);let S=f(()=>{if(!a.buffer)return 0;let x=s?E-g:i.currentTime-g,A=a.buffer.duration;return a.loop?x%A:Math.min(x,A)},"getTime"),D=f(x=>{let A=i.createBufferSource();return A.buffer=x.buffer,A.loop=x.loop,A.playbackRate.value=x.playbackRate.value,A.detune.value=x.detune.value,A.onended=x.onended,A.connect(y),A},"cloneNode");return{stop(){this.paused=!0,this.seek(0)},set paused(x){if(s!==x)if(s=x,x)C&&(a.stop(),C=!1),E=i.currentTime;else{a=D(a);let A=E-g;a.start(0,A),C=!0,g=i.currentTime-A,E=0}},get paused(){return s},play(x=0){this.seek(x),this.paused=!1},seek(x){var A;(A=a.buffer)!=null&&A.duration&&(x>a.buffer.duration||(s?(a=D(a),g=E-x):(a.stop(),a=D(a),g=i.currentTime-x,a.start(0,x),C=!0,E=0)))},set speed(x){a.playbackRate.value=x},get speed(){return a.playbackRate.value},set detune(x){a.detune.value=x},get detune(){return a.detune.value},set volume(x){d.gain.value=Math.max(x,0)},get volume(){return d.gain.value},set pan(x){y.pan.value=x},get pan(){return y.pan.value},set loop(x){a.loop=x},get loop(){return a.loop},duration(){var x;return((x=a.buffer)==null?void 0:x.duration)??0},time(){return S()%this.duration()},onEnd(x){return u.add(x)},then(x){return this.onEnd(x)}}}f(m0,"play");function Pd(r){return w.k.play(w.audio.burpSnd,r)}f(Pd,"burp");function Rd(r){w.audio.masterNode.gain.value=r}f(Rd,"setVolume");function Td(){return w.audio.masterNode.gain.value}f(Td,"getVolume");function y0(r){return pi("volume","setVolume / getVolume"),r!==void 0&&Rd(r),Td()}f(y0,"volume");function Dd(){w.app.onHide(()=>{w.globalOpt.backgroundAudio||w.audio.ctx.suspend()}),w.app.onShow(()=>{!w.globalOpt.backgroundAudio&&!w.debug.paused&&w.audio.ctx.resume()}),w.app.onResize(()=>{if(w.app.isFullscreen())return;let r=w.globalOpt.width&&w.globalOpt.height;r&&!w.globalOpt.stretch&&!w.globalOpt.letterbox||(w.canvas.width=w.canvas.offsetWidth*w.pixelDensity,w.canvas.height=w.canvas.offsetHeight*w.pixelDensity,pd(),r||(w.gfx.frameBuffer.free(),w.gfx.frameBuffer=new ia(w.gfx.ggl,w.gfx.ggl.gl.drawingBufferWidth,w.gfx.ggl.gl.drawingBufferHeight),w.gfx.width=w.gfx.ggl.gl.drawingBufferWidth/w.pixelDensity/w.gscale,w.gfx.height=w.gfx.ggl.gl.drawingBufferHeight/w.pixelDensity/w.gscale))}),w.globalOpt.debug!==!1&&(w.app.onKeyPress(w.globalOpt.debugKey??"f1",()=>w.debug.inspect=!w.debug.inspect),w.app.onKeyPress("f2",()=>w.debug.clearLog()),w.app.onKeyPress("f8",()=>w.debug.paused=!w.debug.paused),w.app.onKeyPress("f7",()=>{w.debug.timeScale=ea(Dn(w.debug.timeScale-.2,0,2),1)}),w.app.onKeyPress("f9",()=>{w.debug.timeScale=ea(Dn(w.debug.timeScale+.2,0,2),1)}),w.app.onKeyPress("f10",()=>w.debug.stepFrame())),w.globalOpt.burp&&w.app.onKeyPress("b",()=>Pd())}f(Dd,"initEvents");function v0(r,t={}){let i=w.game.root.add([ks(r),qd()]),s=(t.speed||1)*5,a=t.scale||1;i.add([aa(w.boomSprite),Cs(0),ca("center"),Ic(s,a),...t.comps??[]]);let u=i.add([aa(w.kaSprite),Cs(0),ca("center"),ua(),...t.comps??[]]);return u.wait(.4/s,()=>u.use(Ic(s,a))),u.onDestroy(()=>i.destroy()),i}f(v0,"addKaboom");function Id(r,t){if(w.game.layers)throw Error("Layers can only be assigned once.");let i=r.indexOf(t);if(i==-1)throw Error("The default layer name should be present in the layers list.");w.game.layers=r,w.game.defaultLayerIndex=i}f(Id,"setLayers");function w0(){return w.game.layers}f(w0,"getLayers");function x0(){var r;return((r=w.game.layers)==null?void 0:r[w.game.defaultLayerIndex])??null}f(x0,"getDefaultLayer");function A0(r,t){pi("layers","setLayers"),Id(r,t)}f(A0,"layers");function Fd(r){r.destroy()}f(Fd,"destroy");function E0(){return w.game.root}f(E0,"getTreeRoot");function S0(r,t){w.game.scenes[r]=t}f(S0,"scene");function k0(r,...t){if(!w.game.scenes[r])throw new Error(`Scene not found: ${r}`);w.game.events.onOnce("frameEnd",()=>{w.game.events.trigger("sceneLeave",r),w.app.events.clear(),w.game.events.clear(),w.game.objEvents.clear(),[...w.game.root.children].forEach(i=>{!i.stay||i.scenesToStay&&!i.scenesToStay.includes(r)?w.game.root.remove(i):i.trigger("sceneEnter",r)}),w.game.root.clearEvents(),Dd(),w.game.cam={pos:null,scale:z(1),angle:0,shake:0,transform:new Un},w.game.scenes[r](...t)}),w.game.currentScene=r}f(k0,"go");function C0(r){return w.game.events.on("sceneLeave",r)}f(C0,"onSceneLeave");function M0(){return w.game.currentScene}f(M0,"getSceneName");function aa(r,t={}){let i=null,s=null,a=null,u=new Ht;if(!r)throw new Error("Please pass the resource name or data to sprite()");let d=f((p,g,E,C)=>{let m=z(1,1);return E&&C?(m.x=E/(p.width*g.w),m.y=C/(p.height*g.h)):E?(m.x=E/(p.width*g.w),m.y=m.x):C&&(m.y=C/(p.height*g.h),m.x=m.y),m},"calcTexScale"),y=f((p,g)=>{if(!g)return;let E=g.frames[0].clone();t.quad&&(E=E.scale(t.quad));let C=d(g.tex,E,t.width,t.height);p.width=g.tex.width*E.w*C.x,p.height=g.tex.height*E.h*C.y,t.anim&&p.play(t.anim),i=g,u.trigger(i)},"setSpriteData");return{id:"sprite",width:0,height:0,frame:t.frame||0,quad:t.quad||new nt(0,0,1,1),animSpeed:t.animSpeed??1,flipX:t.flipX??!1,flipY:t.flipY??!1,get sprite(){return r.toString()},set sprite(p){let g=gs(p);g&&g.onLoad(E=>y(this,E))},get animFrame(){if(!i||!s||a===null)return this.frame;let p=i.anims[s.name];return typeof p=="number"?p:this.frame-Math.min(p.from,p.to)},draw(){if(!i)return;let p=i.frames[this.frame??0];if(!p)throw new Error(`Frame not found: ${this.frame??0}`);if(i.slice9){let{left:g,right:E,top:C,bottom:m}=i.slice9,M=i.tex.width*p.w,S=i.tex.height*p.h,D=this.width-g-E,x=this.height-C-m,A=g/M,N=E/M,_=1-A-N,K=C/S,W=m/S,P=1-K-W,T=[at(0,0,A,K),at(A,0,_,K),at(A+_,0,N,K),at(0,K,A,P),at(A,K,_,P),at(A+_,K,N,P),at(0,K+P,A,W),at(A,K+P,_,W),at(A+_,K+P,N,W),at(0,0,g,C),at(g,0,D,C),at(g+D,0,E,C),at(0,C,g,x),at(g,C,D,x),at(g+D,C,E,x),at(0,C+x,g,m),at(g,C+x,D,m),at(g+D,C+x,E,m)];for(let U=0;U<9;U++){let V=T[U],Y=T[U+9];Ss(Object.assign(Ur(this),{pos:Y.pos(),tex:i.tex,quad:p.scale(V),flipX:this.flipX,flipY:this.flipY,tiled:t.tiled,width:Y.w,height:Y.h}))}}else Ss(Object.assign(Ur(this),{tex:i.tex,quad:p.scale(this.quad??new nt(0,0,1,1)),flipX:this.flipX,flipY:this.flipY,tiled:t.tiled,width:this.width,height:this.height}))},add(){let p=gs(r);p?p.onLoad(g=>y(this,g)):Ca(()=>y(this,gs(r).data))},update(){if(!i||!s||a===null)return;let p=i.anims[s.name];if(typeof p=="number"){this.frame=p;return}if(p.speed===0)throw new Error("Sprite anim speed cannot be 0");s.timer+=vt()*this.animSpeed,s.timer>=1/s.speed&&(s.timer=0,this.frame+=a,(this.frame<Math.min(p.from,p.to)||this.frame>Math.max(p.from,p.to))&&(s.loop?s.pingpong?(this.frame-=a,a*=-1,this.frame+=a):this.frame=p.from:s.pingpong?a===Math.sign(p.to-p.from)?(this.frame=p.to,a*=-1,this.frame+=a):(this.frame=p.from,s.onEnd(),this.stop()):(this.frame=p.to,s.onEnd(),this.stop())))},play(p,g={}){if(!i){u.add(()=>this.play(p,g));return}let E=i.anims[p];if(E===void 0)throw new Error(`Anim not found: ${p}`);s&&this.stop(),s=typeof E=="number"?{name:p,timer:0,loop:!1,pingpong:!1,speed:0,onEnd:f(()=>{},"onEnd")}:{name:p,timer:0,loop:g.loop??E.loop??!1,pingpong:g.pingpong??E.pingpong??!1,speed:g.speed??E.speed??10,onEnd:g.onEnd??(()=>{})},a=typeof E=="number"?null:E.from<E.to?1:-1,this.frame=typeof E=="number"?E:E.from,this.trigger("animStart",p)},stop(){if(!s)return;let p=s.name;s=null,this.trigger("animEnd",p)},numFrames(){return(i==null?void 0:i.frames.length)??0},getCurAnim(){return s},curAnim(){return s==null?void 0:s.name},getAnim(p){return(i==null?void 0:i.anims[p])??null},hasAnim(p){return!!this.getAnim(p)},onAnimEnd(p){return this.on("animEnd",p)},onAnimStart(p){return this.on("animStart",p)},renderArea(){return new Xe(z(0),this.width,this.height)},inspect(){return typeof r=="string"?`sprite: "${r}"`:null}}}f(aa,"sprite");function P0(r,t={}){function i(a){var d,y;let u=br(Object.assign(Ur(a),{text:a.text+"",size:a.textSize,font:a.font,width:t.width&&a.width,align:a.align,letterSpacing:a.letterSpacing,lineSpacing:a.lineSpacing,transform:a.textTransform,styles:a.textStyles}));return t.width||(a.width=u.width/(((d=a.scale)==null?void 0:d.x)||1)),a.height=u.height/(((y=a.scale)==null?void 0:y.y)||1),u}f(i,"update");let s={id:"text",set text(a){r=a,i(this),this.renderedText=oa(r).text},get text(){return r},textSize:t.size??36,font:t.font,width:t.width??0,height:0,align:t.align,lineSpacing:t.lineSpacing,letterSpacing:t.letterSpacing,textTransform:t.transform,textStyles:t.styles,renderedText:r?oa(r).text:"",add(){Ca(()=>i(this))},draw(){jr(i(this))},renderArea(){return new Xe(z(0),this.width,this.height)}};return i(s),s}f(P0,"text");function R0(r,t){return{id:"rect",width:r,height:t,draw(){So(Object.assign(Ur(this),{width:this.width,height:this.height}))},renderArea(){return new Xe(z(0),this.width,this.height)},inspect(){return`uvquad: (${Math.ceil(this.width)}w, ${Math.ceil(this.height)})h`}}}f(R0,"uvquad");function T0(r={}){let t=null,i=null,s=null,a=null;return{id:"agent",require:["pos","tile"],agentSpeed:r.speed??100,allowDiagonals:r.allowDiagonals??!0,getDistanceToTarget(){return t?this.pos.dist(t):0},getNextLocation(){return i&&s?i[s]:null},getPath(){return i?i.slice():null},getTarget(){return t},isNavigationFinished(){return i?s===null:!0},isTargetReachable(){return i!==null},isTargetReached(){return t?this.pos.eq(t):!0},setTarget(u){t=u,i=this.getLevel().getPath(this.pos,t,{allowDiagonals:this.allowDiagonals}),s=i?0:null,i&&s!==null?(a||(a=this.getLevel().onNavigationMapChanged(()=>{t&&i&&s!==null&&(i=this.getLevel().getPath(this.pos,t,{allowDiagonals:this.allowDiagonals}),i?(s=0,this.trigger("navigationNext",this,i[s])):(s=null,this.trigger("navigationEnded",this)))}),this.onDestroy(()=>a==null?void 0:a.cancel())),this.trigger("navigationStarted",this),this.trigger("navigationNext",this,i[s])):this.trigger("navigationEnded",this)},update(){if(t&&i&&s!==null){if(this.pos.sdist(i[s])<2)if(s===i.length-1){this.pos=t.clone(),s=null,this.trigger("navigationEnded",this),this.trigger("targetReached",this);return}else s++,this.trigger("navigationNext",this,i[s]);this.moveTo(i[s],this.agentSpeed)}},onNavigationStarted(u){return this.on("navigationStarted",u)},onNavigationNext(u){return this.on("navigationNext",u)},onNavigationEnded(u){return this.on("navigationEnded",u)},onTargetReached(u){return this.on("targetReached",u)},inspect(){return"agent: "+JSON.stringify({target:JSON.stringify(t),path:JSON.stringify(i)})}}}f(T0,"agent");function D0(r){let t=r.graph;return{id:"pathfinder",require:["pos"],navigateTo(i){var s;return(s=this.graph)==null?void 0:s.getWaypointPath(this.pos,i,r.navigationOpt)},get graph(){if(t)return t;let i=this.parent;for(;i;){if(i.has("pathfinderMap"))return i.graph;i=i.parent}},set graph(i){t=i}}}f(D0,"pathfinder");function I0(r={}){let t=r.waypoints,i=r.speed||100,s=r.endBehavior||"stop",a=0,u=t!=null;return{id:"patrol",require:["pos"],get patrolSpeed(){return i},set patrolSpeed(d){i=d},get waypoints(){return t},set waypoints(d){t=d,a=0,u=!1},get nextLocation(){return t?t[a]:void 0},update(){let d=this.nextLocation;if(!(!t||!d||u)&&(this.moveTo(d,i),this.pos.sdist(d)<9))switch(s){case"loop":a=(a+1)%t.length;break;case"ping-pong":a=a+1,a==t.length&&(t.reverse(),a=0);break;case"stop":a=Math.min(a+1,t.length-1),a==t.length-1&&(u=!0,this.trigger("patrolFinished"));break}},onPatrolFinished(d){return this.on("patrolFinished",d)}}}f(I0,"patrol");function F0(r,t={}){let i=typeof r=="function"?r:()=>w.game.root.query(r),s=t.checkFrequency||1,a=typeof t.direction=="number"?G.fromAngle(t.direction):t.direction,u=0;return{id:"sentry",require:["pos"],direction:typeof t.direction=="number"?G.fromAngle(t.direction):t.direction,spotted:[],set directionAngle(d){this.direction=d!==void 0?G.fromAngle(d):void 0},get directionAngle(){return this.direction?this.direction.angle():void 0},fieldOfView:t.fieldOfView||200,isWithinFieldOfView(d,y,p){let g=(typeof y=="number"?G.fromAngle(y):y)||a,E=p||t.fieldOfView;if(!g||!E||E>=360)return!0;let C=E/2;return d.pos&&g.angleBetween(d.pos.sub(this.pos))<=C},hasLineOfSight(d){let y=yd(this.pos,d.pos.sub(this.pos),t.raycastExclude);return y!=null&&y.object===d},update(){if(u+=vt(),u>s){u-=s;let d=i();if(d.length&&a&&this.fieldOfView&&this.fieldOfView<360){let y=this.fieldOfView/2;d=d.filter(p=>p.pos&&a.angleBetween(p.pos.sub(this.pos))<=y)}d.length&&t.lineOfSight&&(d=d.filter(y=>y.pos&&this.hasLineOfSight(y))),d.length>0&&(this.spotted=d,this.trigger("objectSpotted",d))}},onObjectsSpotted(d){return this.on("objectSpotted",d)}}}f(F0,"sentry");function Bd(r={}){let t=z(0),i=r.isObstacle??!1,s=r.cost??0,a=r.edges??[],u=f(()=>{let y={left:1,top:2,right:4,bottom:8};return a.map(p=>y[p]||0).reduce((p,g)=>p|g,0)},"getEdgeMask"),d=u();return{id:"tile",tilePosOffset:r.offset??z(0),set tilePos(y){let p=this.getLevel();t=y.clone(),this.pos=z(this.tilePos.x*p.tileWidth(),this.tilePos.y*p.tileHeight()).add(this.tilePosOffset)},get tilePos(){return t},set isObstacle(y){i!==y&&(i=y,this.getLevel().invalidateNavigationMap())},get isObstacle(){return i},set cost(y){s!==y&&(s=y,this.getLevel().invalidateNavigationMap())},get cost(){return s},set edges(y){a=y,d=u(),this.getLevel().invalidateNavigationMap()},get edges(){return a},get edgeMask(){return d},getLevel(){return this.parent},tileMove(y){let p=this.getLevel();p.removeFromSpatialMap(this),this.tilePos=this.tilePos.add(y),p.insertIntoSpatialMap(this),p.trigger("spatialMapChanged")},moveLeft(){this.tileMove(z(-1,0))},moveRight(){this.tileMove(z(1,0))},moveUp(){this.tileMove(z(0,-1))},moveDown(){this.tileMove(z(0,1))}}}f(Bd,"tile");var yo,Nd=(yo=class{constructor(t,i,s){q(this,"name");q(this,"duration");q(this,"loops");q(this,"direction");q(this,"easing");q(this,"interpolation");q(this,"isFinished");q(this,"timing");q(this,"easings");q(this,"relative");this.name=t,this.duration=i.duration,this.loops=i.loops||0,this.direction=i.direction||"forward",this.easing=i.easing||xs.linear,this.interpolation=i.interpolation||"linear",this.isFinished=!1,this.timing=i.timing,this.easings=i.easings,this.relative=s}update(t,i){return!0}getLowerKeyIndexAndRelativeTime(t,i,s){let a=i-1,u=t/this.duration;if(this.loops!==0&&u>=this.loops)return[a,0,!0];let d=Math.trunc(u);if(u-=d,(this.direction=="reverse"||this.direction=="ping-pong"&&d&1)&&(u=1-u),s){let y=0;for(;s[y+1]!==void 0&&s[y+1]<u;)y++;return y>=a?[a,0,!0]:[y,(u-s[y])/(s[y+1]-s[y]),!1]}else{let y=Math.floor((i-1)*u);return[y,(u-y/a)*a,!1]}}setValue(t,i,s){if(this.relative)switch(i){case"pos":t.pos=t.base.pos.add(s);break;case"angle":t.angle=t.base.angle+s;break;case"scale":t.scale=t.base.scale.scale(s);break;case"opacity":t.opacity=t.base.opacity*s;break;default:t[i]=s}else t[i]=s}serialize(){let t={duration:this.duration,keys:[]};return this.loops&&(t.loops=this.loops),this.direction!=="forward"&&(t.direction=this.direction),this.easing!=xs.linear&&(t.easing=this.easing.name),this.interpolation!=="linear"&&(t.interpolation=this.interpolation),this.timing&&(t.timing=this.timing),this.easings&&(t.easings=this.easings.map(i=>this.easing.name)),t}},f(yo,"AnimateChannel"),yo);function Dc(r,t){return t.add(t.sub(r))}f(Dc,"reflect");var vo,Vw=(vo=class extends Nd{constructor(i,s,a,u){super(i,a,u);q(this,"keys");this.keys=s}update(i,s){let[a,u,d]=this.getLowerKeyIndexAndRelativeTime(s,this.keys.length,this.timing);if(u==0||this.interpolation==="none")this.setValue(i,this.name,this.keys[a]);else{let y=this.easings?this.easings[a]:this.easing;this.setValue(i,this.name,Wt(this.keys[a],this.keys[a+1],y(u)))}return d}serialize(){return Object.assign(super.serialize(),{keys:this.keys})}},f(vo,"AnimateChannelNumber"),vo),wo,Hw=(wo=class extends Nd{constructor(i,s,a,u,d){var y;super(i,a,u);q(this,"keys");q(this,"curves");q(this,"dcurves");if(this.keys=s,this.interpolation==="spline"){this.curves=[],d&&(this.dcurves=[]);for(let p=0;p<this.keys.length-1;p++){let g=this.keys[p],E=p+1,C=this.keys[E],m=p>0?this.keys[p-1]:Dc(C,g),M=E<this.keys.length-1?this.keys[E+1]:Dc(g,C);this.curves.push(vs(m,g,C,M)),d&&((y=this.dcurves)==null||y.push(vs(m,g,C,M,Eg)))}}}update(i,s){let[a,u,d]=this.getLowerKeyIndexAndRelativeTime(s,this.keys.length,this.timing);if(u==0||this.interpolation==="none")this.setValue(i,this.name,this.keys[a]);else{let y=this.easings?this.easings[a]:this.easing;switch(this.interpolation){case"linear":this.setValue(i,this.name,this.keys[a].lerp(this.keys[a+1],y(u)));break;case"slerp":this.setValue(i,this.name,this.keys[a].slerp(this.keys[a+1],y(u)));break;case"spline":if(this.curves){this.setValue(i,this.name,this.curves[a](y(u))),this.dcurves&&this.setValue(i,"angle",this.dcurves[a](y(u)).angle());break}}}return d}serialize(){return Object.assign(super.serialize(),{keys:this.keys.map(i=>[i.x,i.y])})}},f(wo,"AnimateChannelVec2"),wo),xo,Gw=(xo=class extends Nd{constructor(i,s,a,u){super(i,a,u);q(this,"keys");this.keys=s}update(i,s){let[a,u,d]=this.getLowerKeyIndexAndRelativeTime(s,this.keys.length,this.timing);if(u==0||this.interpolation=="none")this.setValue(i,this.name,this.keys[a]);else{let y=this.easings?this.easings[a]:this.easing;this.setValue(i,this.name,this.keys[a].lerp(this.keys[a+1],y(u)))}return d}serialize(){return Object.assign(super.serialize(),{keys:this.keys})}},f(xo,"AnimateChannelColor"),xo);function B0(r={}){let t=[],i=0,s=!1;return{id:"animate",require:r.followMotion?["rotate"]:void 0,base:{pos:z(0,0),angle:0,scale:z(1,1),opacity:1},animation:{paused:!1,seek(a){i=Dn(a,0,this.duration),t.forEach(u=>{u.isFinished=!1}),s=!1},get duration(){return t.reduce((a,u)=>Math.max(u.duration,a),0)}},add(){r.relative&&(this.has("pos")&&(this.base.pos=this.pos.clone()),this.has("rotate")&&(this.base.angle=this.angle),this.has("scale")&&(this.base.scale=this.scale),this.has("opacity")&&(this.base.opacity=this.opacity))},update(){if(this.animation.paused)return;let a=!0,u;i+=vt();for(let d of t)u=d.update(this,i),u&&!d.isFinished&&(d.isFinished=!0,this.trigger("animateChannelFinished",d.name)),a&&(a=u);a&&!s&&(s=!0,this.trigger("animateFinished"))},animate(a,u,d){s=!1,this.unanimate(a),typeof u[0]=="number"?t.push(new Vw(a,u,d,r.relative||!1)):u[0]instanceof G?t.push(new Hw(a,u,d,r.relative||!1,a==="pos"&&(r.followMotion||!1))):u[0]instanceof Te&&t.push(new Gw(a,u,d,r.relative||!1))},unanimate(a){let u=t.findIndex(d=>d.name===a);u>=0&&t.splice(u,1)},unanimateAll(){t.splice(0,t.length)},onAnimateFinished(a){return this.on("animateFinished",a)},onAnimateChannelFinished(a){return this.on("animateChannelFinished",a)},serializeAnimationChannels(){return t.reduce((a,u)=>(a[u.name]=u.serialize(),a),{})},serializeAnimationOptions(){let a={};return r.followMotion&&(a.followMotion=!0),r.relative&&(a.relative=!0),a}}}f(B0,"animate");function Ld(r,t){let i={name:r.name};return r.has("animate")&&(i.channels=r.serializeAnimationChannels(),Object.assign(i,r.serializeAnimationOptions())),r.children.length>0&&(i.children=r.children.filter(s=>s.has("named")).map(s=>Ld(s,s.name))),i}f(Ld,"serializeAnimation");function Ic(r=2,t=1){let i=0;return{require:["scale"],update(){let s=Math.sin(i*r)*t;s<0&&this.destroy(),this.scale=z(s),i+=vt()}}}f(Ic,"boom");function N0(r,t){if(r==null)throw new Error("health() requires the initial amount of hp");return{id:"health",hurt(i=1){this.setHP(r-i),this.trigger("hurt",i)},heal(i=1){let s=r;this.setHP(r+i),this.trigger("heal",r-s)},hp(){return r},maxHP(){return t??null},setMaxHP(i){t=i},setHP(i){r=t?Math.min(t,i):i,r<=0&&this.trigger("death")},onHurt(i){return this.on("hurt",i)},onHeal(i){return this.on("heal",i)},onDeath(i){return this.on("death",i)},inspect(){return`health: ${r}`}}}f(N0,"health");function L0(r,t={}){if(r==null)throw new Error("lifespan() requires time");let i=t.fade??0;return{id:"lifespan",require:["opacity"],async add(){await w.game.root.wait(r),this.opacity=this.opacity??1,i>0&&await w.game.root.tween(this.opacity,0,i,s=>this.opacity=s,xs.linear),this.destroy()}}}f(L0,"lifespan");function q0(r){return{id:"named",name:r}}f(q0,"named");function O0(r,t,i){if(!r)throw new Error("state() requires an initial state");let s={};function a(p){s[p]||(s[p]={enter:new Ht,end:new Ht,update:new Ht,draw:new Ht})}f(a,"initStateEvents");function u(p,g,E){return a(g),s[g][p].add(E)}f(u,"on");function d(p,g,...E){a(g),s[g][p].trigger(...E)}f(d,"trigger");let y=!1;return{id:"state",state:r,enterState(p,...g){if(y=!0,t&&!t.includes(p))throw new Error(`State not found: ${p}`);let E=this.state;if(i){if(!(i!=null&&i[E]))return;let C=typeof i[E]=="string"?[i[E]]:i[E];if(!C.includes(p))throw new Error(`Cannot transition state from "${E}" to "${p}". Available transitions: ${C.map(m=>`"${m}"`).join(", ")}`)}d("end",E,...g),this.state=p,d("enter",p,...g),d("enter",`${E} -> ${p}`,...g)},onStateTransition(p,g,E){return u("enter",`${p} -> ${g}`,E)},onStateEnter(p,g){return u("enter",p,g)},onStateUpdate(p,g){return u("update",p,g)},onStateDraw(p,g){return u("draw",p,g)},onStateEnd(p,g){return u("end",p,g)},update(){y||(d("enter",r),y=!0),d("update",this.state)},draw(){d("draw",this.state)},inspect(){return`state: ${this.state}`}}}f(O0,"state");function qd(r){return{id:"stay",stay:!0,scenesToStay:r}}f(qd,"stay");function b0(r=!0,t){let i,s;return{id:"textInput",hasFocus:r,require:["text"],typedText:"",add(){let a=f(()=>{this.text=this.typedText.replace(/([\[\\])/g,"\\$1")},"flip");i=w.k.onCharInput(u=>{this.hasFocus&&(!t||this.typedText.length<t)&&(w.k.isKeyDown("shift")?this.typedText+=u.toUpperCase():this.typedText+=u,a())}),s=w.k.onKeyPressRepeat("backspace",()=>{this.hasFocus&&(this.typedText=this.typedText.slice(0,-1)),a()})},destroy(){i.cancel(),s.cancel()}}}f(b0,"textInput");function ua(r=1e3){return{id:"timer",maxLoopsPerFrame:r,loop(t,i,s=-1,a=!1){let u=a?0:t,d=new Ht,y=this.onUpdate(()=>{u+=w.app.state.dt;for(let p=0;u>=t&&p<this.maxLoopsPerFrame;p++){if(s!=-1&&(s--,s<0)){y.cancel(),d.trigger();return}i(),u-=t}});return{get paused(){return y.paused},set paused(p){y.paused=p},cancel:y.cancel,onEnd:d.add,then(p){return d.add(p),this}}},wait(t,i){return this.loop(t,i??(()=>{}),1,!0)},tween(t,i,s,a,u=xs.linear){let d=0,y=[],p=this.onUpdate(()=>{d+=w.app.state.dt;let g=Math.min(d/s,1);a(Wt(t,i,u(g))),g===1&&(p.cancel(),a(i),y.forEach(E=>E()))});return{get paused(){return p.paused},set paused(g){p.paused=g},onEnd(g){y.push(g)},then(g){return this.onEnd(g),this},cancel(){p.cancel()},finish(){p.cancel(),a(i),y.forEach(g=>g())}}}}}f(ua,"timer");var Fc=0;function j0(){return Fc>0}f(j0,"usesArea");function U0(r={}){let t={},i=new Set,s=[];return{id:"area",collisionIgnore:r.collisionIgnore??[],add(){Fc++,this.area.cursor&&s.push(this.onHover(()=>w.app.setCursor(this.area.cursor))),s.push(this.onCollideUpdate((a,u)=>{if(!a.id)throw new Error("area() requires the object to have an id");t[a.id]||this.trigger("collide",a,u),u&&(t[a.id]=u,i.add(a.id))}))},destroy(){Fc--;for(let a of s)a.cancel()},fixedUpdate(){for(let a in t)i.has(Number(a))||(this.trigger("collideEnd",t[a].target),delete t[a]);i.clear()},drawInspect(){let a=this.localArea();$t(),tt(this.area.offset);let u={outline:{width:4/$c(),color:qe(0,0,255)},anchor:this.anchor,fill:!1,fixed:Dr(this)};a instanceof Xe?tn({...u,pos:a.pos,width:a.width*this.area.scale.x,height:a.height*this.area.scale.y}):a instanceof Qt?tr({...u,pts:a.pts,scale:this.area.scale}):a instanceof nn&&mi({...u,pos:a.center,radius:a.radius}),Gt()},area:{shape:r.shape??null,scale:r.scale?z(r.scale):z(1),offset:r.offset??z(0),cursor:r.cursor??null},isClicked(){return w.app.isMousePressed()&&this.isHovering()},isHovering(){let a=Dr(this)?w.k.mousePos():w.k.toWorld(w.k.mousePos());return this.hasPoint(a)},checkCollision(a){if(!a.id)throw new Error("checkCollision() requires the object to have an id");return t[a.id]??null},getCollisions(){return Object.values(t)},isColliding(a){if(!a.id)throw new Error("isColliding() requires the object to have an id");return!!t[a.id]},isOverlapping(a){if(!a.id)throw new Error("isOverlapping() requires the object to have an id");let u=t[a.id];return u&&u.hasOverlap()},onClick(a,u="left"){let d=w.app.onMousePress(u,()=>{this.isHovering()&&a()});return s.push(d),d},onHover(a){let u=!1;return this.onUpdate(()=>{u?u=this.isHovering():this.isHovering()&&(u=!0,a())})},onHoverUpdate(a){return this.onUpdate(()=>{this.isHovering()&&a()})},onHoverEnd(a){let u=!1;return this.onUpdate(()=>{u?this.isHovering()||(u=!1,a()):u=this.isHovering()})},onCollide(a,u){if(typeof a=="function"&&u===void 0)return this.on("collide",a);if(typeof a=="string")return this.onCollide((d,y)=>{d.is(a)&&(u==null||u(d,y))});throw new Error("onCollide() requires either a function or a tag")},onCollideUpdate(a,u){if(typeof a=="function"&&u===void 0)return this.on("collideUpdate",a);if(typeof a=="string")return this.on("collideUpdate",(d,y)=>d.is(a)&&(u==null?void 0:u(d,y)));throw new Error("onCollideUpdate() requires either a function or a tag")},onCollideEnd(a,u){if(typeof a=="function"&&u===void 0)return this.on("collideEnd",a);if(typeof a=="string")return this.on("collideEnd",d=>d.is(a)&&(u==null?void 0:u(d)));throw new Error("onCollideEnd() requires either a function or a tag")},hasPoint(a){return nr(this.worldArea(),a)},resolveCollision(a){let u=this.checkCollision(a);u&&!u.resolved&&(this.pos=this.pos.add(u.displacement),u.resolved=!0)},localArea(){return this.area.shape?this.area.shape:this.renderArea()},worldArea(){let a=this.localArea();if(!(a instanceof Qt||a instanceof Xe))throw new Error("Only support polygon and rect shapes for now");let u=this.transform.clone().translate(this.area.offset).scale(z(this.area.scale??1));if(a instanceof Xe){let d=gi(this.anchor||xa).add(1,1).scale(-.5).scale(a.width,a.height);u.translate(d)}return a.transform(u)},screenArea(){let a=this.worldArea();return Dr(this)?a:a.transform(w.game.cam.transform)},inspect(){var a,u,d,y,p,g,E;return((a=this.area.scale)==null?void 0:a.x)==((u=this.area.scale)==null?void 0:u.y)?`area: ${(y=(d=this.area.scale)==null?void 0:d.x)==null?void 0:y.toFixed(1)}x`:`area: (${(g=(p=this.area.scale)==null?void 0:p.x)==null?void 0:g.toFixed(1)}x, ${(E=this.area.scale.y)==null?void 0:E.toFixed(1)}y)`}}}f(U0,"area");function z0(r={}){let t=null,i=null,s=!1,a=z(0),u=null,d=null,y;return{id:"body",require:["pos"],vel:z(0),drag:r.drag??0,jumpForce:r.jumpForce??tw,gravityScale:r.gravityScale??1,isStatic:r.isStatic??!1,mass:r.mass??1,add(){if(u=this.pos.clone(),d=this.pos.clone(),y=this.pos.clone(),this.mass===0)throw new Error("Can't set body mass to 0");this.has("area")&&(this.onCollideUpdate((p,g)=>{if(!g||!p.has("body")||g.resolved)return;this.trigger("beforePhysicsResolve",g);let E=g.reverse();if(p.trigger("beforePhysicsResolve",E),!(g.resolved||E.resolved)&&!(this.isStatic&&p.isStatic)){if(!this.isStatic&&!p.isStatic){let C=this.mass+p.mass;this.pos=this.pos.add(g.displacement.scale(p.mass/C)),p.pos=p.pos.add(g.displacement.scale(-this.mass/C)),this.transform=Yi(this),p.transform=Yi(p)}else{let C=!this.isStatic&&p.isStatic?g:g.reverse();C.source.pos=C.source.pos.add(C.displacement),C.source.transform=Yi(C.source)}g.resolved=!0,this.trigger("physicsResolve",g),p.trigger("physicsResolve",g.reverse())}}),this.onPhysicsResolve(p=>{if(w.game.gravity)if(p.isBottom()&&this.isFalling()){this.vel=this.vel.reject(w.game.gravity.unit());let g=t;t=p.target,g!=t&&(i=p.target.pos),s?s=!1:g||(this.trigger("ground",t),p.target.trigger("land",this))}else p.isTop()&&this.isJumping()&&(this.vel=this.vel.reject(w.game.gravity.unit()),this.trigger("headbutt",p.target),p.target.trigger("headbutted",this))}))},update(){t&&this.isColliding(t)&&t.exists()&&t.has("body")&&(i&&!t.pos.eq(i)&&r.stickToPlatform!==!1&&this.moveBy(t.pos.sub(i)),i=t.pos);let p=na();p&&(this.pos.x==y.x&&(this.pos.x=Wt(u.x,d.x,p/ta()),y.x=this.pos.x),this.pos.y==y.y&&(this.pos.y=Wt(u.y,d.y,p/ta()),y.y=this.pos.y))},fixedUpdate(){if(u&&(this.pos.x==y.x&&(this.pos.x=u.x),this.pos.y==y.y&&(this.pos.y=u.y),u=null),w.game.gravity&&!this.isStatic){s&&(t=null,i=null,this.trigger("fallOff"),s=!1),t&&(!this.isColliding(t)||!t.exists()||!t.has("body"))&&(s=!0);let p=this.vel.clone();this.vel=this.vel.add(w.game.gravity.scale(this.gravityScale*vt()));let g=r.maxVelocity??nw;this.vel.slen()>g*g&&(this.vel=this.vel.unit().scale(g)),p.dot(w.game.gravity)<0&&this.vel.dot(w.game.gravity)>=0&&this.trigger("fall")}if(this.vel.x+=a.x*vt(),this.vel.y+=a.y*vt(),this.vel.x*=1-this.drag*vt(),this.vel.y*=1-this.drag*vt(),this.move(this.vel),na()){u=this.pos.clone();let p=this.vel.add(a.scale(vt()));d=this.pos.add(p.scale(vt())),y=this.pos.clone()}a.x=0,a.y=0},onPhysicsResolve(p){return this.on("physicsResolve",p)},onBeforePhysicsResolve(p){return this.on("beforePhysicsResolve",p)},curPlatform(){return t},isGrounded(){return t!==null},isFalling(){return this.vel.dot(Zi())>0},isJumping(){return this.vel.dot(Zi())<0},applyImpulse(p){this.isStatic||(this.vel=this.vel.add(p))},addForce(p){this.isStatic||(a.x+=p.x/this.mass,a.y+=p.y/this.mass)},jump(p){this.isStatic||(t=null,i=null,this.vel=Zi().scale(-p||-this.jumpForce))},onGround(p){return this.on("ground",p)},onFall(p){return this.on("fall",p)},onFallOff(p){return this.on("fallOff",p)},onHeadbutt(p){return this.on("headbutt",p)},onLand(p){return this.on("land",p)},onHeadbutted(p){return this.on("headbutted",p)},inspect(){return`gravityScale: ${this.gravityScale}x`}}}f(z0,"body");function _0(r=2){let t=r;return{id:"doubleJump",require:["body"],numJumps:r,add(){this.onGround(()=>{t=this.numJumps})},doubleJump(i){t<=0||(t<this.numJumps&&this.trigger("doubleJump"),t--,this.jump(i))},onDoubleJump(i){return this.on("doubleJump",i)},inspect(){return`jumpsLeft: ${t}`}}}f(_0,"doubleJump");function V0(r){return{id:"surfaceEffector",require:["area"],speed:r.speed,speedVariation:r.speedVariation??0,forceScale:r.speedVariation??.9,add(){this.onCollideUpdate("body",(t,i)=>{var d;let s=i==null?void 0:i.normal.normal(),a=t.vel.project(s),u=(d=s==null?void 0:s.scale(this.speed))==null?void 0:d.sub(a);t.addForce(u==null?void 0:u.scale(t.mass*this.forceScale))})}}}f(V0,"surfaceEffector");function H0(r){return{id:"areaEffector",require:["area"],useGlobalAngle:r.useGlobalAngle||!1,forceAngle:r.forceAngle,forceMagnitude:r.forceMagnitude,forceVariation:r.forceVariation??0,linearDrag:r.linearDrag??0,add(){this.onCollideUpdate("body",(t,i)=>{if(!t.has("body"))return;let s=G.fromAngle(this.forceAngle).scale(this.forceMagnitude);t.addForce(s),this.linearDrag&&t.addForce(t.vel.scale(-this.linearDrag))})}}}f(H0,"areaEffector");function G0(r){return{id:"pointEffector",require:["area","pos"],forceMagnitude:r.forceMagnitude,forceVariation:r.forceVariation??0,distanceScale:r.distanceScale??1,forceMode:r.forceMode||"inverseLinear",linearDrag:r.linearDrag??0,add(){this.onCollideUpdate("body",(t,i)=>{let s=this.pos.sub(t.pos),a=s.len(),u=a*this.distanceScale/10,d=this.forceMode==="constant"?1:this.forceMode==="inverseLinear"?1/u:1/u**2,y=s.scale(this.forceMagnitude*d/a);t.addForce(y),this.linearDrag&&t.addForce(t.vel.scale(-this.linearDrag))})}}}f(G0,"pointEffector");function W0(r){return{id:"constantForce",require:["body"],force:r.force,update(){this.force&&this.addForce(this.force)}}}f(W0,"constantForce");function Q0(r){return{id:"platformEffector",require:["area","body"],surfaceArc:r.surfaceArc??180,useOneWay:r.useOneWay??!1,add(){this.onBeforePhysicsResolve(t=>{let i=t.target.vel,s=Zi().scale(-1).angleBetween(i);Math.abs(s)>this.surfaceArc/2&&t.preventResolution()})}}}f(Q0,"platformEffector");function K0(r){return{id:"buoyancyEffector",require:["area"],surfaceLevel:r.surfaceLevel,density:r.density??1,linearDrag:r.linearDrag??1,angularDrag:r.angularDrag??.2,flowAngle:r.flowAngle??0,flowMagnitude:r.flowMagnitude??0,flowVariation:r.flowVariation??0,add(){this.onCollideUpdate("body",(t,i)=>{let s=t,a=s.worldArea(),[u,d]=a.cut(z(-100,this.surfaceLevel),z(100,this.surfaceLevel));u&&(this.applyBuoyancy(s,u),this.applyDrag(s,u)),this.flowMagnitude&&s.addForce(G.fromAngle(this.flowAngle).scale(this.flowMagnitude))})},applyBuoyancy(t,i){let s=this.density*i.area(),a=z(0,1).scale(-s);t.addForce(a)},applyDrag(t,i){let s=t.vel,a=this.density*this.linearDrag,u=s.scale(-a);t.addForce(u)}}}f(K0,"buoyancyEffector");function ca(r){if(!r)throw new Error("Please define an anchor");return{id:"anchor",anchor:r,inspect(){return typeof this.anchor=="string"?"anchor: "+this.anchor:"anchor: "+this.anchor.toString()}}}f(ca,"anchor");function Od(){return{id:"fixed",fixed:!0}}f(Od,"fixed");function Y0(r,t){return{id:"follow",require:["pos"],follow:{obj:r,offset:t??z(0)},add(){r.exists()&&(this.pos=this.follow.obj.pos.add(this.follow.offset))},update(){r.exists()&&(this.pos=this.follow.obj.pos.add(this.follow.offset))}}}f(Y0,"follow");function X0(r){var i;let t=(i=w.game.layers)==null?void 0:i.indexOf(r);return{id:"layer",get layerIndex(){return t??null},get layer(){var s;return t?((s=w.game.layers)==null?void 0:s[t])??null:null},set layer(s){var a;if(t=(a=w.game.layers)==null?void 0:a.indexOf(s),t==-1)throw Error("Invalid layer name")},inspect(){return`layer: ${this.layer}`}}}f(X0,"layer");function Z0(r,t){let i=typeof r=="number"?G.fromAngle(r):r.unit();return{id:"move",require:["pos"],update(){this.move(i.scale(t))}}}f(Z0,"move");function J0(r={}){let t=r.distance??ew,i=!1;return{id:"offscreen",require:["pos"],isOffScreen(){let s=this.screenPos();if(!s)return!1;let a=new Xe(z(0),Et(),Pt());return!Ms(a,s)&&a.sdistToPoint(s)>t*t},onExitScreen(s){return this.on("exitView",s)},onEnterScreen(s){return this.on("enterView",s)},update(){this.isOffScreen()?(i||(this.trigger("exitView"),i=!0),r.hide&&(this.hidden=!0),r.pause&&(this.paused=!0),r.destroy&&this.destroy()):(i&&(this.trigger("enterView"),i=!1),r.hide&&(this.hidden=!1),r.pause&&(this.paused=!1))}}}f(J0,"offscreen");function ks(...r){return{id:"pos",pos:z(...r),moveBy(...t){this.pos=this.pos.add(z(...t))},move(...t){this.moveBy(z(...t).scale(vt()))},moveTo(...t){if(typeof t[0]=="number"&&typeof t[1]=="number")return this.moveTo(z(t[0],t[1]),t[2]);let i=t[0],s=t[1];if(s===void 0){this.pos=z(i);return}let a=i.sub(this.pos);if(a.len()<=s*vt()){this.pos=z(i);return}this.move(a.unit().scale(s))},worldPos(t=null){return t?(this.pos=this.pos.add(this.fromWorld(t)),null):this.parent?this.parent.transform.multVec2(this.pos):this.pos},toWorld(t){return this.parent?this.parent.transform.multVec2(this.pos.add(t)):this.pos.add(t)},fromWorld(t){return this.parent?this.parent.transform.invert().multVec2(t).sub(this.pos):t.sub(this.pos)},screenPos(t=null){if(t)return this.pos=this.pos.add(this.fromScreen(t)),null;{let i=this.worldPos();return i?Dr(this)?i:la(i):null}},toScreen(t){let i=this.toWorld(t);return Dr(this)?i:la(i)},fromScreen(t){return Dr(this)?this.fromWorld(t):this.fromWorld(Md(t))},toOther(t,i){return t.fromWorld(this.toWorld(i))},fromOther(t,i){return t.toOther(this,i)},inspect(){return`pos: (${Math.round(this.pos.x)}x, ${Math.round(this.pos.y)}y)`},drawInspect(){mi({color:qe(255,0,0),radius:4/$c()})}}}f(ks,"pos");function $0(r){return{id:"rotate",angle:r??0,rotateBy(t){this.angle+=t},rotateTo(t){this.angle=t},inspect(){return`angle: ${Math.round(this.angle)}`}}}f($0,"rotate");function Cs(...r){if(r.length===0)return Cs(1);let t=z(...r);return{id:"scale",set scale(i){if(!(i instanceof G))throw Error("The scale property on scale is a vector. Use scaleTo or scaleBy to set the scale with a number.");t=z(i)},get scale(){return t},scaleTo(...i){t=z(...i)},scaleBy(...i){t=t.scale(z(...i))},inspect(){return t.x==t.y?`scale: ${t.x.toFixed(1)}x`:`scale: (${t.x.toFixed(1)}x, ${t.y.toFixed(1)}y)`}}}f(Cs,"scale");function ey(r){return{id:"z",z:r,inspect(){return`z: ${this.z}`}}}f(ey,"z");var Ww="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOcAAACDCAYAAAB2kQxsAAAAAXNSR0IArs4c6QAABqxJREFUeJztnU1yFDkQRtMEB+AG7Fk6fBPO6ZsQLGc/N5gbMAtosJvqKv2kpPxS763A0W5XSXqVqZ+SngzgF58/fflx/7N///vnacW1gBkFD2Z2LOYNBF3Dx9UXAGs5kxLWwhNxU2qlJHrOhwLfkNZoiaBzIa3dCFJYLXgSboKXmETPeVDQyamR8vX55fe/v37/9vBzCDoH0tqktEpZ+t0IOh4KOBm16euZmETPtVDAiRgRLRF0HRRuEkrFrE1hzR4Lipxj+bD6AqCPz5++/Bgp5tXfdv1CeAdPPmFmSkn0nE+a0drdFm6XiOkdKWEuKRptTXqlLuqqFNaM6Dkb+T5nbb+npo8WjZVinqFantFJk9bWojaRThq7HzKN8wiPJ7aCoJHEZN5zHvJp7RE1DTV6SnZ1fa/PL1MjJtF5HmnT2tJF3GZ/BIj05I8ULUtR6ypER7ogjxpw61rRGxEal4KYjNyORzatbUlHSxr06tFcBTHPiN5NUEJWzlZKG/aKRqYk5tl1IKgPafucZ7w+vxSluLP6olHnL6MQQfYV6bpk/+BRZXm+cXHEiApSipZHlE6tRBDMkxmyysl5VsmtjXiFoJmiZU35ZWK0oNv1OY+omSv0GDDKJCaMI42cHg25dvFCi6QZxVS6ViVSpLUz38A4oiS9ySjlW2althGWKZrN6XNuOVpbwq0ReIzqZhfTrHwE/PZZuEYqcnqO0tZQGxVqRylprLGIEDXNkLOKEakbYsYiiphmiQaEZuD9BghixiKSmGYJIueqBt4TRZEyHtHENCNyNtMaRREzHhHFNBOKnKv7myVcVXKka4WfRBXTjMjpypl8iBmP6MsOmed0Bgk1UHjxXlpORIAWIqeybyGtha1QEdNMRM5s7wLCGpTENBORE6AXNTHNkBM2QFFMM4F5ToX5TYiLqphmRE7YmMhimiEnJEb9XBdJOUlp4Qp1Mc1E5QQ4I/qyvFJCy8n8JnijEjXNAi3fQ0TwIEM6e2OqnAgII8kkptkgOZEQZlN6BquZjqhVFxlBOkZq4Z6WASAFQQ8jZwQJ70FK8CTiaeb3fDSLJyMiwiwiS/q0SkwEBE+85jYjSTpcTiSE2WQRtVlOpAMVemVdtjXmlZxICFlQk/TJjHcmYS96JJ0p6KmcZggKeWmVdPopYwgKuxJVUuQE+EU0Sd99KYICxJH0ry9DUIA/rFy3WyWnGYLCnqyQ9PCXERTgmJmSPvwlBAU4p1bUWklPP1yytA9JYWdGRtLLDyEowDUjomiRwQgKUIZnJC3OgREUoByPSDpkDyEkBfhJj6RNQ7xEUYA6aiS9Cdo8SUoUBaijVtCuFQwICtBGiajdawARFKCNK0HdVtEjKUAd0+Q0q9v/FklhJ1rmP4e8JEoUBejfq2jYNgtEUdgJzwN7u6dSSkBQyMSME7O7FyHUQpoLCqw8rv5o+d6Uw3NvfzjagUkAZvOlLH1lLMyx8wCzWBEhW3ZDmLZ7NTsrwCpmyui5A1+IPidigjcjhZy14/vytBYxwRsPMVcf/2c2QU72wQUVIgj5lqFyIiZEJ5qQb1me1gLMJLKM93wY9cVETYiGkphmg+RETFhJljY2LHICQB/uchI1AXxwlRMxAfwgrYVtUHvxwk1OoiaAL8MjJ2ICtOEip1q6APnJEBS6VwiRzp4vtM5YBvf3m/EeI8DyvUZK33z4+v1bqsZ7dN+3n2W6zwgMO44hY0X1vIqkXh419x7lXh9ds8oyviFyRqmcXrxf2FUtF89ymFkG6nI2p7WZB4FGvUWfLcVt4ahsdy+TR7ifz6lc0F5v0GfalmXldpE3esrr6PrTR84sjNjS4kpQhQhaUi4lD6KR1xK9DHupfoKoR02vSFDy9FWNoKVivv1/lG7OfZkqR043OZUbWgmtFaomaGl51ZTHCnFv5bqNnFGjZvRtEFUEHSHmI1ZHWgVBXZ5+sxvX7ANlPChpjKsknSllKaPlRU4nZo0Yjq6wiIJGFPMML2mj3M8ZRRe4QkzF6FhCJEFbBn4i0iKswn11yenZiLLKeMRqQdWiZSmlkqrcV9d0gPfksAcqBW+2ZqAoq5gZGSrnTtGwlVmCIqUepxWxerj7iIyNZ7SgiKmJhJw7NJpRgiKmLuHl3KnReA4UIaU+y+WkcbzHQ1DEzMGQ9aJH0BDK6RE0y9wlTDp2HuppERQxc0FFBaZGUMTMB5UlQG/fHyk1odJEaBUUMXWh4oSoFRQxtaHyxMi2uBseQwUKciUoYuaAShTlkaCImQcqUph7QREzF/8DSS/2GZ2/N/sAAAAASUVORK5CYII=",Qw="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOcAAACDCAYAAAB2kQxsAAAAAXNSR0IArs4c6QAABdRJREFUeJzt3d3N3TYMgGG16ADdoAhyl7UyV9bqXRB0g2zQXgRGDcOWSIoUaX3vAwQBknMk/4gWLcnHrQEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACDEb9kb8FH99eeXf6Wf/efn35ynDyj1pEsb6G6NUxOYZ7sdB/QtPdnWRnn29gbKMYDUspPs0SgPb22cHANo/JG9AZF6wWBp3JLgeir36bvff3x9LOvzp2/dbSFA97bk5I4a9VMD7TXOUcP0uJ+d6emu5d6V1QvMs5nj8FZPx37X/b2TFpzShtnafeP0DipJMFnLnN3/w1OQ7tZgP+pA4VVKcHo0TG36KNULKGt5XsHZmi1APS5WM2Vqg0i7vbsG6YcIznN9vRTxXHavgdxtv6Tc3vc1pAHqdaG6ipwKYprpf1sFp6aH0gRTrxxLubPB2avHu+c/l3mICvqnsr//+Cq+qGrK1Xw/wzbBaRkNvSv3yew9cq+cu89L6nu6F/cMzCgzF1ftANlbe+Otp1IkDVxyVfbo6Z481f3507dhvXfbrk3HpdtjKTNqKuio8678c7mzF6ns6arfMyrVNoA75wMfNU2hKSeCx3Fq7dc+SPfDc39H9Vqn2CT//4bsYeT1PecOJyGSJdh6PZOlbElPZz2PHtlD1cUeS4LT4z5IOihwfNaD5ERm9qxH/dZ7Vmt9M999CtCZbdLUP/p3r2zFQ0paG8lr4Eb6+ZWBcSeq/qhyK6bXUfXOSgtO7/tOb9eT1NveqKttpYbiyXu/euV51JV16/T6e86zyF5TUp731V5Sp+Z7M71h9QvFNWWuvr0Sy4LzLfNvrel6zRX1e+hN2VzrnNlfaYD0xhCs++851lDh3vNV95xe6YvHgb8bwbNcuc+f09wbaUj2dzYgjz93//5kh94t0quCM8OKK6glKKuM0EYHfhUZWd8WwenZa0rLsp6s2YY66o0k9WUvS4NManBaGuo1eDIHgUZ1ePdkntsfFaCz5VZJdStsxyt7ziMNXHEAK5yk1mqmhrMPf1fcp57Vqe3SqZTMEduZhqAZyaywFne0DVHngHTZ11bznE88l/1lBZ9meP8851plWkBCO7drmQvWnL/sY/fKtFaqN3iy6iofsQxNktJnTMgfPXJUz3w3VaP5vOQ7Iyszvy2DczSi+aYFET2jINUEqFcAS4+rV480WlwRWXe07dLa0YGvfl9kmbTvPZJ1TXGvn4t4yuRp+2aMgk27wkm63DIztU3vOVfueC8wK4zKWtK0M+nvJXmOdlt65MgFFCva06qsKz044SvjIiN5TjLaaHxhtNyyouXBGZ1WSn66Ivt+M7pRZAWoZsDq+t2emeM1am/WtHxFG9runrO1/n1CxLK7CilxJM/H4bwuTJJBvWtgvm0gcNu01uvpd8la1soLE7xkpYDea4Ot6W3GOSzRc3o/qHw2M9qmXWA+uw+jbd0hyO9Yz0+vJ9QGcO/8ZV2YUqYVPN8dImXp3aJ/w1XTGGYfKZN+P7IXiXqO1uINLzFOm/Pz+BV4C03PNEqpZl//ELXP1ro8nhLyKLPHMyAiXyvh4cMFZ2uyAJXc62gzgJl1nhrSLMEzcLx+5qQnIhgqv6qhTHC2Zmus1tUuowCVDkRU6j0jgiJqhLPSSq2q7wMtMSBkdbcQWjNCq2nMlRrTnajAPP/t+c5Sj3K8VNueQ+pGzaa2MyOb2sZseW2dpL6ZnjMzfeQFt/Fe3XP2WIfGvRY6a569jCJ9TaIlcCS9KQE5p1TP2VrMbwLNDlZEvpE5AkGxh9f2nLO/QOetytIwAnMf6SfS2ns+jaZ6B4i2sWvSvF0HWOAj/aRGNFAaPXbw2rS2Rzr0T/ChshKNM3qd4135BCaqK9VAKy+lAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/4DBC0k0jFtF9wAAAAASUVORK5CYII=",Kw="3001.0.0",w={k:null,globalOpt:null,gfx:null,game:null,app:null,assets:null,fontCacheCanvas:null,fontCacheC2d:null,debug:null,audio:null,pixelDensity:null,canvas:null,gscale:null,kaSprite:null,boomSprite:null},Yw=f((r={tagsAsComponents:!0})=>{w.k&&(console.warn("KAPLAY already initialized, you are calling kaplay() multiple times, it may lead bugs!"),w.k.quit()),w.globalOpt=r;let t=r.root??document.body;t===document.body&&(document.body.style.width="100%",document.body.style.height="100%",document.body.style.margin="0px",document.documentElement.style.width="100%",document.documentElement.style.height="100%");let i=r.canvas??t.appendChild(document.createElement("canvas"));w.canvas=i;let s=r.scale??1;w.gscale=s;let a=r.width&&r.height&&!r.stretch&&!r.letterbox;a?(i.width=r.width*s,i.height=r.height*s):(i.width=i.parentElement.offsetWidth,i.height=i.parentElement.offsetHeight);let u=["outline: none","cursor: default"];if(a){let pe=i.width,ke=i.height;u.push(`width: ${pe}px`),u.push(`height: ${ke}px`)}else u.push("width: 100%"),u.push("height: 100%");r.crisp&&(u.push("image-rendering: pixelated"),u.push("image-rendering: crisp-edges")),i.style.cssText=u.join(";");let d=r.pixelDensity||1;w.pixelDensity=d,i.width*=d,i.height*=d,i.tabIndex=0;let y=document.createElement("canvas");y.width=256,y.height=256,w.fontCacheCanvas=y;let p=y.getContext("2d",{willReadFrequently:!0});w.fontCacheC2d=p;let g=hw({canvas:i,touchToMouse:r.touchToMouse,gamepads:r.gamepads,pixelDensity:r.pixelDensity,maxFPS:r.maxFPS,buttons:r.buttons});w.app=g;let E=[],C=g.canvas.getContext("webgl",{antialias:!0,depth:!0,stencil:!0,alpha:!0,preserveDrawingBuffer:!0});if(!C)throw new Error("WebGL not supported");let m=C,M=Im(m,{texFilter:r.texFilter}),S=Dw(r,M);w.gfx=S;let D=_w();w.audio=D;let x=Mw(M);w.assets=x;let A=Uw();w.game=A,A.root.use(ua());function N(pe,ke){let Ce=new ia(M,pe,ke);return{clear:f(()=>Ce.clear(),"clear"),free:f(()=>Ce.free(),"free"),toDataURL:f(()=>Ce.toDataURL(),"toDataURL"),toImageData:f(()=>Ce.toImageData(),"toImageData"),width:Ce.width,height:Ce.height,draw:f(be=>{en(),Ce.bind(),be(),en(),Ce.unbind()},"draw"),get fb(){return Ce}}}f(N,"makeCanvas");function _(){m.clear(m.COLOR_BUFFER_BIT),S.frameBuffer.bind(),m.clear(m.COLOR_BUFFER_BIT),S.bgColor||Jn(()=>{So({width:Et(),height:Pt(),quad:new nt(0,0,Et()/64,Pt()/64),tex:S.bgTex,fixed:!0})}),S.renderer.numDraws=0,S.fixed=!1,S.transformStack.length=0,S.transform=new Un}f(_,"frameStart");function K(pe,ke){S.postShader=pe,S.postShaderUniform=ke??null}f(K,"usePostEffect");function W(){en(),S.lastDrawCalls=S.renderer.numDraws,S.frameBuffer.unbind(),m.viewport(0,0,m.drawingBufferWidth,m.drawingBufferHeight);let pe=S.width,ke=S.height;S.width=m.drawingBufferWidth/d,S.height=m.drawingBufferHeight/d,Ss({flipY:!0,tex:S.frameBuffer.tex,pos:new G(S.viewport.x,S.viewport.y),width:S.viewport.width,height:S.viewport.height,shader:S.postShader,uniform:typeof S.postShaderUniform=="function"?S.postShaderUniform():S.postShaderUniform,fixed:!0}),en(),S.width=pe,S.height=ke}f(W,"frameEnd");let P=!1,T={inspect:!1,timeScale:1,showLog:!0,fps:f(()=>g.fps(),"fps"),numFrames:f(()=>g.numFrames(),"numFrames"),stepFrame:Ee,drawCalls:f(()=>S.lastDrawCalls,"drawCalls"),clearLog:f(()=>A.logs=[],"clearLog"),log:f((...pe)=>{let ke=r.logMax??8,Ce=pe.length>1?pe.concat(" ").join(" "):pe[0];A.logs.unshift({msg:Ce,time:g.time()}),A.logs.length>ke&&(A.logs=A.logs.slice(0,ke))},"log"),error:f(pe=>T.log(new Error(pe.toString?pe.toString():pe)),"error"),curRecording:null,numObjects:f(()=>fe("*",{recursive:!0}).length,"numObjects"),get paused(){return P},set paused(pe){P=pe,pe?D.ctx.suspend():D.ctx.resume()}};w.debug=T;function U(pe,ke){try{return JSON.parse(window.localStorage[pe])}catch{return ke?(V(pe,ke),ke):null}}f(U,"getData");function V(pe,ke){window.localStorage[pe]=JSON.stringify(ke)}f(V,"setData");function Y(pe,...ke){let Ce=pe(Rt),be;typeof Ce=="function"?be=Ce(...ke)(Rt):be=Ce;for(let Ze in be)Rt[Ze]=be[Ze],r.global!==!1&&(window[Ze]=be[Ze]);return Rt}f(Y,"plug");function te(pe){let ke=g.canvas.captureStream(pe),Ce=D.ctx.createMediaStreamDestination();D.masterNode.connect(Ce);let be=new MediaRecorder(ke),Ze=[];return be.ondataavailable=Ie=>{Ie.data.size>0&&Ze.push(Ie.data)},be.onerror=()=>{D.masterNode.disconnect(Ce),ke.getTracks().forEach(Ie=>Ie.stop())},be.start(),{resume(){be.resume()},pause(){be.pause()},stop(){return be.stop(),D.masterNode.disconnect(Ce),ke.getTracks().forEach(Ie=>Ie.stop()),new Promise(Ie=>{be.onstop=()=>{Ie(new Blob(Ze,{type:"video/mp4"}))}})},download(Ie="kaboom.mp4"){this.stop().then(rt=>Ac(Ie,rt))}}}f(te,"record");function oe(){return document.activeElement===g.canvas}f(oe,"isFocused");let ge=A.root.add.bind(A.root),ve=A.root.readd.bind(A.root),Se=A.root.removeAll.bind(A.root),fe=A.root.get.bind(A.root),ue=A.root.wait.bind(A.root),Z=A.root.loop.bind(A.root),re=A.root.query.bind(A.root),$=A.root.tween.bind(A.root),B=Xi(null,Qw),b=Xi(null,Ww);w.kaSprite=B,w.boomSprite=b;function we(){A.root.fixedUpdate()}f(we,"fixedUpdateFrame");function Ee(){A.root.update()}f(Ee,"updateFrame");const sn=class sn{constructor(ke,Ce,be,Ze,Ie=!1){q(this,"source");q(this,"target");q(this,"normal");q(this,"distance");q(this,"resolved",!1);this.source=ke,this.target=Ce,this.normal=be,this.distance=Ze,this.resolved=Ie}get displacement(){return this.normal.scale(this.distance)}reverse(){return new sn(this.target,this.source,this.normal.scale(-1),this.distance,this.resolved)}hasOverlap(){return!this.displacement.isZero()}isLeft(){return this.displacement.cross(A.gravity||z(0,1))>0}isRight(){return this.displacement.cross(A.gravity||z(0,1))<0}isTop(){return this.displacement.dot(A.gravity||z(0,1))>0}isBottom(){return this.displacement.dot(A.gravity||z(0,1))<0}preventResolution(){this.resolved=!0}};f(sn,"Collision");let Me=sn;function Pe(){if(!j0())return;let pe={},ke=r.hashGridSize||64,Ce=new Un,be=[];function Ze(Ie){if(be.push(Ce.clone()),Ie.pos&&Ce.translate(Ie.pos),Ie.scale&&Ce.scale(Ie.scale),Ie.angle&&Ce.rotate(Ie.angle),Ie.transform=Ce.clone(),Ie.c("area")&&!Ie.paused){let rt=Ie,Tt=rt.worldArea().bbox(),Vr=Math.floor(Tt.pos.x/ke),yi=Math.floor(Tt.pos.y/ke),Hr=Math.ceil((Tt.pos.x+Tt.width)/ke),Gr=Math.ceil((Tt.pos.y+Tt.height)/ke),or=new Set;for(let Dt=Vr;Dt<=Hr;Dt++)for(let Lt=yi;Lt<=Gr;Lt++)if(!pe[Dt])pe[Dt]={},pe[Dt][Lt]=[rt];else if(!pe[Dt][Lt])pe[Dt][Lt]=[rt];else{let zn=pe[Dt][Lt];e:for(let ft of zn){if(ft.paused||!ft.exists()||or.has(ft.id))continue;for(let yn of rt.collisionIgnore)if(ft.is(yn))continue e;for(let yn of ft.collisionIgnore)if(rt.is(yn))continue e;let mn=Rg(rt.worldArea(),ft.worldArea());if(mn){let yn=new Me(rt,ft,mn.normal,mn.distance);rt.trigger("collideUpdate",ft,yn);let sr=yn.reverse();sr.resolved=yn.resolved,ft.trigger("collideUpdate",rt,sr)}or.add(ft.id)}zn.push(rt)}}Ie.children.forEach(Ze),Ce=be.pop()}f(Ze,"checkObj"),Ze(A.root)}f(Pe,"checkFrame");function Be(pe){console.error(pe),D.ctx.suspend();let ke=pe.message??String(pe)??"Unknown error, check console for more info";g.run(()=>{},()=>{_(),Jn(()=>{let Ce=Et(),be=Pt(),Ze={size:36,width:Ce-32*2,letterSpacing:4,lineSpacing:4,font:$l,fixed:!0};tn({width:Ce,height:be,color:qe(0,0,255),fixed:!0});let Ie=br({...Ze,text:"Error",pos:z(32),color:qe(255,128,0),fixed:!0});jr(Ie),Tc({...Ze,text:ke,pos:z(32,32+Ie.height+16),fixed:!0}),Gt(),A.events.trigger("error",pe)}),W()})}f(Be,"handleErr");function De(pe){E.push(pe)}f(De,"onCleanup");function Oe(){A.events.onOnce("frameEnd",()=>{g.quit(),m.clear(m.COLOR_BUFFER_BIT|m.DEPTH_BUFFER_BIT|m.STENCIL_BUFFER_BIT);let pe=m.getParameter(m.MAX_TEXTURE_IMAGE_UNITS);for(let ke=0;ke<pe;ke++)m.activeTexture(m.TEXTURE0+ke),m.bindTexture(m.TEXTURE_2D,null),m.bindTexture(m.TEXTURE_CUBE_MAP,null);m.bindBuffer(m.ARRAY_BUFFER,null),m.bindBuffer(m.ELEMENT_ARRAY_BUFFER,null),m.bindRenderbuffer(m.RENDERBUFFER,null),m.bindFramebuffer(m.FRAMEBUFFER,null),M.destroy(),E.forEach(ke=>ke())})}f(Oe,"quit");let st=!0;g.run(()=>{try{x.loaded&&(T.paused||we(),Pe())}catch(pe){Be(pe)}},(pe,ke)=>{try{pe(),x.loaded||qr()===1&&!st&&(x.loaded=!0,td().forEach(Ce=>A.events.trigger("loadError",...Ce)),A.events.trigger("load")),!x.loaded&&r.loadingScreen!==!1||st?(_(),Nm(),W()):(T.paused||Ee(),Pe(),_(),Bm(),r.debug!==!1&&Fm(),W()),st&&(st=!1),A.events.trigger("frameEnd"),ke()}catch(Ce){Be(Ce)}}),pd(),Dd();let Rt={_k:w,VERSION:Kw,loadRoot:hm,loadProgress:qr,loadSprite:Xi,loadSpriteAtlas:ud,loadSound:Cm,loadMusic:Mm,loadBitmapFont:wm,loadFont:ym,loadShader:Em,loadShaderURL:Sm,loadAseprite:mm,loadPedit:xm,loadBean:gm,loadJSON:fm,load:ra,getSound:ad,getFont:od,getBitmapFont:sd,getSprite:nd,getShader:ld,getAsset:pm,Asset:pn,SpriteData:Or,SoundData:Es,width:Et,height:Pt,center:As,dt:vt,fixedDt:ta,restDt:na,time:g.time,screenshot:g.screenshot,record:te,isFocused:oe,setCursor:g.setCursor,getCursor:g.getCursor,setCursorLocked:g.setCursorLocked,isCursorLocked:g.isCursorLocked,setFullscreen:g.setFullscreen,isFullscreen:g.isFullscreen,isTouchscreen:g.isTouchscreen,onLoad:Ca,onLoadError:d0,onLoading:a0,onResize:u0,onGamepadConnect:g.onGamepadConnect,onGamepadDisconnect:g.onGamepadDisconnect,onError:c0,onCleanup:De,flash:Cd,setCamPos:wd,getCamPos:xd,setCamRot:Sd,getCamRot:kd,setCamScale:Ad,getCamScale:Ed,getCamTransform:Wm,camPos:Ym,camScale:Xm,camFlash:Jm,camRot:Zm,camTransform:Qm,shake:Km,toScreen:la,toWorld:Md,setGravity:h0,getGravity:f0,setGravityDirection:p0,getGravityDirection:Zi,setBackground:om,getBackground:sm,getGamepads:g.getGamepads,getTreeRoot:E0,add:ge,make:Ma,destroy:Fd,destroyAll:Se,get:fe,query:re,readd:ve,pos:ks,scale:Cs,rotate:$0,color:gd,opacity:md,anchor:ca,area:U0,sprite:aa,text:P0,polygon:Hm,rect:vd,circle:bm,uvquad:R0,outline:_m,particles:Vm,body:z0,platformEffector:Q0,surfaceEffector:V0,areaEffector:H0,pointEffector:G0,buoyancyEffector:K0,constantForce:W0,doubleJump:_0,shader:Gm,textInput:b0,timer:ua,fixed:Od,stay:qd,health:N0,lifespan:L0,named:q0,state:O0,z:ey,layer:X0,move:Z0,offscreen:J0,follow:Y0,fadeIn:Um,mask:zm,drawon:jm,raycast:yd,tile:Bd,animate:B0,serializeAnimation:Ld,agent:T0,sentry:F0,patrol:I0,pathfinder:D0,on:Kt,onFixedUpdate:Fw,onUpdate:Bw,onDraw:Nw,onAdd:e0,onDestroy:Lw,onTag:t0,onUntag:bw,onUse:qw,onUnuse:Ow,onClick:jw,onCollide:n0,onCollideUpdate:r0,onCollideEnd:i0,onHover:o0,onHoverUpdate:s0,onHoverEnd:l0,onKeyDown:g.onKeyDown,onKeyPress:g.onKeyPress,onKeyPressRepeat:g.onKeyPressRepeat,onKeyRelease:g.onKeyRelease,onMouseDown:g.onMouseDown,onMousePress:g.onMousePress,onMouseRelease:g.onMouseRelease,onMouseMove:g.onMouseMove,onCharInput:g.onCharInput,onTouchStart:g.onTouchStart,onTouchMove:g.onTouchMove,onTouchEnd:g.onTouchEnd,onScroll:g.onScroll,onHide:g.onHide,onShow:g.onShow,onGamepadButtonDown:g.onGamepadButtonDown,onGamepadButtonPress:g.onGamepadButtonPress,onGamepadButtonRelease:g.onGamepadButtonRelease,onGamepadStick:g.onGamepadStick,onButtonPress:g.onButtonPress,onButtonDown:g.onButtonDown,onButtonRelease:g.onButtonRelease,mousePos:ed,mouseDeltaPos:g.mouseDeltaPos,isKeyDown:g.isKeyDown,isKeyPressed:g.isKeyPressed,isKeyPressedRepeat:g.isKeyPressedRepeat,isKeyReleased:g.isKeyReleased,isMouseDown:g.isMouseDown,isMousePressed:g.isMousePressed,isMouseReleased:g.isMouseReleased,isMouseMoved:g.isMouseMoved,isGamepadButtonPressed:g.isGamepadButtonPressed,isGamepadButtonDown:g.isGamepadButtonDown,isGamepadButtonReleased:g.isGamepadButtonReleased,getGamepadStick:g.getGamepadStick,isButtonPressed:g.isButtonPressed,isButtonDown:g.isButtonDown,isButtonReleased:g.isButtonReleased,setButton:g.setButton,getButton:g.getButton,pressButton:g.pressButton,releaseButton:g.releaseButton,getLastInputDeviceType:g.getLastInputDeviceType,charInputted:g.charInputted,loop:Z,wait:ue,play:m0,setVolume:Rd,getVolume:Td,volume:y0,burp:Pd,audioCtx:D.ctx,Line:on,Rect:Xe,Circle:nn,Ellipse:rr,Point:zv,Polygon:Qt,Vec2:G,Color:Te,Mat4:Un,Quad:nt,RNG:Wp,rand:yt,randi:Oc,randSeed:Qp,vec2:z,rgb:qe,hsl2rgb:bv,quad:at,choose:Xp,chooseMultiple:Yp,shuffle:bc,chance:Kp,lerp:Wt,tween:$,easings:xs,map:Rn,mapc:Gp,wave:qc,deg2rad:ct,rad2deg:Lr,clamp:Dn,evaluateQuadratic:hg,evaluateQuadraticFirstDerivative:fg,evaluateQuadraticSecondDerivative:pg,evaluateBezier:ya,evaluateBezierFirstDerivative:gg,evaluateBezierSecondDerivative:mg,evaluateCatmullRom:yg,evaluateCatmullRomFirstDerivative:vg,curveLengthApproximation:Qc,normalizedCurve:wg,hermite:Mo,cardinal:Kc,catmullRom:vs,bezier:xg,kochanekBartels:Ag,easingSteps:Pg,easingLinear:Cg,easingCubicBezier:Mg,testLineLine:da,testRectRect:jc,testRectLine:ha,testRectPoint:Ms,testCirclePolygon:Rs,testLinePoint:fa,testLineCircle:Co,isConvex:Bg,triangulate:Xc,NavMesh:kw,drawSprite:qm,drawText:Tc,formatText:br,drawRect:tn,drawLine:Ki,drawLines:ka,drawTriangle:hd,drawCircle:mi,drawEllipse:cd,drawUVQuad:So,drawPolygon:tr,drawCurve:dd,drawBezier:Dm,drawFormattedText:jr,drawMasked:Lm,drawSubtracted:Om,pushTransform:$t,popTransform:Gt,pushTranslate:tt,pushScale:Eo,pushRotate:hi,pushMatrix:lm,usePostEffect:K,makeCanvas:N,debug:T,scene:S0,getSceneName:M0,go:k0,onSceneLeave:C0,layers:A0,getLayers:w0,setLayers:Id,getDefaultLayer:x0,addLevel:$m,getData:U,setData:V,download:va,downloadJSON:Og,downloadText:Zc,downloadBlob:Ac,plug:Y,ASCII_CHARS:jg,canvas:g.canvas,addKaboom:v0,LEFT:G.LEFT,RIGHT:G.RIGHT,UP:G.UP,DOWN:G.DOWN,RED:Te.RED,GREEN:Te.GREEN,BLUE:Te.BLUE,YELLOW:Te.YELLOW,MAGENTA:Te.MAGENTA,CYAN:Te.CYAN,WHITE:Te.WHITE,BLACK:Te.BLACK,quit:Oe,KEvent:Ht,KEventHandler:ws,KEventController:fi,cancel:f(()=>zg,"cancel")};w.k=Rt;let _r=r.plugins;if(_r&&_r.forEach(Y),r.global!==!1)for(let pe in Rt)window[pe]=Rt[pe];return r.focus!==!1&&g.canvas.focus(),Rt},"kaplay"),Xw=Yw;function Zw(){return Xw({global:!1,pixelDensity:2,touchToMouse:!0,debug:!0,debugkey:"f1",canvas:document.getElementById("game")})}async function Jw(){const r=await(await fetch("./configs/generalData.json")).json(),t=await(await fetch("./configs/socialsData.json")).json(),i=await(await fetch("./configs/skillsData.json")).json();await(await fetch("./configs/creditsData.json")).json();const s=await(await fetch("./configs/experiencesData.json")).json(),a=await(await fetch("./configs/projectsData.json")).json(),u=Zw();u.loadFont("ibm-regular","./fonts/IBMPlexSans-Regular.ttf"),u.loadFont("ibm-bold","./fonts/IBMPlexSans-Bold.ttf"),u.loadSprite("github-logo","./logos/github-logo.png"),u.loadSprite("linkedin-logo","./logos/linkedin-logo.png"),u.loadSprite("youtube-logo","./logos/youtube-logo.png"),u.loadSprite("x-logo","./logos/x-logo.png"),u.loadSprite("substack-logo","./logos/substack-logo.png"),u.loadSprite("javascript-logo","./logos/js-logo.png"),u.loadSprite("phaser-logo","./logos/phaser-logo.png"),u.loadSprite("bootstrap-logo","./logos/bootstrap-logo.png"),u.loadSprite("mongodb-logo","./logos/mongodb-logo.png"),u.loadSprite("nodejs-logo","./logos/nodejs-logo.png"),u.loadSprite("mernstack-logo","./logos/mernstack-logo.png"),u.loadSprite("typescript-logo","./logos/ts-logo.png"),u.loadSprite("react-logo","./logos/react-logo.png"),u.loadSprite("nextjs-logo","./logos/nextjs-logo.png"),u.loadSprite("postgres-logo","./logos/postgres-logo.png"),u.loadSprite("html-logo","./logos/html-logo.png"),u.loadSprite("css-logo","./logos/css-logo.png"),u.loadSprite("tailwind-logo","./logos/tailwind-logo.png"),u.loadSprite("python-logo","./logos/python-logo.png"),u.loadSprite("email-logo","./logos/email-logo.png"),u.loadSprite("Api","./logos/Api.png"),u.loadSprite("sonic-js","./projects/sonic-js.png"),u.loadSprite("kirby-ts","./projects/kirby-ts.png"),u.loadSprite("platformer-js","./projects/platformer-js.png"),u.loadSprite("wip","./projects/wip.png"),u.loadSound("walk","./sounds/walk.wav"),u.loadSound("collision","./sounds/collision.ogg"),u.loadSprite("star-sprite","./sprites/Star.png",{sliceX:13,sliceY:1,anims:{spin:{from:0,to:12,speed:5,loop:!0}}}),u.loadShaderURL("tiledPattern",null,"shaders/tiledPattern.frag");const d=()=>({width:Math.max(document.documentElement.clientWidth||0,window.innerWidth||0),height:Math.max(document.documentElement.clientHeight||0,window.innerHeight||0)}),y=()=>{const{width:E,height:C}=d();E<1e3?(Ue.set(hs,Math.min(E/1e3*.5,.5)),u.setCamScale(u.vec2(Ue.get(hs)))):(Ue.set(hs,.8),u.setCamScale(u.vec2(.8)))};y(),window.addEventListener("resize",y),window.addEventListener("orientationchange",y),u.onUpdate(()=>{const E=Ue.get(hs);E!==u.getCamScale().x&&u.setCamScale(u.vec2(E))}),y(),window.addEventListener("resize",y),window.addEventListener("orientationchange",y);const p=u.add([u.uvquad(d().width,d().height),u.shader("tiledPattern",()=>({u_time:u.time()/25,u_color1:u.Color.fromHex(ut.color3),u_color2:u.Color.fromHex(ut.color2),u_speed:u.vec2(.5,-1),u_aspect:d().width/d().height,u_size:5})),u.pos(0),u.z(0),u.fixed()]),g=()=>{const{width:E,height:C}=d();p.width=E,p.height=C,p.uniform.u_aspect=E/C};window.addEventListener("resize",g),window.addEventListener("orientationchange",g),u.onResize(g),g(),Vi(u,u.vec2(u.center().x,u.center().y-450),r.section1Name,E=>{const C=E.add([u.pos(-805,-700),u.opacity(0)]);C.add([u.text(r.header.title,{font:"ibm-bold",size:88}),u.color(u.Color.fromHex(ut.color1)),u.pos(395,0),u.opacity(0)]),C.add([u.text(r.header.subtitle,{font:"ibm-bold",size:48}),u.color(u.Color.fromHex(ut.color1)),u.pos(485,100),u.opacity(0)]);const m=C.add([u.pos(130,0),u.opacity(0)]);for(const M of t){if(M.name==="Email"){Dv(u,m,u.vec2(M.pos.x,M.pos.y),M.imageData,M.name,M.email);continue}Bv(u,m,u.vec2(M.pos.x,M.pos.y),M.imageData,M.name,M.link,M.description)}Pr(u,C),Pr(u,m)}),Vi(u,u.vec2(u.center().x-450,u.center().y),r.section2Name,E=>{const C=E.add([u.opacity(0),u.pos(-300,0)]);for(const m of i)Fv(u,C,u.vec2(m.pos.x,m.pos.y),m.logoData,m.name);Pr(u,C)}),Vi(u,u.vec2(u.center().x+450,u.center().y),r.section3Name,E=>{const C=E.add([u.opacity(0),u.pos(0)]);for(const m of s)Nv(u,C,u.vec2(m.pos.x,m.pos.y),m.cardHeight,m.roleData);Pr(u,C)}),Vi(u,u.vec2(u.center().x,u.center().y+400),r.section4Name,E=>{const C=E.add([u.opacity(0),u.pos(0,0)]);for(const m of a)Iv(u,C,u.vec2(m.pos.x,m.pos.y),m.data,m.thumbnail);Pr(u,C)}),Vi(u,u.vec2(u.center().x-450,u.center().y-800),"Want a Joke?",async E=>{const C=E.add([u.opacity(0),u.pos(0,0)]);try{const m=await fetch("https://v2.jokeapi.dev/joke/Programming,Pun?blacklistFlags=nsfw,religious,political,racist,sexist,explicit&type=twopart");if(!m.ok)throw new Error("Failed to fetch joke");const M=await m.json();Ue.set(Xl,{setup:"Why did the programmer quit his job?",delivery:"Because he didn't get arrays!"});const S=C.add([u.circle(30),u.area(),u.color(u.Color.fromHex(ut.color1)),u.pos(0,0),u.opacity(0)]);S.onCollide("player",()=>{Ue.set(ms,!0)}),er(C,[S]),Pr(u,C)}catch(m){console.error("Error fetching joke:",m),Ue.set(Xl,{setup:"Looks like our joke API is taking a coffee break! ☕",delivery:"But here's a classic: Why do programmers prefer dark mode? Because light attracts bugs! 🐛"});const M=C.add([u.circle(30),u.area(),u.color(u.Color.fromHex(ut.color1)),u.pos(0,0),u.opacity(0)]);M.onCollide("player",()=>{Ue.set(ms,!0)}),er(C,[M]),Pr(u,C)}}),Vi(u,u.vec2(u.center().x+550,u.center().y-750),"Credits",async E=>{const C=E.add([u.opacity(0),u.pos(0,0)]);try{const m=await(await fetch("./configs/creditsData.json")).json();Ue.set(Hp,m);const M=C.add([u.circle(30),u.area(),u.color(u.Color.fromHex(ut.color1)),u.pos(0,0),u.opacity(0)]);M.onCollide("player",()=>{Ue.set(Zl,!0)}),er(C,[M]),Pr(u,C)}catch(m){console.error("Error loading credits:",m)}}),Lv(u,u.vec2(u.center()),700)}const $w=document.getElementById("ui"),ex=sv.createRoot($w);ex.render(ce.jsx(Tn.StrictMode,{children:ce.jsx(gv,{store:Ue,children:ce.jsx(Tv,{})})}));Jw();
